var eR=Object.defineProperty;var Ug=t=>{throw TypeError(t)};var tR=(t,e,n)=>e in t?eR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ti=(t,e,n)=>tR(t,typeof e!="symbol"?e+"":e,n),Fu=(t,e,n)=>e.has(t)||Ug("Cannot "+n);var L=(t,e,n)=>(Fu(t,e,"read from private field"),n?n.call(t):e.get(t)),Pe=(t,e,n)=>e.has(t)?Ug("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),be=(t,e,n,r)=>(Fu(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),vt=(t,e,n)=>(Fu(t,e,"access private method"),n);var Wa=(t,e,n,r)=>({set _(i){be(t,e,i,n)},get _(){return L(t,e,r)}});import{r as m,a as qr,b as H,c as Tc,R as Ks,g as nR,d as Ct,e as nx}from"./vendor-B5p8kNsH.js";import{u as bp,L as Vg,a as rR,B as iR,R as sR,b as lo}from"./router-Br9h97EU.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var rx={exports:{}},Pc={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oR=m,aR=Symbol.for("react.element"),lR=Symbol.for("react.fragment"),cR=Object.prototype.hasOwnProperty,uR=oR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dR={key:!0,ref:!0,__self:!0,__source:!0};function ix(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)cR.call(e,r)&&!dR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:aR,type:t,key:s,ref:o,props:i,_owner:uR.current}}Pc.Fragment=lR;Pc.jsx=ix;Pc.jsxs=ix;rx.exports=Pc;var p=rx.exports,sx,zg=qr;sx=zg.createRoot,zg.hydrateRoot;const hR=1,fR=1e6;let Bu=0;function pR(){return Bu=(Bu+1)%Number.MAX_SAFE_INTEGER,Bu.toString()}const Uu=new Map,Hg=t=>{if(Uu.has(t))return;const e=setTimeout(()=>{Uu.delete(t),Fo({type:"REMOVE_TOAST",toastId:t})},fR);Uu.set(t,e)},mR=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,hR)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Hg(n):t.toasts.forEach(r=>{Hg(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Rl=[];let Il={toasts:[]};function Fo(t){Il=mR(Il,t),Rl.forEach(e=>{e(Il)})}function gR({...t}){const e=pR(),n=i=>Fo({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Fo({type:"DISMISS_TOAST",toastId:e});return Fo({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Mi(){const[t,e]=m.useState(Il);return m.useEffect(()=>(Rl.push(e),()=>{const n=Rl.indexOf(e);n>-1&&Rl.splice(n,1)}),[t]),{...t,toast:gR,dismiss:n=>Fo({type:"DISMISS_TOAST",toastId:n})}}function te(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function vR(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Oi(...t){return e=>t.forEach(n=>vR(n,e))}function Re(...t){return m.useCallback(Oi(...t),t)}function yR(t,e=[]){let n=[];function r(s,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(d){const{scope:h,children:f,...v}=d,g=(h==null?void 0:h[t][l])||a,y=m.useMemo(()=>v,Object.values(v));return p.jsx(g.Provider,{value:y,children:f})}function u(d,h){const f=(h==null?void 0:h[t][l])||a,v=m.useContext(f);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,bR(i,...e)]}function bR(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var fh=m.forwardRef((t,e)=>{const{children:n,...r}=t,i=m.Children.toArray(n),s=i.find(xR);if(s){const o=s.props.children,a=i.map(l=>l===s?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return p.jsx(ph,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return p.jsx(ph,{...r,ref:e,children:n})});fh.displayName="Slot";var ph=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const i=SR(n);return m.cloneElement(n,{..._R(r,n.props),ref:e?Oi(e,i):i})}return m.Children.count(n)>1?m.Children.only(null):null});ph.displayName="SlotClone";var wR=({children:t})=>p.jsx(p.Fragment,{children:t});function xR(t){return m.isValidElement(t)&&t.type===wR}function _R(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function SR(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ac(t){const e=t+"CollectionProvider",[n,r]=yR(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:v,children:g}=f,y=H.useRef(null),b=H.useRef(new Map).current;return p.jsx(i,{scope:v,itemMap:b,collectionRef:y,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=H.forwardRef((f,v)=>{const{scope:g,children:y}=f,b=s(a,g),x=Re(v,b.collectionRef);return p.jsx(fh,{ref:x,children:y})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",d=H.forwardRef((f,v)=>{const{scope:g,children:y,...b}=f,x=H.useRef(null),w=Re(v,x),_=s(c,g);return H.useEffect(()=>(_.itemMap.set(x,{ref:x,...b}),()=>void _.itemMap.delete(x))),p.jsx(fh,{[u]:"",ref:w,children:y})});d.displayName=c;function h(f){const v=s(t+"CollectionConsumer",f);return H.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${u}]`));return Array.from(v.itemMap.values()).sort((_,C)=>b.indexOf(_.ref.current)-b.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},h,r]}function Gs(t,e=[]){let n=[];function r(s,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var b;const{scope:h,children:f,...v}=d,g=((b=h==null?void 0:h[t])==null?void 0:b[l])||a,y=m.useMemo(()=>v,Object.values(v));return p.jsx(g.Provider,{value:y,children:f})};c.displayName=s+"Provider";function u(d,h){var g;const f=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,v=m.useContext(f);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,CR(i,...e)]}function CR(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ox=m.forwardRef((t,e)=>{const{children:n,...r}=t,i=m.Children.toArray(n),s=i.find(ER);if(s){const o=s.props.children,a=i.map(l=>l===s?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return p.jsx(mh,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return p.jsx(mh,{...r,ref:e,children:n})});ox.displayName="Slot";var mh=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const i=PR(n);return m.cloneElement(n,{...TR(r,n.props),ref:e?Oi(e,i):i})}return m.Children.count(n)>1?m.Children.only(null):null});mh.displayName="SlotClone";var kR=({children:t})=>p.jsx(p.Fragment,{children:t});function ER(t){return m.isValidElement(t)&&t.type===kR}function TR(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function PR(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var AR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ce=AR.reduce((t,e)=>{const n=m.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?ox:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function wp(t,e){t&&qr.flushSync(()=>t.dispatchEvent(e))}function Ye(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function RR(t,e=globalThis==null?void 0:globalThis.document){const n=Ye(t);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var IR="DismissableLayer",gh="dismissableLayer.update",NR="dismissableLayer.pointerDownOutside",jR="dismissableLayer.focusOutside",Wg,ax=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rc=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(ax),[u,d]=m.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=m.useState({}),v=Re(e,k=>d(k)),g=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(y),x=u?g.indexOf(u):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,_=x>=b,C=OR(k=>{const T=k.target,N=[...c.branches].some(A=>A.contains(T));!_||N||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},h),S=DR(k=>{const T=k.target;[...c.branches].some(A=>A.contains(T))||(s==null||s(k),o==null||o(k),k.defaultPrevented||a==null||a())},h);return RR(k=>{x===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Wg=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),qg(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Wg)}},[u,h,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),qg())},[u,c]),m.useEffect(()=>{const k=()=>f({});return document.addEventListener(gh,k),()=>document.removeEventListener(gh,k)},[]),p.jsx(Ce.div,{...l,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...t.style},onFocusCapture:te(t.onFocusCapture,S.onFocusCapture),onBlurCapture:te(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:te(t.onPointerDownCapture,C.onPointerDownCapture)})});Rc.displayName=IR;var MR="DismissableLayerBranch",lx=m.forwardRef((t,e)=>{const n=m.useContext(ax),r=m.useRef(null),i=Re(e,r);return m.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx(Ce.div,{...t,ref:i})});lx.displayName=MR;function OR(t,e=globalThis==null?void 0:globalThis.document){const n=Ye(t),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){cx(NR,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function DR(t,e=globalThis==null?void 0:globalThis.document){const n=Ye(t),r=m.useRef(!1);return m.useEffect(()=>{const i=s=>{s.target&&!r.current&&cx(jR,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function qg(){const t=new CustomEvent(gh);document.dispatchEvent(t)}function cx(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?wp(i,s):i.dispatchEvent(s)}var $R=Rc,LR=lx,ir=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},FR="Portal",xp=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=m.useState(!1);ir(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Tc.createPortal(p.jsx(Ce.div,{...r,ref:e}),o):null});xp.displayName=FR;function BR(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var wn=t=>{const{present:e,children:n}=t,r=UR(e),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),s=Re(r.ref,VR(i));return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:s}):null};wn.displayName="Presence";function UR(t){const[e,n]=m.useState(),r=m.useRef({}),i=m.useRef(t),s=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=BR(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=qa(r.current);s.current=a==="mounted"?c:"none"},[a]),ir(()=>{const c=r.current,u=i.current;if(u!==t){const h=s.current,f=qa(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),ir(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=f=>{const g=qa(r.current).includes(f.animationName);if(f.target===e&&g&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},h=f=>{f.target===e&&(s.current=qa(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function qa(t){return(t==null?void 0:t.animationName)||"none"}function VR(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ic({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=zR({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Ye(n),l=m.useCallback(c=>{if(s){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else i(c)},[s,t,i,a]);return[o,l]}function zR({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,i=m.useRef(r),s=Ye(e);return m.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var HR="VisuallyHidden",Nc=m.forwardRef((t,e)=>p.jsx(Ce.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Nc.displayName=HR;var WR=Nc,_p="ToastProvider",[Sp,qR,KR]=Ac("Toast"),[ux,vJ]=Gs("Toast",[KR]),[GR,jc]=ux(_p),dx=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),d=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${_p}\`. Expected non-empty \`string\`.`),p.jsx(Sp.Provider,{scope:e,children:p.jsx(GR,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(f=>f+1),[]),onToastRemove:m.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};dx.displayName=_p;var hx="ToastViewport",YR=["F8"],vh="toast.viewportPause",yh="toast.viewportResume",fx=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=YR,label:i="Notifications ({hotkey})",...s}=t,o=jc(hx,n),a=qR(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),h=Re(e,d,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;m.useEffect(()=>{const y=b=>{var w;r.length!==0&&r.every(_=>b[_]||b.code===_)&&((w=d.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),m.useEffect(()=>{const y=l.current,b=d.current;if(v&&y&&b){const x=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(vh);b.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(yh);b.dispatchEvent(S),o.isClosePausedRef.current=!1}},_=S=>{!y.contains(S.relatedTarget)&&w()},C=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",x),y.addEventListener("focusout",_),y.addEventListener("pointermove",x),y.addEventListener("pointerleave",C),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",x),y.removeEventListener("focusout",_),y.removeEventListener("pointermove",x),y.removeEventListener("pointerleave",C),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[v,o.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:y})=>{const x=a().map(w=>{const _=w.ref.current,C=[_,...l2(_)];return y==="forwards"?C:C.reverse()});return(y==="forwards"?x.reverse():x).flat()},[a]);return m.useEffect(()=>{const y=d.current;if(y){const b=x=>{var C,S,k;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const T=document.activeElement,N=x.shiftKey;if(x.target===y&&N){(C=c.current)==null||C.focus();return}const M=g({tabbingDirection:N?"backwards":"forwards"}),V=M.findIndex(D=>D===T);Vu(M.slice(V+1))?x.preventDefault():N?(S=c.current)==null||S.focus():(k=u.current)==null||k.focus()}};return y.addEventListener("keydown",b),()=>y.removeEventListener("keydown",b)}},[a,g]),p.jsxs(LR,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&p.jsx(bh,{ref:c,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});Vu(y)}}),p.jsx(Sp.Slot,{scope:n,children:p.jsx(Ce.ol,{tabIndex:-1,...s,ref:h})}),v&&p.jsx(bh,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});Vu(y)}})]})});fx.displayName=hx;var px="ToastFocusProxy",bh=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=jc(px,n);return p.jsx(Nc,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});bh.displayName=px;var Mc="Toast",XR="toast.swipeStart",JR="toast.swipeMove",QR="toast.swipeCancel",ZR="toast.swipeEnd",mx=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=Ic({prop:r,defaultProp:i,onChange:s});return p.jsx(wn,{present:n||a,children:p.jsx(n2,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Ye(t.onPause),onResume:Ye(t.onResume),onSwipeStart:te(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:te(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:te(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:te(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});mx.displayName=Mc;var[e2,t2]=ux(Mc,{onClose(){}}),n2=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...v}=t,g=jc(Mc,n),[y,b]=m.useState(null),x=Re(e,D=>b(D)),w=m.useRef(null),_=m.useRef(null),C=i||g.duration,S=m.useRef(0),k=m.useRef(C),T=m.useRef(0),{onToastAdd:N,onToastRemove:A}=g,j=Ye(()=>{var B;(y==null?void 0:y.contains(document.activeElement))&&((B=g.viewport)==null||B.focus()),o()}),M=m.useCallback(D=>{!D||D===1/0||(window.clearTimeout(T.current),S.current=new Date().getTime(),T.current=window.setTimeout(j,D))},[j]);m.useEffect(()=>{const D=g.viewport;if(D){const B=()=>{M(k.current),c==null||c()},F=()=>{const U=new Date().getTime()-S.current;k.current=k.current-U,window.clearTimeout(T.current),l==null||l()};return D.addEventListener(vh,F),D.addEventListener(yh,B),()=>{D.removeEventListener(vh,F),D.removeEventListener(yh,B)}}},[g.viewport,C,l,c,M]),m.useEffect(()=>{s&&!g.isClosePausedRef.current&&M(C)},[s,C,g.isClosePausedRef,M]),m.useEffect(()=>(N(),()=>A()),[N,A]);const V=m.useMemo(()=>y?_x(y):null,[y]);return g.viewport?p.jsxs(p.Fragment,{children:[V&&p.jsx(r2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),p.jsx(e2,{scope:n,onClose:j,children:qr.createPortal(p.jsx(Sp.ItemSlot,{scope:n,children:p.jsx($R,{asChild:!0,onEscapeKeyDown:te(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||j(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Ce.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:te(t.onKeyDown,D=>{D.key==="Escape"&&(a==null||a(D.nativeEvent),D.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:te(t.onPointerDown,D=>{D.button===0&&(w.current={x:D.clientX,y:D.clientY})}),onPointerMove:te(t.onPointerMove,D=>{if(!w.current)return;const B=D.clientX-w.current.x,F=D.clientY-w.current.y,U=!!_.current,I=["left","right"].includes(g.swipeDirection),R=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,E=I?R(0,B):0,q=I?0:R(0,F),z=D.pointerType==="touch"?10:2,P={x:E,y:q},Z={originalEvent:D,delta:P};U?(_.current=P,Ka(JR,d,Z,{discrete:!1})):Kg(P,g.swipeDirection,z)?(_.current=P,Ka(XR,u,Z,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(B)>z||Math.abs(F)>z)&&(w.current=null)}),onPointerUp:te(t.onPointerUp,D=>{const B=_.current,F=D.target;if(F.hasPointerCapture(D.pointerId)&&F.releasePointerCapture(D.pointerId),_.current=null,w.current=null,B){const U=D.currentTarget,I={originalEvent:D,delta:B};Kg(B,g.swipeDirection,g.swipeThreshold)?Ka(ZR,f,I,{discrete:!0}):Ka(QR,h,I,{discrete:!0}),U.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),r2=t=>{const{__scopeToast:e,children:n,...r}=t,i=jc(Mc,e),[s,o]=m.useState(!1),[a,l]=m.useState(!1);return o2(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(xp,{asChild:!0,children:p.jsx(Nc,{...r,children:s&&p.jsxs(p.Fragment,{children:[i.label," ",n]})})})},i2="ToastTitle",gx=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Ce.div,{...r,ref:e})});gx.displayName=i2;var s2="ToastDescription",vx=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Ce.div,{...r,ref:e})});vx.displayName=s2;var yx="ToastAction",bx=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(xx,{altText:n,asChild:!0,children:p.jsx(Cp,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${yx}\`. Expected non-empty \`string\`.`),null)});bx.displayName=yx;var wx="ToastClose",Cp=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=t2(wx,n);return p.jsx(xx,{asChild:!0,children:p.jsx(Ce.button,{type:"button",...r,ref:e,onClick:te(t.onClick,i.onClose)})})});Cp.displayName=wx;var xx=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return p.jsx(Ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function _x(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),a2(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(..._x(r))}}),e}function Ka(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?wp(i,s):i.dispatchEvent(s)}var Kg=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function o2(t=()=>{}){const e=Ye(t);ir(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function a2(t){return t.nodeType===t.ELEMENT_NODE}function l2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Vu(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var c2=dx,Sx=fx,Cx=mx,kx=gx,Ex=vx,Tx=bx,Px=Cp;function Ax(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Ax(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Rx(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Ax(t))&&(r&&(r+=" "),r+=e);return r}const Gg=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Yg=Rx,Ca=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Yg(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const h=Gg(u)||Gg(d);return i[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(v=>{let[g,y]=v;return Array.isArray(y)?y.includes({...s,...a}[g]):{...s,...a}[g]===y})?[...c,d,h]:c},[]);return Yg(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d2=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Xg=t=>{const e=d2(t);return e.charAt(0).toUpperCase()+e.slice(1)},Ix=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),h2=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...f2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Ix("lucide",i),...!s&&!h2(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,u])=>m.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(t,e)=>{const n=m.forwardRef(({className:r,...i},s)=>m.createElement(p2,{ref:s,iconNode:e,className:Ix(`lucide-${u2(Xg(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Xg(t),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Oc=ue("arrow-left",m2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],v2=ue("arrow-right",g2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],b2=ue("arrow-up",y2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],x2=ue("badge-check",w2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],S2=ue("bot",_2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Nx=ue("check",C2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kp=ue("chevron-down",k2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],T2=ue("chevron-right",E2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],A2=ue("chevron-up",P2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],I2=ue("circle-question-mark",R2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],j2=ue("circle",N2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],O2=ue("clock",M2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],$2=ue("coins",D2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],F2=ue("copy",L2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],wh=ue("crown",B2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Jg=ue("database",U2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],z2=ue("ellipsis-vertical",V2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],jx=ue("eye-off",H2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Mx=ue("eye",W2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],K2=ue("gift",q2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Y2=ue("globe",G2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],J2=ue("key",X2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Z2=ue("link",Q2);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ga=ue("lock",eI);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],nI=ue("log-in",tI);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],iI=ue("log-out",rI);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Qg=ue("mail",sI);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],aI=ue("menu",oI);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],cI=ue("message-circle",lI);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],dI=ue("panel-left-close",uI);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],fI=ue("panel-left-open",hI);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],mI=ue("paperclip",pI);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],vI=ue("phone",gI);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xh=ue("plus",yI);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],wI=ue("rotate-ccw",bI);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Dc=ue("settings",xI);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],SI=ue("share",_I);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],kI=ue("thumbs-down",CI);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],TI=ue("thumbs-up",EI);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],AI=ue("trash-2",PI);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],II=ue("user-plus",RI);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ox=ue("user",NI);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],MI=ue("volume-2",jI);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ka=ue("x",OI);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],$I=ue("zap",DI),Ep="-",LI=t=>{const e=BI(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Ep);return a[0]===""&&a.length!==1&&a.shift(),Dx(a,e)||FI(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Dx=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Dx(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Ep);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},Zg=/^\[(.+)\]$/,FI=t=>{if(Zg.test(t)){const e=Zg.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},BI=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return VI(Object.entries(t.classGroups),n).forEach(([s,o])=>{_h(o,r,s,e)}),r},_h=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:ev(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(UI(i)){_h(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{_h(o,ev(e,s),n,r)})})},ev=(t,e)=>{let n=t;return e.split(Ep).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},UI=t=>t.isThemeGetter,VI=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,zI=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},$x="!",HI=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let y=0;y<a.length;y++){let b=a[y];if(c===0){if(b===i&&(r||a.slice(y,y+s)===e)){l.push(a.slice(u,y)),u=y+s;continue}if(b==="/"){d=y;continue}}b==="["?c++:b==="]"&&c--}const h=l.length===0?a:a.substring(u),f=h.startsWith($x),v=f?h.substring(1):h,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},WI=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},qI=t=>({cache:zI(t.cacheSize),parseClassName:HI(t),...LI(t)}),KI=/\s+/,GI=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(KI);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=n(c);let v=!!f,g=r(v?h.substring(0,f):h);if(!g){if(!v){a=c+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=c+(a.length>0?" "+a:a);continue}v=!1}const y=WI(u).join(":"),b=d?y+$x:y,x=b+g;if(s.includes(x))continue;s.push(x);const w=i(g,v);for(let _=0;_<w.length;++_){const C=w[_];s.push(b+C)}a=c+(a.length>0?" "+a:a)}return a};function YI(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Lx(e))&&(r&&(r+=" "),r+=n);return r}const Lx=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Lx(t[r]))&&(n&&(n+=" "),n+=e);return n};function XI(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=qI(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=GI(l,n);return i(l,u),u}return function(){return s(YI.apply(null,arguments))}}const Fe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Fx=/^\[(?:([a-z-]+):)?(.+)\]$/i,JI=/^\d+\/\d+$/,QI=new Set(["px","full","screen"]),ZI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wn=t=>gs(t)||QI.has(t)||JI.test(t),hr=t=>Ys(t,"length",dN),gs=t=>!!t&&!Number.isNaN(Number(t)),zu=t=>Ys(t,"number",gs),co=t=>!!t&&Number.isInteger(Number(t)),iN=t=>t.endsWith("%")&&gs(t.slice(0,-1)),me=t=>Fx.test(t),fr=t=>ZI.test(t),sN=new Set(["length","size","percentage"]),oN=t=>Ys(t,sN,Bx),aN=t=>Ys(t,"position",Bx),lN=new Set(["image","url"]),cN=t=>Ys(t,lN,fN),uN=t=>Ys(t,"",hN),uo=()=>!0,Ys=(t,e,n)=>{const r=Fx.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},dN=t=>eN.test(t)&&!tN.test(t),Bx=()=>!1,hN=t=>nN.test(t),fN=t=>rN.test(t),pN=()=>{const t=Fe("colors"),e=Fe("spacing"),n=Fe("blur"),r=Fe("brightness"),i=Fe("borderColor"),s=Fe("borderRadius"),o=Fe("borderSpacing"),a=Fe("borderWidth"),l=Fe("contrast"),c=Fe("grayscale"),u=Fe("hueRotate"),d=Fe("invert"),h=Fe("gap"),f=Fe("gradientColorStops"),v=Fe("gradientColorStopPositions"),g=Fe("inset"),y=Fe("margin"),b=Fe("opacity"),x=Fe("padding"),w=Fe("saturate"),_=Fe("scale"),C=Fe("sepia"),S=Fe("skew"),k=Fe("space"),T=Fe("translate"),N=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",me,e],M=()=>[me,e],V=()=>["",Wn,hr],D=()=>["auto",gs,me],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",me],E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[gs,me];return{cacheSize:500,separator:":",theme:{colors:[uo],spacing:[Wn,hr],blur:["none","",fr,me],brightness:q(),borderColor:[t],borderRadius:["none","","full",fr,me],borderSpacing:M(),borderWidth:V(),contrast:q(),grayscale:R(),hueRotate:q(),invert:R(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[iN,hr],inset:j(),margin:j(),opacity:q(),padding:M(),saturate:q(),scale:q(),sepia:R(),skew:q(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[fr]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),me]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",co,me]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",co,me]}],"grid-cols":[{"grid-cols":[uo]}],"col-start-end":[{col:["auto",{span:["full",co,me]},me]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[uo]}],"row-start-end":[{row:["auto",{span:[co,me]},me]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,e]}],"min-w":[{"min-w":[me,e,"min","max","fit"]}],"max-w":[{"max-w":[me,e,"none","full","min","max","fit","prose",{screen:[fr]},fr]}],h:[{h:[me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",fr,hr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zu]}],"font-family":[{font:[uo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",gs,zu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wn,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wn,hr]}],"underline-offset":[{"underline-offset":["auto",Wn,me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),aN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cN]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:F()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Wn,me]}],"outline-w":[{outline:[Wn,hr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Wn,hr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",fr,uN]}],"shadow-color":[{shadow:[uo]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",fr,me]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[co,me]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Wn,hr,zu]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mN=XI(pN);function ee(...t){return mN(Rx(t))}const gN=c2,Ux=m.forwardRef(({className:t,...e},n)=>p.jsx(Sx,{ref:n,className:ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Ux.displayName=Sx.displayName;const vN=Ca("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Vx=m.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(Cx,{ref:r,className:ee(vN({variant:e}),t),...n}));Vx.displayName=Cx.displayName;const yN=m.forwardRef(({className:t,...e},n)=>p.jsx(Tx,{ref:n,className:ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));yN.displayName=Tx.displayName;const zx=m.forwardRef(({className:t,...e},n)=>p.jsx(Px,{ref:n,className:ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(ka,{className:"h-4 w-4"})}));zx.displayName=Px.displayName;const Hx=m.forwardRef(({className:t,...e},n)=>p.jsx(kx,{ref:n,className:ee("text-sm font-semibold",t),...e}));Hx.displayName=kx.displayName;const Wx=m.forwardRef(({className:t,...e},n)=>p.jsx(Ex,{ref:n,className:ee("text-sm opacity-90",t),...e}));Wx.displayName=Ex.displayName;function bN(){const{toasts:t}=Mi();return p.jsxs(gN,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return p.jsxs(Vx,{...s,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(Hx,{children:n}),r&&p.jsx(Wx,{children:r})]}),i,p.jsx(zx,{})]},e)}),p.jsx(Ux,{})]})}var tv=["light","dark"],wN="(prefers-color-scheme: dark)",xN=m.createContext(void 0),_N={setTheme:t=>{},themes:[]},SN=()=>{var t;return(t=m.useContext(xN))!=null?t:_N};m.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=i?tv.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,g=!1,y=!0)=>{let b=o?o[v]:v,x=g?v+"|| ''":`'${b}'`,w="";return i&&y&&!g&&tv.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),n==="class"?g||b?w+=`c.add(${x})`:w+="null":b&&(w+=`d[s](n,${x})`),w},f=t?`!function(){${u}${h(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${wN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${d}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var CN=t=>{switch(t){case"success":return TN;case"info":return AN;case"warning":return PN;case"error":return RN;default:return null}},kN=Array(12).fill(0),EN=({visible:t})=>H.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},H.createElement("div",{className:"sonner-spinner"},kN.map((e,n)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),TN=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),PN=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),AN=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),RN=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),IN=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Sh=1,NN=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Sh++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0;return i.then(async o=>{if(MN(o)&&!o.ok){s=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){s=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){s=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Sh++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},Wt=new NN,jN=(t,e)=>{let n=(e==null?void 0:e.id)||Sh++;return Wt.addToast({title:t,...e,id:n}),n},MN=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",ON=jN,DN=()=>Wt.toasts;Object.assign(ON,{success:Wt.success,info:Wt.info,warning:Wt.warning,error:Wt.error,custom:Wt.custom,message:Wt.message,promise:Wt.promise,dismiss:Wt.dismiss,loading:Wt.loading},{getHistory:DN});function $N(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}$N(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ya(t){return t.label!==void 0}var LN=3,FN="32px",BN=4e3,UN=356,VN=14,zN=20,HN=200;function WN(...t){return t.filter(Boolean).join(" ")}var qN=t=>{var e,n,r,i,s,o,a,l,c,u;let{invert:d,toast:h,unstyled:f,interacting:v,setHeights:g,visibleToasts:y,heights:b,index:x,toasts:w,expanded:_,removeToast:C,defaultRichColors:S,closeButton:k,style:T,cancelButtonStyle:N,actionButtonStyle:A,className:j="",descriptionClassName:M="",duration:V,position:D,gap:B,loadingIcon:F,expandByDefault:U,classNames:I,icons:R,closeButtonAriaLabel:E="Close toast",pauseWhenPageIsHidden:q,cn:z}=t,[P,Z]=H.useState(!1),[pe,ne]=H.useState(!1),[Q,oe]=H.useState(!1),[de,re]=H.useState(!1),[ve,ye]=H.useState(0),[Ne,Qe]=H.useState(0),mt=H.useRef(null),nt=H.useRef(null),gt=x===0,Zr=x+1<=y,$e=h.type,zn=h.dismissible!==!1,Du=h.className||"",$u=h.descriptionClassName||"",Ui=H.useMemo(()=>b.findIndex(se=>se.toastId===h.id)||0,[b,h.id]),Lu=H.useMemo(()=>{var se;return(se=h.closeButton)!=null?se:k},[h.closeButton,k]),za=H.useMemo(()=>h.duration||V||BN,[h.duration,V]),$=H.useRef(0),K=H.useRef(0),le=H.useRef(0),he=H.useRef(null),[Te,Vt]=D.split("-"),_n=H.useMemo(()=>b.reduce((se,Le,Me)=>Me>=Ui?se:se+Le.height,0),[b,Ui]),Qt=IN(),ei=h.invert||d,Hn=$e==="loading";K.current=H.useMemo(()=>Ui*B+_n,[Ui,_n]),H.useEffect(()=>{Z(!0)},[]),H.useLayoutEffect(()=>{if(!P)return;let se=nt.current,Le=se.style.height;se.style.height="auto";let Me=se.getBoundingClientRect().height;se.style.height=Le,Qe(Me),g(Sn=>Sn.find(Cn=>Cn.toastId===h.id)?Sn.map(Cn=>Cn.toastId===h.id?{...Cn,height:Me}:Cn):[{toastId:h.id,height:Me,position:h.position},...Sn])},[P,h.title,h.description,g,h.id]);let We=H.useCallback(()=>{ne(!0),ye(K.current),g(se=>se.filter(Le=>Le.toastId!==h.id)),setTimeout(()=>{C(h)},HN)},[h,C,g,K]);H.useEffect(()=>{if(h.promise&&$e==="loading"||h.duration===1/0||h.type==="loading")return;let se,Le=za;return _||v||q&&Qt?(()=>{if(le.current<$.current){let Me=new Date().getTime()-$.current;Le=Le-Me}le.current=new Date().getTime()})():Le!==1/0&&($.current=new Date().getTime(),se=setTimeout(()=>{var Me;(Me=h.onAutoClose)==null||Me.call(h,h),We()},Le)),()=>clearTimeout(se)},[_,v,U,h,za,We,h.promise,$e,q,Qt]),H.useEffect(()=>{let se=nt.current;if(se){let Le=se.getBoundingClientRect().height;return Qe(Le),g(Me=>[{toastId:h.id,height:Le,position:h.position},...Me]),()=>g(Me=>Me.filter(Sn=>Sn.toastId!==h.id))}},[g,h.id]),H.useEffect(()=>{h.delete&&We()},[We,h.delete]);function dr(){return R!=null&&R.loading?H.createElement("div",{className:"sonner-loader","data-visible":$e==="loading"},R.loading):F?H.createElement("div",{className:"sonner-loader","data-visible":$e==="loading"},F):H.createElement(EN,{visible:$e==="loading"})}return H.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:nt,className:z(j,Du,I==null?void 0:I.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,I==null?void 0:I.default,I==null?void 0:I[$e],(n=h==null?void 0:h.classNames)==null?void 0:n[$e]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:S,"data-styled":!(h.jsx||h.unstyled||f),"data-mounted":P,"data-promise":!!h.promise,"data-removed":pe,"data-visible":Zr,"data-y-position":Te,"data-x-position":Vt,"data-index":x,"data-front":gt,"data-swiping":Q,"data-dismissible":zn,"data-type":$e,"data-invert":ei,"data-swipe-out":de,"data-expanded":!!(_||U&&P),style:{"--index":x,"--toasts-before":x,"--z-index":w.length-x,"--offset":`${pe?ve:K.current}px`,"--initial-height":U?"auto":`${Ne}px`,...T,...h.style},onPointerDown:se=>{Hn||!zn||(mt.current=new Date,ye(K.current),se.target.setPointerCapture(se.pointerId),se.target.tagName!=="BUTTON"&&(oe(!0),he.current={x:se.clientX,y:se.clientY}))},onPointerUp:()=>{var se,Le,Me,Sn;if(de||!zn)return;he.current=null;let Cn=Number(((se=nt.current)==null?void 0:se.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ha=new Date().getTime()-((Le=mt.current)==null?void 0:Le.getTime()),ZA=Math.abs(Cn)/Ha;if(Math.abs(Cn)>=zN||ZA>.11){ye(K.current),(Me=h.onDismiss)==null||Me.call(h,h),We(),re(!0);return}(Sn=nt.current)==null||Sn.style.setProperty("--swipe-amount","0px"),oe(!1)},onPointerMove:se=>{var Le;if(!he.current||!zn)return;let Me=se.clientY-he.current.y,Sn=se.clientX-he.current.x,Cn=(Te==="top"?Math.min:Math.max)(0,Me),Ha=se.pointerType==="touch"?10:2;Math.abs(Cn)>Ha?(Le=nt.current)==null||Le.style.setProperty("--swipe-amount",`${Me}px`):Math.abs(Sn)>Ha&&(he.current=null)}},Lu&&!h.jsx?H.createElement("button",{"aria-label":E,"data-disabled":Hn,"data-close-button":!0,onClick:Hn||!zn?()=>{}:()=>{var se;We(),(se=h.onDismiss)==null||se.call(h,h)},className:z(I==null?void 0:I.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||H.isValidElement(h.title)?h.jsx||h.title:H.createElement(H.Fragment,null,$e||h.icon||h.promise?H.createElement("div",{"data-icon":"",className:z(I==null?void 0:I.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||dr():null,h.type!=="loading"?h.icon||(R==null?void 0:R[$e])||CN($e):null):null,H.createElement("div",{"data-content":"",className:z(I==null?void 0:I.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},H.createElement("div",{"data-title":"",className:z(I==null?void 0:I.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?H.createElement("div",{"data-description":"",className:z(M,$u,I==null?void 0:I.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),H.isValidElement(h.cancel)?h.cancel:h.cancel&&Ya(h.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||N,onClick:se=>{var Le,Me;Ya(h.cancel)&&zn&&((Me=(Le=h.cancel).onClick)==null||Me.call(Le,se),We())},className:z(I==null?void 0:I.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,H.isValidElement(h.action)?h.action:h.action&&Ya(h.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||A,onClick:se=>{var Le,Me;Ya(h.action)&&(se.defaultPrevented||((Me=(Le=h.action).onClick)==null||Me.call(Le,se),We()))},className:z(I==null?void 0:I.actionButton,(u=h==null?void 0:h.classNames)==null?void 0:u.actionButton)},h.action.label):null))};function nv(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var KN=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:c,duration:u,style:d,visibleToasts:h=LN,toastOptions:f,dir:v=nv(),gap:g=VN,loadingIcon:y,icons:b,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:w,cn:_=WN}=t,[C,S]=H.useState([]),k=H.useMemo(()=>Array.from(new Set([n].concat(C.filter(q=>q.position).map(q=>q.position)))),[C,n]),[T,N]=H.useState([]),[A,j]=H.useState(!1),[M,V]=H.useState(!1),[D,B]=H.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=H.useRef(null),U=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=H.useRef(null),R=H.useRef(!1),E=H.useCallback(q=>{var z;(z=C.find(P=>P.id===q.id))!=null&&z.delete||Wt.dismiss(q.id),S(P=>P.filter(({id:Z})=>Z!==q.id))},[C]);return H.useEffect(()=>Wt.subscribe(q=>{if(q.dismiss){S(z=>z.map(P=>P.id===q.id?{...P,delete:!0}:P));return}setTimeout(()=>{Tc.flushSync(()=>{S(z=>{let P=z.findIndex(Z=>Z.id===q.id);return P!==-1?[...z.slice(0,P),{...z[P],...q},...z.slice(P+1)]:[q,...z]})})})}),[]),H.useEffect(()=>{if(l!=="system"){B(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:q})=>{B(q?"dark":"light")})},[l]),H.useEffect(()=>{C.length<=1&&j(!1)},[C]),H.useEffect(()=>{let q=z=>{var P,Z;r.every(pe=>z[pe]||z.code===pe)&&(j(!0),(P=F.current)==null||P.focus()),z.code==="Escape"&&(document.activeElement===F.current||(Z=F.current)!=null&&Z.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[r]),H.useEffect(()=>{if(F.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,R.current=!1)}},[F.current]),C.length?H.createElement("section",{"aria-label":`${x} ${U}`,tabIndex:-1},k.map((q,z)=>{var P;let[Z,pe]=q.split("-");return H.createElement("ol",{key:q,dir:v==="auto"?nv():v,tabIndex:-1,ref:F,className:o,"data-sonner-toaster":!0,"data-theme":D,"data-y-position":Z,"data-x-position":pe,style:{"--front-toast-height":`${((P=T[0])==null?void 0:P.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||FN,"--width":`${UN}px`,"--gap":`${g}px`,...d},onBlur:ne=>{R.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(R.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||R.current||(R.current=!0,I.current=ne.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{M||j(!1)},onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},C.filter(ne=>!ne.position&&z===0||ne.position===q).map((ne,Q)=>{var oe,de;return H.createElement(qN,{key:ne.id,icons:b,index:Q,toast:ne,defaultRichColors:c,duration:(oe=f==null?void 0:f.duration)!=null?oe:u,className:f==null?void 0:f.className,descriptionClassName:f==null?void 0:f.descriptionClassName,invert:e,visibleToasts:h,closeButton:(de=f==null?void 0:f.closeButton)!=null?de:s,interacting:M,position:q,style:f==null?void 0:f.style,unstyled:f==null?void 0:f.unstyled,classNames:f==null?void 0:f.classNames,cancelButtonStyle:f==null?void 0:f.cancelButtonStyle,actionButtonStyle:f==null?void 0:f.actionButtonStyle,removeToast:E,toasts:C.filter(re=>re.position==ne.position),heights:T.filter(re=>re.position==ne.position),setHeights:N,expandByDefault:i,gap:g,loadingIcon:y,expanded:A,pauseWhenPageIsHidden:w,cn:_})}))})):null};const GN=({...t})=>{const{theme:e="system"}=SN();return p.jsx(KN,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var YN=Ks.useId||(()=>{}),XN=0;function Ch(t){const[e,n]=m.useState(YN());return ir(()=>{n(r=>r??String(XN++))},[t]),e?`radix-${e}`:""}const JN=["top","right","bottom","left"],Lr=Math.min,qt=Math.max,Vl=Math.round,Xa=Math.floor,Fr=t=>({x:t,y:t}),QN={left:"right",right:"left",bottom:"top",top:"bottom"},ZN={start:"end",end:"start"};function kh(t,e,n){return qt(t,Lr(e,n))}function sr(t,e){return typeof t=="function"?t(e):t}function or(t){return t.split("-")[0]}function Xs(t){return t.split("-")[1]}function Tp(t){return t==="x"?"y":"x"}function Pp(t){return t==="y"?"height":"width"}function Br(t){return["top","bottom"].includes(or(t))?"y":"x"}function Ap(t){return Tp(Br(t))}function ej(t,e,n){n===void 0&&(n=!1);const r=Xs(t),i=Ap(t),s=Pp(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=zl(o)),[o,zl(o)]}function tj(t){const e=zl(t);return[Eh(t),e,Eh(e)]}function Eh(t){return t.replace(/start|end/g,e=>ZN[e])}function nj(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function rj(t,e,n,r){const i=Xs(t);let s=nj(or(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Eh)))),s}function zl(t){return t.replace(/left|right|bottom|top/g,e=>QN[e])}function ij(t){return{top:0,right:0,bottom:0,left:0,...t}}function qx(t){return typeof t!="number"?ij(t):{top:t,right:t,bottom:t,left:t}}function Hl(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function rv(t,e,n){let{reference:r,floating:i}=t;const s=Br(e),o=Ap(e),a=Pp(o),l=or(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Xs(e)){case"start":f[o]-=h*(n&&c?-1:1);break;case"end":f[o]+=h*(n&&c?-1:1);break}return f}const sj=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=rv(c,r,l),h=r,f={},v=0;for(let g=0;g<a.length;g++){const{name:y,fn:b}=a[g],{x,y:w,data:_,reset:C}=await b({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:e}});u=x??u,d=w??d,f={...f,[y]:{...f[y],..._}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:u,y:d}=rv(c,h,l)),g=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function ta(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=sr(e,t),v=qx(f),y=a[h?d==="floating"?"reference":"floating":d],b=Hl(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),x=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),_=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},C=Hl(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:w,strategy:l}):x);return{top:(b.top-C.top+v.top)/_.y,bottom:(C.bottom-b.bottom+v.bottom)/_.y,left:(b.left-C.left+v.left)/_.x,right:(C.right-b.right+v.right)/_.x}}const oj=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=sr(t,e)||{};if(c==null)return{};const d=qx(u),h={x:n,y:r},f=Ap(i),v=Pp(f),g=await o.getDimensions(c),y=f==="y",b=y?"top":"left",x=y?"bottom":"right",w=y?"clientHeight":"clientWidth",_=s.reference[v]+s.reference[f]-h[f]-s.floating[v],C=h[f]-s.reference[f],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let k=S?S[w]:0;(!k||!await(o.isElement==null?void 0:o.isElement(S)))&&(k=a.floating[w]||s.floating[v]);const T=_/2-C/2,N=k/2-g[v]/2-1,A=Lr(d[b],N),j=Lr(d[x],N),M=A,V=k-g[v]-j,D=k/2-g[v]/2+T,B=kh(M,D,V),F=!l.arrow&&Xs(i)!=null&&D!==B&&s.reference[v]/2-(D<M?A:j)-g[v]/2<0,U=F?D<M?D-M:D-V:0;return{[f]:h[f]+U,data:{[f]:B,centerOffset:D-B-U,...F&&{alignmentOffset:U}},reset:F}}}),aj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=sr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=or(i),x=Br(a),w=or(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=h||(w||!g?[zl(a)]:tj(a)),S=v!=="none";!h&&S&&C.push(...rj(a,g,v,_));const k=[a,...C],T=await ta(e,y),N=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&N.push(T[b]),d){const D=ej(i,o,_);N.push(T[D[0]],T[D[1]])}if(A=[...A,{placement:i,overflows:N}],!N.every(D=>D<=0)){var j,M;const D=(((j=s.flip)==null?void 0:j.index)||0)+1,B=k[D];if(B)return{data:{index:D,overflows:A},reset:{placement:B}};let F=(M=A.filter(U=>U.overflows[0]<=0).sort((U,I)=>U.overflows[1]-I.overflows[1])[0])==null?void 0:M.placement;if(!F)switch(f){case"bestFit":{var V;const U=(V=A.filter(I=>{if(S){const R=Br(I.placement);return R===x||R==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(R=>R>0).reduce((R,E)=>R+E,0)]).sort((I,R)=>I[1]-R[1])[0])==null?void 0:V[0];U&&(F=U);break}case"initialPlacement":F=a;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function iv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function sv(t){return JN.some(e=>t[e]>=0)}const lj=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=sr(t,e);switch(r){case"referenceHidden":{const s=await ta(e,{...i,elementContext:"reference"}),o=iv(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:sv(o)}}}case"escaped":{const s=await ta(e,{...i,altBoundary:!0}),o=iv(s,n.floating);return{data:{escapedOffsets:o,escaped:sv(o)}}}default:return{}}}}};async function cj(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=or(n),a=Xs(n),l=Br(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=sr(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof v=="number"&&(f=a==="end"?v*-1:v),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const uj=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await cj(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},dj=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:b,y:x}=y;return{x:b,y:x}}},...l}=sr(t,e),c={x:n,y:r},u=await ta(e,l),d=Br(or(i)),h=Tp(d);let f=c[h],v=c[d];if(s){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=f+u[y],w=f-u[b];f=kh(x,f,w)}if(o){const y=d==="y"?"top":"left",b=d==="y"?"bottom":"right",x=v+u[y],w=v-u[b];v=kh(x,v,w)}const g=a.fn({...e,[h]:f,[d]:v});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[d]:o}}}}}},hj=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=sr(t,e),u={x:n,y:r},d=Br(i),h=Tp(d);let f=u[h],v=u[d];const g=sr(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=h==="y"?"height":"width",_=s.reference[h]-s.floating[w]+y.mainAxis,C=s.reference[h]+s.reference[w]-y.mainAxis;f<_?f=_:f>C&&(f=C)}if(c){var b,x;const w=h==="y"?"width":"height",_=["top","left"].includes(or(i)),C=s.reference[d]-s.floating[w]+(_&&((b=o.offset)==null?void 0:b[d])||0)+(_?0:y.crossAxis),S=s.reference[d]+s.reference[w]+(_?0:((x=o.offset)==null?void 0:x[d])||0)-(_?y.crossAxis:0);v<C?v=C:v>S&&(v=S)}return{[h]:f,[d]:v}}}},fj=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=sr(t,e),u=await ta(e,c),d=or(i),h=Xs(i),f=Br(i)==="y",{width:v,height:g}=s.floating;let y,b;d==="top"||d==="bottom"?(y=d,b=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=d,y=h==="end"?"top":"bottom");const x=g-u.top-u.bottom,w=v-u.left-u.right,_=Lr(g-u[y],x),C=Lr(v-u[b],w),S=!e.middlewareData.shift;let k=_,T=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=x),S&&!h){const A=qt(u.left,0),j=qt(u.right,0),M=qt(u.top,0),V=qt(u.bottom,0);f?T=v-2*(A!==0||j!==0?A+j:qt(u.left,u.right)):k=g-2*(M!==0||V!==0?M+V:qt(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:k});const N=await o.getDimensions(a.floating);return v!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function $c(){return typeof window<"u"}function Js(t){return Kx(t)?(t.nodeName||"").toLowerCase():"#document"}function Xt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Bn(t){var e;return(e=(Kx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Kx(t){return $c()?t instanceof Node||t instanceof Xt(t).Node:!1}function yn(t){return $c()?t instanceof Element||t instanceof Xt(t).Element:!1}function Ln(t){return $c()?t instanceof HTMLElement||t instanceof Xt(t).HTMLElement:!1}function ov(t){return!$c()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Xt(t).ShadowRoot}function Ea(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=bn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function pj(t){return["table","td","th"].includes(Js(t))}function Lc(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Rp(t){const e=Ip(),n=yn(t)?bn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function mj(t){let e=Ur(t);for(;Ln(e)&&!Os(e);){if(Rp(e))return e;if(Lc(e))return null;e=Ur(e)}return null}function Ip(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Os(t){return["html","body","#document"].includes(Js(t))}function bn(t){return Xt(t).getComputedStyle(t)}function Fc(t){return yn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ur(t){if(Js(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ov(t)&&t.host||Bn(t);return ov(e)?e.host:e}function Gx(t){const e=Ur(t);return Os(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ln(e)&&Ea(e)?e:Gx(e)}function na(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Gx(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Xt(i);if(s){const a=Th(o);return e.concat(o,o.visualViewport||[],Ea(i)?i:[],a&&n?na(a):[])}return e.concat(i,na(i,[],n))}function Th(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Yx(t){const e=bn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ln(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Vl(n)!==s||Vl(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Np(t){return yn(t)?t:t.contextElement}function vs(t){const e=Np(t);if(!Ln(e))return Fr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Yx(e);let o=(s?Vl(n.width):n.width)/r,a=(s?Vl(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const gj=Fr(0);function Xx(t){const e=Xt(t);return!Ip()||!e.visualViewport?gj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vj(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Xt(t)?!1:e}function ki(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Np(t);let o=Fr(1);e&&(r?yn(r)&&(o=vs(r)):o=vs(t));const a=vj(s,n,r)?Xx(s):Fr(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=Xt(s),f=r&&yn(r)?Xt(r):r;let v=h,g=Th(v);for(;g&&r&&f!==v;){const y=vs(g),b=g.getBoundingClientRect(),x=bn(g),w=b.left+(g.clientLeft+parseFloat(x.paddingLeft))*y.x,_=b.top+(g.clientTop+parseFloat(x.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=w,c+=_,v=Xt(g),g=Th(v)}}return Hl({width:u,height:d,x:l,y:c})}function yj(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Bn(r),a=e?Lc(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Fr(1);const u=Fr(0),d=Ln(r);if((d||!d&&!s)&&((Js(r)!=="body"||Ea(o))&&(l=Fc(r)),Ln(r))){const h=ki(r);c=vs(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function bj(t){return Array.from(t.getClientRects())}function Ph(t,e){const n=Fc(t).scrollLeft;return e?e.left+n:ki(Bn(t)).left+n}function wj(t){const e=Bn(t),n=Fc(t),r=t.ownerDocument.body,i=qt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=qt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ph(t);const a=-n.scrollTop;return bn(r).direction==="rtl"&&(o+=qt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function xj(t,e){const n=Xt(t),r=Bn(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=Ip();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function _j(t,e){const n=ki(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ln(t)?vs(t):Fr(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function av(t,e,n){let r;if(e==="viewport")r=xj(t,n);else if(e==="document")r=wj(Bn(t));else if(yn(e))r=_j(e,n);else{const i=Xx(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Hl(r)}function Jx(t,e){const n=Ur(t);return n===e||!yn(n)||Os(n)?!1:bn(n).position==="fixed"||Jx(n,e)}function Sj(t,e){const n=e.get(t);if(n)return n;let r=na(t,[],!1).filter(a=>yn(a)&&Js(a)!=="body"),i=null;const s=bn(t).position==="fixed";let o=s?Ur(t):t;for(;yn(o)&&!Os(o);){const a=bn(o),l=Rp(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ea(o)&&!l&&Jx(t,o))?r=r.filter(u=>u!==o):i=a,o=Ur(o)}return e.set(t,r),r}function Cj(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Lc(e)?[]:Sj(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=av(e,u,i);return c.top=qt(d.top,c.top),c.right=Lr(d.right,c.right),c.bottom=Lr(d.bottom,c.bottom),c.left=qt(d.left,c.left),c},av(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function kj(t){const{width:e,height:n}=Yx(t);return{width:e,height:n}}function Ej(t,e,n){const r=Ln(e),i=Bn(e),s=n==="fixed",o=ki(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Fr(0);if(r||!r&&!s)if((Js(e)!=="body"||Ea(i))&&(a=Fc(e)),r){const f=ki(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=Ph(i));let c=0,u=0;if(i&&!r&&!s){const f=i.getBoundingClientRect();u=f.top+a.scrollTop,c=f.left+a.scrollLeft-Ph(i,f)}const d=o.left+a.scrollLeft-l.x-c,h=o.top+a.scrollTop-l.y-u;return{x:d,y:h,width:o.width,height:o.height}}function Hu(t){return bn(t).position==="static"}function lv(t,e){if(!Ln(t)||bn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Bn(t)===n&&(n=n.ownerDocument.body),n}function Qx(t,e){const n=Xt(t);if(Lc(t))return n;if(!Ln(t)){let i=Ur(t);for(;i&&!Os(i);){if(yn(i)&&!Hu(i))return i;i=Ur(i)}return n}let r=lv(t,e);for(;r&&pj(r)&&Hu(r);)r=lv(r,e);return r&&Os(r)&&Hu(r)&&!Rp(r)?n:r||mj(t)||n}const Tj=async function(t){const e=this.getOffsetParent||Qx,n=this.getDimensions,r=await n(t.floating);return{reference:Ej(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Pj(t){return bn(t).direction==="rtl"}const Aj={convertOffsetParentRelativeRectToViewportRelativeRect:yj,getDocumentElement:Bn,getClippingRect:Cj,getOffsetParent:Qx,getElementRects:Tj,getClientRects:bj,getDimensions:kj,getScale:vs,isElement:yn,isRTL:Pj};function Rj(t,e){let n=null,r;const i=Bn(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:h}=t.getBoundingClientRect();if(a||e(),!d||!h)return;const f=Xa(u),v=Xa(i.clientWidth-(c+d)),g=Xa(i.clientHeight-(u+h)),y=Xa(c),x={rootMargin:-f+"px "+-v+"px "+-g+"px "+-y+"px",threshold:qt(0,Lr(1,l))||1};let w=!0;function _(C){const S=C[0].intersectionRatio;if(S!==l){if(!w)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(_,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,x)}n.observe(t)}return o(!0),s}function Zx(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Np(t),u=i||s?[...c?na(c):[],...na(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const d=c&&a?Rj(c,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(b=>{let[x]=b;x&&x.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let v,g=l?ki(t):null;l&&y();function y(){const b=ki(t);g&&(b.x!==g.x||b.y!==g.y||b.width!==g.width||b.height!==g.height)&&n(),g=b,v=requestAnimationFrame(y)}return n(),()=>{var b;u.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),d==null||d(),(b=f)==null||b.disconnect(),f=null,l&&cancelAnimationFrame(v)}}const Ij=uj,Nj=dj,jj=aj,Mj=fj,Oj=lj,cv=oj,Dj=hj,$j=(t,e,n)=>{const r=new Map,i={platform:Aj,...n},s={...i.platform,_c:r};return sj(t,e,{...i,platform:s})};var Nl=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Wl(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Wl(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Wl(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function e_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function uv(t,e){const n=e_(t);return Math.round(e*n)/n}function Wu(t){const e=m.useRef(t);return Nl(()=>{e.current=t}),e}function t_(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=m.useState(r);Wl(h,r)||f(r);const[v,g]=m.useState(null),[y,b]=m.useState(null),x=m.useCallback(I=>{I!==S.current&&(S.current=I,g(I))},[]),w=m.useCallback(I=>{I!==k.current&&(k.current=I,b(I))},[]),_=s||v,C=o||y,S=m.useRef(null),k=m.useRef(null),T=m.useRef(u),N=l!=null,A=Wu(l),j=Wu(i),M=Wu(c),V=m.useCallback(()=>{if(!S.current||!k.current)return;const I={placement:e,strategy:n,middleware:h};j.current&&(I.platform=j.current),$j(S.current,k.current,I).then(R=>{const E={...R,isPositioned:M.current!==!1};D.current&&!Wl(T.current,E)&&(T.current=E,qr.flushSync(()=>{d(E)}))})},[h,e,n,j,M]);Nl(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(I=>({...I,isPositioned:!1})))},[c]);const D=m.useRef(!1);Nl(()=>(D.current=!0,()=>{D.current=!1}),[]),Nl(()=>{if(_&&(S.current=_),C&&(k.current=C),_&&C){if(A.current)return A.current(_,C,V);V()}},[_,C,V,A,N]);const B=m.useMemo(()=>({reference:S,floating:k,setReference:x,setFloating:w}),[x,w]),F=m.useMemo(()=>({reference:_,floating:C}),[_,C]),U=m.useMemo(()=>{const I={position:n,left:0,top:0};if(!F.floating)return I;const R=uv(F.floating,u.x),E=uv(F.floating,u.y);return a?{...I,transform:"translate("+R+"px, "+E+"px)",...e_(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:E}},[n,a,F.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:V,refs:B,elements:F,floatingStyles:U}),[u,V,B,F,U])}const Lj=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?cv({element:r.current,padding:i}).fn(n):{}:r?cv({element:r,padding:i}).fn(n):{}}}},n_=(t,e)=>({...Ij(t),options:[t,e]}),r_=(t,e)=>({...Nj(t),options:[t,e]}),i_=(t,e)=>({...Dj(t),options:[t,e]}),s_=(t,e)=>({...jj(t),options:[t,e]}),o_=(t,e)=>({...Mj(t),options:[t,e]}),a_=(t,e)=>({...Oj(t),options:[t,e]}),l_=(t,e)=>({...Lj(t),options:[t,e]});var Fj="Arrow",c_=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return p.jsx(Ce.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});c_.displayName=Fj;var Bj=c_;function Uj(t,e=[]){let n=[];function r(s,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(d){const{scope:h,children:f,...v}=d,g=(h==null?void 0:h[t][l])||a,y=m.useMemo(()=>v,Object.values(v));return p.jsx(g.Provider,{value:y,children:f})}function u(d,h){const f=(h==null?void 0:h[t][l])||a,v=m.useContext(f);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Vj(i,...e)]}function Vj(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function u_(t){const[e,n]=m.useState(void 0);return ir(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var jp="Popper",[d_,Bc]=Uj(jp),[zj,h_]=d_(jp),f_=t=>{const{__scopePopper:e,children:n}=t,[r,i]=m.useState(null);return p.jsx(zj,{scope:e,anchor:r,onAnchorChange:i,children:n})};f_.displayName=jp;var p_="PopperAnchor",m_=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=h_(p_,n),o=m.useRef(null),a=Re(e,o);return m.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(Ce.div,{...i,ref:a})});m_.displayName=p_;var Mp="PopperContent",[Hj,Wj]=d_(Mp),g_=m.forwardRef((t,e)=>{var Q,oe,de,re,ve,ye;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:v,...g}=t,y=h_(Mp,n),[b,x]=m.useState(null),w=Re(e,Ne=>x(Ne)),[_,C]=m.useState(null),S=u_(_),k=(S==null?void 0:S.width)??0,T=(S==null?void 0:S.height)??0,N=r+(s!=="center"?"-"+s:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},j=Array.isArray(c)?c:[c],M=j.length>0,V={padding:A,boundary:j.filter(Kj),altBoundary:M},{refs:D,floatingStyles:B,placement:F,isPositioned:U,middlewareData:I}=t_({strategy:"fixed",placement:N,whileElementsMounted:(...Ne)=>Zx(...Ne,{animationFrame:f==="always"}),elements:{reference:y.anchor},middleware:[n_({mainAxis:i+T,alignmentAxis:o}),l&&r_({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?i_():void 0,...V}),l&&s_({...V}),o_({...V,apply:({elements:Ne,rects:Qe,availableWidth:mt,availableHeight:nt})=>{const{width:gt,height:Zr}=Qe.reference,$e=Ne.floating.style;$e.setProperty("--radix-popper-available-width",`${mt}px`),$e.setProperty("--radix-popper-available-height",`${nt}px`),$e.setProperty("--radix-popper-anchor-width",`${gt}px`),$e.setProperty("--radix-popper-anchor-height",`${Zr}px`)}}),_&&l_({element:_,padding:a}),Gj({arrowWidth:k,arrowHeight:T}),h&&a_({strategy:"referenceHidden",...V})]}),[R,E]=b_(F),q=Ye(v);ir(()=>{U&&(q==null||q())},[U,q]);const z=(Q=I.arrow)==null?void 0:Q.x,P=(oe=I.arrow)==null?void 0:oe.y,Z=((de=I.arrow)==null?void 0:de.centerOffset)!==0,[pe,ne]=m.useState();return ir(()=>{b&&ne(window.getComputedStyle(b).zIndex)},[b]),p.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:U?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[(re=I.transformOrigin)==null?void 0:re.x,(ve=I.transformOrigin)==null?void 0:ve.y].join(" "),...((ye=I.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(Hj,{scope:n,placedSide:R,onArrowChange:C,arrowX:z,arrowY:P,shouldHideArrow:Z,children:p.jsx(Ce.div,{"data-side":R,"data-align":E,...g,ref:w,style:{...g.style,animation:U?void 0:"none"}})})})});g_.displayName=Mp;var v_="PopperArrow",qj={top:"bottom",right:"left",bottom:"top",left:"right"},y_=m.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Wj(v_,r),o=qj[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(Bj,{...i,ref:n,style:{...i.style,display:"block"}})})});y_.displayName=v_;function Kj(t){return t!==null}var Gj=t=>({name:"transformOrigin",options:t,fn(e){var y,b,x;const{placement:n,rects:r,middlewareData:i}=e,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=b_(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((b=i.arrow)==null?void 0:b.x)??0)+a/2,f=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let v="",g="";return c==="bottom"?(v=o?d:`${h}px`,g=`${-l}px`):c==="top"?(v=o?d:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,g=o?d:`${f}px`):c==="left"&&(v=`${r.floating.width+l}px`,g=o?d:`${f}px`),{data:{x:v,y:g}}}});function b_(t){const[e,n="center"]=t.split("-");return[e,n]}var Yj=f_,w_=m_,x_=g_,__=y_,Xj=m.forwardRef((t,e)=>{const{children:n,...r}=t,i=m.Children.toArray(n),s=i.find(Jj);if(s){const o=s.props.children,a=i.map(l=>l===s?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return p.jsx(Ah,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return p.jsx(Ah,{...r,ref:e,children:n})});Xj.displayName="Slot";var Ah=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const i=Zj(n);return m.cloneElement(n,{...Qj(r,n.props),ref:e?Oi(e,i):i})}return m.Children.count(n)>1?m.Children.only(null):null});Ah.displayName="SlotClone";var S_=({children:t})=>p.jsx(p.Fragment,{children:t});function Jj(t){return m.isValidElement(t)&&t.type===S_}function Qj(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Zj(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var[Uc,bJ]=Gs("Tooltip",[Bc]),Op=Bc(),C_="TooltipProvider",eM=700,dv="tooltip.open",[tM,k_]=Uc(C_),E_=t=>{const{__scopeTooltip:e,delayDuration:n=eM,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=m.useState(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),p.jsx(tM,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};E_.displayName=C_;var T_="Tooltip",[wJ,Vc]=Uc(T_),Rh="TooltipTrigger",nM=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Vc(Rh,n),s=k_(Rh,n),o=Op(n),a=m.useRef(null),l=Re(e,a,i.onTriggerChange),c=m.useRef(!1),u=m.useRef(!1),d=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),p.jsx(w_,{asChild:!0,...o,children:p.jsx(Ce.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:te(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:te(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:te(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:te(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:te(t.onBlur,i.onClose),onClick:te(t.onClick,i.onClose)})})});nM.displayName=Rh;var rM="TooltipPortal",[xJ,iM]=Uc(rM,{forceMount:void 0}),Ds="TooltipContent",P_=m.forwardRef((t,e)=>{const n=iM(Ds,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Vc(Ds,t.__scopeTooltip);return p.jsx(wn,{present:r||o.open,children:o.disableHoverableContent?p.jsx(A_,{side:i,...s,ref:e}):p.jsx(sM,{side:i,...s,ref:e})})}),sM=m.forwardRef((t,e)=>{const n=Vc(Ds,t.__scopeTooltip),r=k_(Ds,t.__scopeTooltip),i=m.useRef(null),s=Re(e,i),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:d}=r,h=m.useCallback(()=>{a(null),d(!1)},[d]),f=m.useCallback((v,g)=>{const y=v.currentTarget,b={x:v.clientX,y:v.clientY},x=cM(b,y.getBoundingClientRect()),w=uM(b,x),_=dM(g.getBoundingClientRect()),C=fM([...w,..._]);a(C),d(!0)},[d]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(l&&u){const v=y=>f(y,u),g=y=>f(y,l);return l.addEventListener("pointerleave",v),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",g)}}},[l,u,f,h]),m.useEffect(()=>{if(o){const v=g=>{const y=g.target,b={x:g.clientX,y:g.clientY},x=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),w=!hM(b,o);x?h():w&&(h(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,u,o,c,h]),p.jsx(A_,{...t,ref:s})}),[oM,aM]=Uc(T_,{isInside:!1}),A_=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Vc(Ds,n),c=Op(n),{onClose:u}=l;return m.useEffect(()=>(document.addEventListener(dv,u),()=>document.removeEventListener(dv,u)),[u]),m.useEffect(()=>{if(l.trigger){const d=h=>{const f=h.target;f!=null&&f.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),p.jsx(Rc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:p.jsxs(x_,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(S_,{children:r}),p.jsx(oM,{scope:n,isInside:!0,children:p.jsx(WR,{id:l.contentId,role:"tooltip",children:i||r})})]})})});P_.displayName=Ds;var R_="TooltipArrow",lM=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Op(n);return aM(R_,n).isInside?null:p.jsx(__,{...i,...r,ref:e})});lM.displayName=R_;function cM(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function uM(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function dM(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function hM(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function fM(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),pM(e)}function pM(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var mM=E_,I_=P_;const gM=mM,vM=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(I_,{ref:r,sideOffset:e,className:ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));vM.displayName=I_.displayName;var zc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hc=typeof window>"u"||"Deno"in globalThis;function fn(){}function yM(t,e){return typeof t=="function"?t(e):t}function bM(t){return typeof t=="number"&&t>=0&&t!==1/0}function wM(t,e){return Math.max(t+(e||0)-Date.now(),0)}function hv(t,e){return typeof t=="function"?t(e):t}function xM(t,e){return typeof t=="function"?t(e):t}function fv(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Dp(o,e.options))return!1}else if(!ia(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function pv(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(ra(e.options.mutationKey)!==ra(s))return!1}else if(!ia(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Dp(t,e){return((e==null?void 0:e.queryKeyHashFn)||ra)(t)}function ra(t){return JSON.stringify(t,(e,n)=>Ih(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ia(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ia(t[n],e[n])):!1}function N_(t,e){if(t===e)return t;const n=mv(t)&&mv(e);if(n||Ih(t)&&Ih(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:s[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=N_(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function mv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ih(t){if(!gv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!gv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function gv(t){return Object.prototype.toString.call(t)==="[object Object]"}function _M(t){return new Promise(e=>{setTimeout(e,t)})}function SM(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?N_(t,e):e}function CM(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function kM(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var $p=Symbol();function j_(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===$p?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var bi,Pr,Es,Kw,EM=(Kw=class extends zc{constructor(){super();Pe(this,bi);Pe(this,Pr);Pe(this,Es);be(this,Es,e=>{if(!Hc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){L(this,Pr)||this.setEventListener(L(this,Es))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,Pr))==null||e.call(this),be(this,Pr,void 0))}setEventListener(e){var n;be(this,Es,e),(n=L(this,Pr))==null||n.call(this),be(this,Pr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){L(this,bi)!==e&&(be(this,bi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof L(this,bi)=="boolean"?L(this,bi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},bi=new WeakMap,Pr=new WeakMap,Es=new WeakMap,Kw),M_=new EM,Ts,Ar,Ps,Gw,TM=(Gw=class extends zc{constructor(){super();Pe(this,Ts,!0);Pe(this,Ar);Pe(this,Ps);be(this,Ps,e=>{if(!Hc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){L(this,Ar)||this.setEventListener(L(this,Ps))}onUnsubscribe(){var e;this.hasListeners()||((e=L(this,Ar))==null||e.call(this),be(this,Ar,void 0))}setEventListener(e){var n;be(this,Ps,e),(n=L(this,Ar))==null||n.call(this),be(this,Ar,e(this.setOnline.bind(this)))}setOnline(e){L(this,Ts)!==e&&(be(this,Ts,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return L(this,Ts)}},Ts=new WeakMap,Ar=new WeakMap,Ps=new WeakMap,Gw),ql=new TM;function PM(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function AM(t){return Math.min(1e3*2**t,3e4)}function O_(t){return(t??"online")==="online"?ql.isOnline():!0}var D_=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function qu(t){return t instanceof D_}function $_(t){let e=!1,n=0,r=!1,i;const s=PM(),o=g=>{var y;r||(h(new D_(g)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>M_.isFocused()&&(t.networkMode==="always"||ql.isOnline())&&t.canRun(),u=()=>O_(t.networkMode)&&t.canRun(),d=g=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,g),i==null||i(),s.resolve(g))},h=g=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,g),i==null||i(),s.reject(g))},f=()=>new Promise(g=>{var y;i=b=>{(r||c())&&g(b)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),v=()=>{if(r)return;let g;const y=n===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(d).catch(b=>{var S;if(r)return;const x=t.retry??(Hc?0:3),w=t.retryDelay??AM,_=typeof w=="function"?w(n,b):w,C=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,b);if(e||!C){h(b);return}n++,(S=t.onFail)==null||S.call(t,n,b),_M(_).then(()=>c()?void 0:f()).then(()=>{e?h(b):v()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?v():f().then(v),s)}}function RM(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Pt=RM(),wi,Yw,L_=(Yw=class{constructor(){Pe(this,wi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bM(this.gcTime)&&be(this,wi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Hc?1/0:5*60*1e3))}clearGcTimeout(){L(this,wi)&&(clearTimeout(L(this,wi)),be(this,wi,void 0))}},wi=new WeakMap,Yw),As,Rs,tn,bt,_a,xi,mn,Kn,Xw,IM=(Xw=class extends L_{constructor(e){super();Pe(this,mn);Pe(this,As);Pe(this,Rs);Pe(this,tn);Pe(this,bt);Pe(this,_a);Pe(this,xi);be(this,xi,!1),be(this,_a,e.defaultOptions),this.setOptions(e.options),this.observers=[],be(this,tn,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,be(this,As,jM(this.options)),this.state=e.state??L(this,As),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=L(this,bt))==null?void 0:e.promise}setOptions(e){this.options={...L(this,_a),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&L(this,tn).remove(this)}setData(e,n){const r=SM(this.state.data,e,this.options);return vt(this,mn,Kn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){vt(this,mn,Kn).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=L(this,bt))==null?void 0:r.promise;return(i=L(this,bt))==null||i.cancel(e),n?n.then(fn).catch(fn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(L(this,As))}isActive(){return this.observers.some(e=>xM(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$p||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!wM(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=L(this,bt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=L(this,bt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),L(this,tn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(L(this,bt)&&(L(this,xi)?L(this,bt).cancel({revert:!0}):L(this,bt).cancelRetry()),this.scheduleGc()),L(this,tn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||vt(this,mn,Kn).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(L(this,bt))return L(this,bt).continueRetry(),L(this,bt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(be(this,xi,!0),r.signal)})},s=()=>{const d=j_(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return i(h),be(this,xi,!1),this.options.persister?this.options.persister(d,h,this):d(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),be(this,Rs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&vt(this,mn,Kn).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=d=>{var h,f,v,g;qu(d)&&d.silent||vt(this,mn,Kn).call(this,{type:"error",error:d}),qu(d)||((f=(h=L(this,tn).config).onError)==null||f.call(h,d,this),(g=(v=L(this,tn).config).onSettled)==null||g.call(v,this.state.data,d,this)),this.scheduleGc()};return be(this,bt,$_({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var h,f,v,g;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(y){a(y);return}(f=(h=L(this,tn).config).onSuccess)==null||f.call(h,d,this),(g=(v=L(this,tn).config).onSettled)==null||g.call(v,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,h)=>{vt(this,mn,Kn).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{vt(this,mn,Kn).call(this,{type:"pause"})},onContinue:()=>{vt(this,mn,Kn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),L(this,bt).start()}},As=new WeakMap,Rs=new WeakMap,tn=new WeakMap,bt=new WeakMap,_a=new WeakMap,xi=new WeakMap,mn=new WeakSet,Kn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...NM(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return qu(i)&&i.revert&&L(this,Rs)?{...L(this,Rs),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Pt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),L(this,tn).notify({query:this,type:"updated",action:e})})},Xw);function NM(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:O_(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function jM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Tn,Jw,MM=(Jw=class extends zc{constructor(e={}){super();Pe(this,Tn);this.config=e,be(this,Tn,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??Dp(i,n);let o=this.get(s);return o||(o=new IM({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){L(this,Tn).has(e.queryHash)||(L(this,Tn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=L(this,Tn).get(e.queryHash);n&&(e.destroy(),n===e&&L(this,Tn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Pt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return L(this,Tn).get(e)}getAll(){return[...L(this,Tn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>fv(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>fv(e,r)):n}notify(e){Pt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Pt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Pt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Tn=new WeakMap,Jw),Pn,Tt,_i,An,yr,Qw,OM=(Qw=class extends L_{constructor(e){super();Pe(this,An);Pe(this,Pn);Pe(this,Tt);Pe(this,_i);this.mutationId=e.mutationId,be(this,Tt,e.mutationCache),be(this,Pn,[]),this.state=e.state||DM(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){L(this,Pn).includes(e)||(L(this,Pn).push(e),this.clearGcTimeout(),L(this,Tt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){be(this,Pn,L(this,Pn).filter(n=>n!==e)),this.scheduleGc(),L(this,Tt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){L(this,Pn).length||(this.state.status==="pending"?this.scheduleGc():L(this,Tt).remove(this))}continue(){var e;return((e=L(this,_i))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,c,u,d,h,f,v,g,y,b,x,w,_,C,S,k;be(this,_i,$_({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,N)=>{vt(this,An,yr).call(this,{type:"failed",failureCount:T,error:N})},onPause:()=>{vt(this,An,yr).call(this,{type:"pause"})},onContinue:()=>{vt(this,An,yr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>L(this,Tt).canRun(this)}));const n=this.state.status==="pending",r=!L(this,_i).canStart();try{if(!n){vt(this,An,yr).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=L(this,Tt).config).onMutate)==null?void 0:s.call(i,e,this));const N=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));N!==this.state.context&&vt(this,An,yr).call(this,{type:"pending",context:N,variables:e,isPaused:r})}const T=await L(this,_i).start();return await((c=(l=L(this,Tt).config).onSuccess)==null?void 0:c.call(l,T,e,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,T,e,this.state.context)),await((f=(h=L(this,Tt).config).onSettled)==null?void 0:f.call(h,T,null,this.state.variables,this.state.context,this)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,T,null,e,this.state.context)),vt(this,An,yr).call(this,{type:"success",data:T}),T}catch(T){try{throw await((b=(y=L(this,Tt).config).onError)==null?void 0:b.call(y,T,e,this.state.context,this)),await((w=(x=this.options).onError)==null?void 0:w.call(x,T,e,this.state.context)),await((C=(_=L(this,Tt).config).onSettled)==null?void 0:C.call(_,void 0,T,this.state.variables,this.state.context,this)),await((k=(S=this.options).onSettled)==null?void 0:k.call(S,void 0,T,e,this.state.context)),T}finally{vt(this,An,yr).call(this,{type:"error",error:T})}}finally{L(this,Tt).runNext(this)}}},Pn=new WeakMap,Tt=new WeakMap,_i=new WeakMap,An=new WeakSet,yr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Pt.batch(()=>{L(this,Pn).forEach(r=>{r.onMutationUpdate(e)}),L(this,Tt).notify({mutation:this,type:"updated",action:e})})},Qw);function DM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ht,Sa,Zw,$M=(Zw=class extends zc{constructor(e={}){super();Pe(this,Ht);Pe(this,Sa);this.config=e,be(this,Ht,new Map),be(this,Sa,Date.now())}build(e,n,r){const i=new OM({mutationCache:this,mutationId:++Wa(this,Sa)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Ja(e),r=L(this,Ht).get(n)??[];r.push(e),L(this,Ht).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Ja(e);if(L(this,Ht).has(n)){const i=(r=L(this,Ht).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?L(this,Ht).delete(n):L(this,Ht).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=L(this,Ht).get(Ja(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=L(this,Ht).get(Ja(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Pt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...L(this,Ht).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>pv(n,r))}findAll(e={}){return this.getAll().filter(n=>pv(e,n))}notify(e){Pt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Pt.batch(()=>Promise.all(e.map(n=>n.continue().catch(fn))))}},Ht=new WeakMap,Sa=new WeakMap,Zw);function Ja(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function vv(t){return{onFetch:(e,n)=>{var u,d,h,f,v;const r=e.options,i=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=j_(e.options,e.fetchOptions),x=async(w,_,C)=>{if(g)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const S={queryKey:e.queryKey,pageParam:_,direction:C?"backward":"forward",meta:e.options.meta};y(S);const k=await b(S),{maxPages:T}=e.options,N=C?kM:CM;return{pages:N(w.pages,k,T),pageParams:N(w.pageParams,_,T)}};if(i&&s.length){const w=i==="backward",_=w?LM:yv,C={pages:s,pageParams:o},S=_(r,C);a=await x(C,S,w)}else{const w=t??s.length;do{const _=l===0?o[0]??r.initialPageParam:yv(r,a);if(l>0&&_==null)break;a=await x(a,_),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function yv(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function LM(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var qe,Rr,Ir,Is,Ns,Nr,js,Ms,ex,FM=(ex=class{constructor(t={}){Pe(this,qe);Pe(this,Rr);Pe(this,Ir);Pe(this,Is);Pe(this,Ns);Pe(this,Nr);Pe(this,js);Pe(this,Ms);be(this,qe,t.queryCache||new MM),be(this,Rr,t.mutationCache||new $M),be(this,Ir,t.defaultOptions||{}),be(this,Is,new Map),be(this,Ns,new Map),be(this,Nr,0)}mount(){Wa(this,Nr)._++,L(this,Nr)===1&&(be(this,js,M_.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,qe).onFocus())})),be(this,Ms,ql.subscribe(async t=>{t&&(await this.resumePausedMutations(),L(this,qe).onOnline())})))}unmount(){var t,e;Wa(this,Nr)._--,L(this,Nr)===0&&((t=L(this,js))==null||t.call(this),be(this,js,void 0),(e=L(this,Ms))==null||e.call(this),be(this,Ms,void 0))}isFetching(t){return L(this,qe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return L(this,Rr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=L(this,qe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=L(this,qe).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(hv(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return L(this,qe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=L(this,qe).get(r.queryHash),s=i==null?void 0:i.state.data,o=yM(e,s);if(o!==void 0)return L(this,qe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Pt.batch(()=>L(this,qe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=L(this,qe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=L(this,qe);Pt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=L(this,qe),r={type:"active",...t};return Pt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Pt.batch(()=>L(this,qe).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(fn).catch(fn)}invalidateQueries(t={},e={}){return Pt.batch(()=>{if(L(this,qe).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Pt.batch(()=>L(this,qe).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(fn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(fn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=L(this,qe).build(this,e);return n.isStaleByTime(hv(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(fn).catch(fn)}fetchInfiniteQuery(t){return t.behavior=vv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(fn).catch(fn)}ensureInfiniteQueryData(t){return t.behavior=vv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ql.isOnline()?L(this,Rr).resumePausedMutations():Promise.resolve()}getQueryCache(){return L(this,qe)}getMutationCache(){return L(this,Rr)}getDefaultOptions(){return L(this,Ir)}setDefaultOptions(t){be(this,Ir,t)}setQueryDefaults(t,e){L(this,Is).set(ra(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...L(this,Is).values()];let n={};return e.forEach(r=>{ia(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){L(this,Ns).set(ra(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...L(this,Ns).values()];let n={};return e.forEach(r=>{ia(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...L(this,Ir).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Dp(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===$p&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...L(this,Ir).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){L(this,qe).clear(),L(this,Rr).clear()}},qe=new WeakMap,Rr=new WeakMap,Ir=new WeakMap,Is=new WeakMap,Ns=new WeakMap,Nr=new WeakMap,js=new WeakMap,Ms=new WeakMap,ex),BM=m.createContext(void 0),UM=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(BM.Provider,{value:t,children:e}));const VM="modulepreload",zM=function(t){return"/"+t},bv={},Ta=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=zM(l),l in bv)return;bv[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":VM,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},HM=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ta(async()=>{const{default:r}=await Promise.resolve().then(()=>Qs);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Lp extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class WM extends Lp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class wv extends Lp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class xv extends Lp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Nh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Nh||(Nh={}));var qM=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class KM{constructor(e,{headers:n={},customFetch:r,region:i=Nh.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=HM(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return qM(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(g=>{throw new WM(g)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new wv(d);if(!d.ok)throw new xv(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield d.json():f==="application/octet-stream"?v=yield d.blob():f==="text/event-stream"?v=d:f==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null,response:d}}catch(i){return{data:null,error:i,response:i instanceof xv||i instanceof wv?i.context:void 0}}})}}var Ot={},Fp={},Wc={},Pa={},qc={},Kc={},GM=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$s=GM();const YM=$s.fetch,F_=$s.fetch.bind($s),B_=$s.Headers,XM=$s.Request,JM=$s.Response,Qs=Object.freeze(Object.defineProperty({__proto__:null,Headers:B_,Request:XM,Response:JM,default:F_,fetch:YM},Symbol.toStringTag,{value:"Module"})),QM=nR(Qs);var Gc={};Object.defineProperty(Gc,"__esModule",{value:!0});let ZM=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Gc.default=ZM;var U_=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kc,"__esModule",{value:!0});const eO=U_(QM),tO=U_(Gc);let nO=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=eO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,u=null,d=null,h=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){const b=await s.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&y&&y.length>1&&(d=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const g=await s.text();try{c=JSON.parse(g),Array.isArray(c)&&s.status===404&&(u=[],c=null,h=200,f="OK")}catch{s.status===404&&g===""?(h=204,f="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,f="OK"),c&&this.shouldThrowOnError)throw new tO.default(c)}return{error:c,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};Kc.default=nO;var rO=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qc,"__esModule",{value:!0});const iO=rO(Kc);let sO=class extends iO.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};qc.default=sO;var oO=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pa,"__esModule",{value:!0});const aO=oO(qc);let lO=class extends aO.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Pa.default=lO;var cO=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wc,"__esModule",{value:!0});const ho=cO(Pa);let uO=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new ho.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ho.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new ho.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new ho.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ho.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Wc.default=uO;var Yc={},Xc={};Object.defineProperty(Xc,"__esModule",{value:!0});Xc.version=void 0;Xc.version="0.0.0-automated";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.DEFAULT_HEADERS=void 0;const dO=Xc;Yc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${dO.version}`};var V_=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fp,"__esModule",{value:!0});const hO=V_(Wc),fO=V_(Pa),pO=Yc;let mO=class z_{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},pO.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new hO.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new z_(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new fO.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Fp.default=mO;var Zs=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.PostgrestError=Ot.PostgrestBuilder=Ot.PostgrestTransformBuilder=Ot.PostgrestFilterBuilder=Ot.PostgrestQueryBuilder=Ot.PostgrestClient=void 0;const H_=Zs(Fp);Ot.PostgrestClient=H_.default;const W_=Zs(Wc);Ot.PostgrestQueryBuilder=W_.default;const q_=Zs(Pa);Ot.PostgrestFilterBuilder=q_.default;const K_=Zs(qc);Ot.PostgrestTransformBuilder=K_.default;const G_=Zs(Kc);Ot.PostgrestBuilder=G_.default;const Y_=Zs(Gc);Ot.PostgrestError=Y_.default;var gO=Ot.default={PostgrestClient:H_.default,PostgrestQueryBuilder:W_.default,PostgrestFilterBuilder:q_.default,PostgrestTransformBuilder:K_.default,PostgrestBuilder:G_.default,PostgrestError:Y_.default};const{PostgrestClient:vO,PostgrestQueryBuilder:TJ,PostgrestFilterBuilder:PJ,PostgrestTransformBuilder:AJ,PostgrestBuilder:RJ,PostgrestError:IJ}=gO;class yO{static dynamicRequire(e){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(e):null}catch{return null}}static detectEnvironment(){var e,n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);if(r>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const i=this.dynamicRequire("undici");if(i&&i.WebSocket)return{type:"native",constructor:i.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const i=this.dynamicRequire("ws");if(i)return{type:"ws",constructor:(n=i.WebSocket)!==null&&n!==void 0?n:i};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${r} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const bO="2.15.0",wO=`realtime-js/${bO}`,xO="1.0.0",jh=1e4,_O=1e3,SO=100;var Bo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Bo||(Bo={}));var at;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(at||(at={}));var gn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(gn||(gn={}));var Mh;(function(t){t.websocket="websocket"})(Mh||(Mh={}));var pi;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(pi||(pi={}));class CO{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class X_{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Oe||(Oe={}));const _v=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=kO(o,t,e,i),s),{})},kO=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?J_(s,o):Oh(o)},J_=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return AO(e,n)}switch(t){case Oe.bool:return EO(e);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return TO(e);case Oe.json:case Oe.jsonb:return PO(e);case Oe.timestamp:return RO(e);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Oh(e);default:return Oh(e)}},Oh=t=>t,EO=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},TO=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},PO=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},AO=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>J_(e,a))}return t},RO=t=>typeof t=="string"?t.replace(" ","T"):t,Q_=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Ku{constructor(e,n,r={},i=jh){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Sv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Sv||(Sv={}));class Uo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Uo.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Uo.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Uo.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=s[c];if(d){const h=u.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),v=u.filter(y=>f.indexOf(y.presence_ref)<0),g=d.filter(y=>h.indexOf(y.presence_ref)<0);v.length>0&&(a[c]=v),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Cv||(Cv={}));var Vo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Vo||(Vo={}));var Yn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Yn||(Yn={}));class Bp{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ku(this,gn.join,this.params,this.timeout),this.rejoinTimer=new X_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gn.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Uo(this),this.broadcastEndpointURL=Q_(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Vo.PRESENCE]&&this.bindings[Vo.PRESENCE].length>0,u={},d={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(Yn.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Yn.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var f;if(this.socket.setAuth(),h===void 0){e==null||e(Yn.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,g=(f=v==null?void 0:v.length)!==null&&f!==void 0?f:0,y=[];for(let b=0;b<g;b++){const x=v[b],{filter:{event:w,schema:_,table:C,filter:S}}=x,k=h&&h[b];if(k&&k.event===w&&k.schema===_&&k.table===C&&k.filter===S)y.push(Object.assign(Object.assign({},x),{id:k.id}));else{this.unsubscribe(),this.state=at.errored,e==null||e(Yn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Yn.SUBSCRIBED);return}}).receive("error",h=>{this.state=at.errored,e==null||e(Yn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Yn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===at.joined&&e===Vo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=at.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Ku(this,gn.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ku(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>SO){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=gn;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var v,g,y;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(g=f.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var v,g,y,b,x,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const _=f.id,C=(v=f.filter)===null||v===void 0?void 0:v.event;return _&&((g=n.ids)===null||g===void 0?void 0:g.includes(_))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(x=(b=f==null?void 0:f.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:g,table:y,commit_timestamp:b,type:x,errors:w}=v;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:b,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(v))}f.callback(h,r)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Bp.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(gn.close,{},e)}_onError(e){this._on(gn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=_v(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=_v(e.columns,e.old_record)),n}}const kv=()=>{},Qa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},IO=[1e3,2e3,5e3,1e4],NO=1e4,jO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class MO{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jh,this.transport=null,this.heartbeatIntervalMs=Qa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kv,this.ref=0,this.reconnectTimer=null,this.logger=kv,this.conn=null,this.sendBuffer=[],this.serializer=new CO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Ta(async()=>{const{default:a}=await Promise.resolve().then(()=>Qs);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Mh.websocket}`,this.httpEndpoint=Q_(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=yO.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${e.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xO}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Bo.connecting:return pi.Connecting;case Bo.open:return pi.Open;case Bo.closing:return pi.Closing;default:return pi.Closed}}isConnected(){return this.connectionState()===pi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Bp(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(_O,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Qa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),s),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(gn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([jO],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:wO};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(gn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new X_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,o,a,l,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:jh,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Qa.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:u=>IO[u-1]||NO,this.encode=(l=e==null?void 0:e.encode)!==null&&l!==void 0?l:(u,d)=>d(JSON.stringify(u)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Up extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ut(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class OO extends Up{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Dh extends Up{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var DO=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Z_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ta(async()=>{const{default:r}=await Promise.resolve().then(()=>Qs);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},$O=()=>DO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ta(()=>Promise.resolve().then(()=>Qs),void 0)).Response:Response}),$h=t=>{if(Array.isArray(t))return t.map(n=>$h(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=$h(r)}),e},LO=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Di=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Gu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),FO=(t,e,n)=>Di(void 0,void 0,void 0,function*(){const r=yield $O();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const s=t.status||500,o=(i==null?void 0:i.statusCode)||s+"";e(new OO(Gu(i),s,o))}).catch(i=>{e(new Dh(Gu(i),i))}):e(new Dh(Gu(t),t))}),BO=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(LO(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function Aa(t,e,n,r,i,s){return Di(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,BO(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>FO(l,a,r))})})}function Kl(t,e,n,r){return Di(this,void 0,void 0,function*(){return Aa(t,"GET",e,n,r)})}function Xn(t,e,n,r,i){return Di(this,void 0,void 0,function*(){return Aa(t,"POST",e,r,i,n)})}function Lh(t,e,n,r,i){return Di(this,void 0,void 0,function*(){return Aa(t,"PUT",e,r,i,n)})}function UO(t,e,n,r){return Di(this,void 0,void 0,function*(){return Aa(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function e1(t,e,n,r,i){return Di(this,void 0,void 0,function*(){return Aa(t,"DELETE",e,r,i,n)})}var Nt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const VO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ev={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zO{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Z_(i)}uploadOrUpdate(e,n,r,i){return Nt(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Ev),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield(e=="PUT"?Lh:Xn)(this.fetch,`${this.url}/object/${u}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(ut(s))return{data:null,error:s};throw s}})}upload(e,n,r){return Nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Nt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Ev.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield Lh(this.fetch,a.toString(),l,{headers:u});return{data:{path:s,fullPath:d.Key},error:null}}catch(l){if(ut(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Nt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Xn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Up("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}})}update(e,n,r){return Nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Nt(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ut(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Nt(this,void 0,void 0,function*(){try{return{data:{path:(yield Xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ut(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Nt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Xn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(ut(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Nt(this,void 0,void 0,function*(){try{const i=yield Xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(ut(i))return{data:null,error:i};throw i}})}download(e,n){return Nt(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Kl(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ut(a))return{data:null,error:a};throw a}})}info(e){return Nt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Kl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:$h(r),error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}})}exists(e){return Nt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield UO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ut(r)&&r instanceof Dh){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return Nt(this,void 0,void 0,function*(){try{return{data:yield e1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}})}list(e,n,r){return Nt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},VO),n),{prefix:e||""});return{data:yield Xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(ut(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const HO="2.10.4",WO={"X-Client-Info":`storage-js/${HO}`};var Vi=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class qO{constructor(e,n={},r,i){const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},WO),n),this.fetch=Z_(r)}listBuckets(){return Vi(this,void 0,void 0,function*(){try{return{data:yield Kl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ut(e))return{data:null,error:e};throw e}})}getBucket(e){return Vi(this,void 0,void 0,function*(){try{return{data:yield Kl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Vi(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Vi(this,void 0,void 0,function*(){try{return{data:yield Lh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Vi(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Vi(this,void 0,void 0,function*(){try{return{data:yield e1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}})}}class KO extends qO{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new zO(this.url,this.headers,e,this.fetch)}}const GO="2.54.0";let _o="";typeof Deno<"u"?_o="deno":typeof document<"u"?_o="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_o="react-native":_o="node";const YO={"X-Client-Info":`supabase-js-${_o}/${GO}`},XO={headers:YO},JO={schema:"public"},QO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ZO={};var eD=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const tD=t=>{let e;return t?e=t:typeof fetch>"u"?e=F_:e=fetch,(...n)=>e(...n)},nD=()=>typeof Headers>"u"?B_:Headers,rD=(t,e,n)=>{const r=tD(n),i=nD();return(s,o)=>eD(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var iD=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function sD(t){return t.endsWith("/")?t:t+"/"}function oD(t,e){var n,r;const{db:i,auth:s,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>iD(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const t1="2.71.1",ns=30*1e3,Fh=3,Yu=Fh*ns,aD="http://localhost:9999",lD="supabase.auth.token",cD={"X-Client-Info":`gotrue-js/${t1}`},Bh="X-Supabase-Api-Version",n1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},uD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dD=10*60*1e3;class Vp extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function fe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class hD extends Vp{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function fD(t){return fe(t)&&t.name==="AuthApiError"}class r1 extends Vp{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Kr extends Vp{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class br extends Kr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pD(t){return fe(t)&&t.name==="AuthSessionMissingError"}class Za extends Kr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class el extends Kr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class tl extends Kr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mD(t){return fe(t)&&t.name==="AuthImplicitGrantRedirectError"}class Tv extends Kr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Uh extends Kr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Xu(t){return fe(t)&&t.name==="AuthRetryableFetchError"}class Pv extends Kr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Vh extends Kr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Av=` 	
\r=`.split(""),gD=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Av.length;e+=1)t[Av[e].charCodeAt(0)]=-2;for(let e=0;e<Gl.length;e+=1)t[Gl[e].charCodeAt(0)]=e;return t})();function Rv(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Gl[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Gl[r]),e.queuedBits-=6}}function i1(t,e,n){const r=gD[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Iv(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{bD(o,r,n)};for(let o=0;o<t.length;o+=1)i1(t.charCodeAt(o),i,s);return e.join("")}function vD(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function yD(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}vD(r,e)}}function bD(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function wD(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)i1(t.charCodeAt(i),n,r);return new Uint8Array(e)}function xD(t){const e=[];return yD(t,n=>e.push(n)),new Uint8Array(e)}function _D(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>Rv(i,n,r)),Rv(null,n,r),e.join("")}function SD(t){return Math.round(Date.now()/1e3)+t}function CD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const un=()=>typeof window<"u"&&typeof document<"u",ni={tested:!1,writable:!1},s1=()=>{if(!un())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ni.tested)return ni.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ni.tested=!0,ni.writable=!0}catch{ni.tested=!0,ni.writable=!1}return ni.writable};function kD(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const o1=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ta(async()=>{const{default:r}=await Promise.resolve().then(()=>Qs);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},ED=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",rs=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ri=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},pr=async(t,e)=>{await t.removeItem(e)};class Jc{constructor(){this.promise=new Jc.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Jc.promiseConstructor=Promise;function Ju(t){const e=t.split(".");if(e.length!==3)throw new Vh("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!uD.test(e[r]))throw new Vh("JWT not in base64url format");return{header:JSON.parse(Iv(e[0])),payload:JSON.parse(Iv(e[1])),signature:wD(e[2]),raw:{header:e[0],payload:e[1]}}}async function TD(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function PD(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function AD(t){return("0"+t.toString(16)).substr(-2)}function RD(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,AD).join("")}async function ID(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function ND(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ID(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zi(t,e,n=!1){const r=RD();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await rs(t,`${e}-code-verifier`,i);const s=await ND(r);return[s,r===s?"plain":"s256"]}const jD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function MD(t){const e=t.headers.get(Bh);if(!e||!e.match(jD))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function OD(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function DD(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $D=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hi(t){if(!$D.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qu(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nv(t){return JSON.parse(JSON.stringify(t))}var LD=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const di=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),FD=[502,503,504];async function jv(t){var e;if(!ED(t))throw new Uh(di(t),0);if(FD.includes(t.status))throw new Uh(di(t),t.status);let n;try{n=await t.json()}catch(s){throw new r1(di(s),s)}let r;const i=MD(t);if(i&&i.getTime()>=n1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Pv(di(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new br}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Pv(di(n),t.status,n.weak_password.reasons);throw new hD(di(n),t.status||500,r)}const BD=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function xe(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Bh]||(s[Bh]=n1["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await UD(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function UD(t,e,n,r,i,s){const o=BD(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Uh(di(l),0)}if(a.ok||await jv(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await jv(l)}}function Gn(t){var e;let n=null;WD(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=SD(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Mv(t){const e=Gn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Er(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function VD(t){return{data:t,error:null}}function zD(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=LD(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function HD(t){return t}function WD(t){return t.access_token&&t.refresh_token&&t.expires_in}const Zu=["global","local","others"];var qD=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class KD{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=o1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Zu[0]){if(Zu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zu.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Er})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=qD(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:zD,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(fe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Er})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:HD});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);c[`${y}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(fe(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Hi(e);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Er})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Hi(e);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Er})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Hi(e);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Er})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Hi(e.userId);try{const{data:n,error:r}=await xe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Hi(e.userId),Hi(e.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}}function Ov(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function GD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wi={debug:!!(globalThis&&s1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class a1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class YD extends a1{}async function XD(t,e,n){Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new YD(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Wi.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}GD();const JD={url:aD,storageKey:lD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Dv(t,e,n){return await n()}const qi={};class sa{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=sa.nextInstanceID,sa.nextInstanceID+=1,this.instanceID>0&&un()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},JD),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new KD({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=o1(i.fetch),this.lock=i.lock||Dv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:un()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=XD:this.lock=Dv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:s1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ov(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ov(this.memoryStorage)),un()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=qi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){qi[this.storageKey]=Object.assign(Object.assign({},qi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=qi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){qi[this.storageKey]=Object.assign(Object.assign({},qi[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${t1}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=kD(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),un()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),mD(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return fe(n)?{error:n}:{error:new r1("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Gn}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await zi(this.storage,this.storageKey)),s=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:v},xform:Gn})}else if("phone"in e){const{phone:u,password:d,options:h}=e;s=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Gn})}else throw new el("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mv})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mv})}else throw new el("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Za}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(fe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,i,s,o,a,l,c,u,d,h,f;let v,g;if("message"in e)v=e.message,g=e.signature;else{const{chain:y,wallet:b,statement:x,options:w}=e;let _;if(un())if(typeof b=="object")_=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const C=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),x?{statement:x}:null));let k;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")k=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)k=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${C.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=S}}try{const{data:y,error:b}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:_D(g)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Gn});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Za}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(fe(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const n=await ri(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Gn});if(await pr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Za}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(fe(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Gn}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Za}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(fe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await zi(this.storage,this.storageKey));const{error:d}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new el("You must provide either an email or phone number.")}catch(a){if(fe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Gn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await zi(this.storage,this.storageKey)),await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:VD})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new br;const{error:i}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(fe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await xe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await xe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new el("You must provide either an email or phone number and a type")}catch(n){if(fe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ri(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Yu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await ri(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Qu()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Er}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new br}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Er})})}catch(n){if(fe(n))return pD(n)&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new br;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await zi(this.storage,this.storageKey));const{data:c,error:u}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Er});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new br;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Ju(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(fe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new br;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(fe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!un())throw new tl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new tl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Tv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Tv("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!s||!a||!o||!c)throw new tl("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=ns&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const v=h-d;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,u);const{data:g,error:y}=await this._getUser(s);if(y)throw y;const b={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(r){if(fe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ri(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(fD(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=CD(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await zi(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:d,error:h}=s;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return un()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(fe(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await PD(async i=>(i>0&&await TD(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Gn})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Xu(s)&&Date.now()+o-r<ns})}catch(r){if(this._debug(n,"error",r),fe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),un()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ri(this.storage,this.storageKey);if(i&&this.userStorage){let o=await ri(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await rs(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Qu()}else if(i&&!i.user&&!i.user){const o=await ri(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await pr(this.storage,this.storageKey+"-user"),await rs(this.storage,this.storageKey,i)):i.user=Qu()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Yu;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Yu}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Xu(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new br;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Jc;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new br;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),fe(s)){const o={session:null,error:s};return Xu(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await rs(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=Nv(i);await rs(this.storage,this.storageKey,s)}else{const i=Nv(n);await rs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await pr(this.storage,this.storageKey),await pr(this.storage,this.storageKey+"-code-verifier"),await pr(this.storage,this.storageKey+"-user"),this.userStorage&&await pr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&un()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ns);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/ns);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ns}ms, refresh threshold is ${Fh} ticks`),i<=Fh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof a1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!un()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await zi(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await xe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(fe(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(fe(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(fe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ju(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+dD>i)return r;const{data:s,error:o}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:f,error:v}=await this.getSession();if(v||!f.session)return{data:null,error:v};r=f.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Ju(r);n!=null&&n.allowExpired||OD(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:s,header:i,signature:o},error:null}}const u=DD(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,xD(`${a}.${l}`)))throw new Vh("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}}sa.nextInstanceID=0;const QD=sa;class ZD extends QD{constructor(e){super(e)}}var e$=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class t${constructor(e,n,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=sD(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:JO,realtime:ZO,auth:Object.assign(Object.assign({},QO),{storageKey:c}),global:XO},d=oD(r??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=rD(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new vO(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new KO(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new KM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return e$(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZD({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new MO(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const n$=(t,e,n)=>new t$(t,e,n);function r$(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}r$()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const i$="https://kazpdkmftoymgtoadqrl.supabase.co",s$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImthenBka21mdG95bWd0b2FkcXJsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ2MzEwODQsImV4cCI6MjA3MDIwNzA4NH0.itBpf8DpNzeH4JaCQ1glsIHCxO8_oiuKMZbFWk9hV8A",Ae=n$(i$,s$,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),l1=m.createContext({user:null,session:null,loading:!0,signOut:async()=>{}}),Qc=()=>{const t=m.useContext(l1);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},o$=({children:t})=>{const[e,n]=m.useState(null),[r,i]=m.useState(null),[s,o]=m.useState(!0);m.useEffect(()=>{const{data:{subscription:l}}=Ae.auth.onAuthStateChange((c,u)=>{i(u),n((u==null?void 0:u.user)??null),o(!1),u!=null&&u.user&&c==="SIGNED_IN"&&setTimeout(()=>{Ae.functions.invoke("check-subscription").catch(console.error)},0)});return Ae.auth.getSession().then(({data:{session:c}})=>{i(c),n((c==null?void 0:c.user)??null),o(!1)}),()=>l.unsubscribe()},[]);const a=async()=>{await Ae.auth.signOut()};return p.jsx(l1.Provider,{value:{user:e,session:r,loading:s,signOut:a},children:t})},c1=m.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));c1.displayName="Textarea";function a$({minHeight:t,maxHeight:e}){const n=m.useRef(null),r=m.useCallback(i=>{const s=n.current;if(!s)return;if(i){s.style.height=`${t}px`;return}s.style.height=`${t}px`;const o=Math.max(t,Math.min(s.scrollHeight,e??Number.POSITIVE_INFINITY));s.style.height=`${o}px`},[t,e]);return m.useEffect(()=>{const i=n.current;i&&(i.style.height=`${t}px`)},[t]),m.useEffect(()=>{const i=()=>r();return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[r]),{textareaRef:n,adjustHeight:r}}function $v({onSubmit:t}){const[e,n]=m.useState(""),[r,i]=m.useState(!1),[s,o]=m.useState(!1),{textareaRef:a,adjustHeight:l}=a$({minHeight:60,maxHeight:200}),c=()=>{e.trim()&&(t==null||t(e.trim()),n(""),l(!0))},u=d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),c())};return p.jsx("div",{className:"w-full",children:p.jsxs("div",{className:"relative bg-white rounded-xl border border-gray-200 shadow-lg",children:[p.jsxs("div",{className:"absolute top-2 sm:top-3 right-2 sm:right-3 z-10 flex items-center gap-1 sm:gap-2",children:[p.jsxs("button",{type:"button",onClick:()=>i(!r),className:ee("flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-xs font-medium transition-all duration-200",r?"bg-orange-100 text-orange-700 border border-orange-200":"bg-gray-100 text-gray-600 border border-gray-200 hover:bg-gray-150"),children:[p.jsx($I,{className:ee("w-3 h-3",r?"text-orange-600":"text-gray-500")}),p.jsx("span",{className:"hidden md:inline",children:"AGENT MODE"}),p.jsx("span",{className:"md:hidden",children:"AGENT"}),p.jsx("span",{className:ee("font-bold text-xs",r?"text-orange-700":"text-gray-500"),children:r?"ON":"OFF"})]}),p.jsxs("button",{type:"button",onClick:()=>o(!0),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-xs font-medium transition-all duration-200 bg-green-50 text-green-700 border border-green-200 hover:bg-green-100 shadow-[0_0_10px_rgba(34,197,94,0.2)]",children:[p.jsx(vI,{className:"w-3 h-3 text-green-600"}),p.jsx("span",{className:"hidden sm:inline",children:"VIDEO CHAT"}),p.jsx("span",{className:"sm:hidden",children:"VIDEO"})]})]}),p.jsx("div",{className:"overflow-y-auto pt-1 sm:pt-2",children:p.jsx(c1,{ref:a,value:e,onChange:d=>{n(d.target.value),l()},onKeyDown:u,placeholder:"Ask anything",className:ee("w-full px-3 sm:px-4 py-2 sm:py-3","resize-none","bg-transparent","border-none","text-gray-900 text-base sm:text-lg","focus:outline-none","focus-visible:ring-0 focus-visible:ring-offset-0","placeholder:text-gray-500 placeholder:text-base sm:placeholder:text-lg","min-h-[50px] sm:min-h-[60px]"),style:{overflow:"hidden"}})}),p.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3",children:[p.jsx("div",{className:"flex items-center gap-1 sm:gap-2",children:p.jsxs("button",{type:"button",className:"group p-1.5 sm:p-2 hover:bg-gray-100 rounded-lg transition-colors flex items-center gap-1",children:[p.jsx(mI,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-600"}),p.jsx("span",{className:"text-xs text-gray-500 hidden md:group-hover:inline transition-opacity",children:"Attach"})]})}),p.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[p.jsxs("button",{type:"button",className:"px-2 py-1 rounded-lg text-xs sm:text-sm text-gray-500 transition-colors border border-dashed border-gray-300 hover:border-gray-400 hover:bg-gray-50 flex items-center justify-between gap-1",children:[p.jsx(xh,{className:"w-3 h-3 sm:w-4 sm:h-4"}),p.jsx("span",{className:"hidden md:inline",children:"Project"})]}),p.jsxs("button",{type:"button",onClick:c,disabled:!e.trim(),className:ee("px-1.5 py-1.5 rounded-lg text-sm transition-colors border border-gray-300 hover:border-gray-400 hover:bg-gray-50 flex items-center justify-between gap-1",e.trim()?"bg-gray-900 text-white":"text-gray-500"),children:[p.jsx(b2,{className:ee("w-3 h-3 sm:w-4 sm:h-4",e.trim()?"text-white":"text-gray-500")}),p.jsx("span",{className:"sr-only",children:"Send"})]})]})]})]})})}function Lv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function l$(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Lv(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Lv(t[i],null)}}}}function Vr(t){const e=u$(t),n=m.forwardRef((r,i)=>{const{children:s,...o}=r,a=m.Children.toArray(s),l=a.find(h$);if(l){const c=l.props.children,u=a.map(d=>d===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:d);return p.jsx(e,{...o,ref:i,children:m.isValidElement(c)?m.cloneElement(c,void 0,u):null})}return p.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var c$=Vr("Slot");function u$(t){const e=m.forwardRef((n,r)=>{const{children:i,...s}=n;if(m.isValidElement(i)){const o=p$(i),a=f$(s,i.props);return i.type!==m.Fragment&&(a.ref=r?l$(r,o):o),m.cloneElement(i,a)}return m.Children.count(i)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var d$=Symbol("radix.slottable");function h$(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===d$}function f$(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function p$(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const m$=Ca("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ee=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?c$:"button";return p.jsx(o,{className:ee(m$({variant:e,size:n,className:t})),ref:s,...i})});Ee.displayName="Button";class ys{static getSettings(){try{const e=localStorage.getItem(this.STORAGE_KEY);if(e)return{...this.DEFAULT_SETTINGS,...JSON.parse(e)}}catch(e){console.error("Error loading OpenAI settings:",e)}return this.DEFAULT_SETTINGS}static saveSettings(e){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}catch(n){console.error("Error saving OpenAI settings:",n)}}static async sendMessage(e,n){var a,l,c;const r=this.getSettings();if(!r.apiKey)throw new Error("OpenAI API key is required. Please configure it in settings.");const i={role:"system",content:"You are Frondex AI, a specialized assistant for private markets, deal flow, and portfolio insights. You help users understand venture capital, private equity, hedge funds, and alternative investments. Provide accurate, professional, and actionable insights while maintaining a conversational tone."},s={model:r.model,messages:[i,...e],stream:r.streaming,temperature:.7,max_tokens:1e3},o=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.apiKey}`},body:JSON.stringify(s)});if(!o.ok){const u=await o.json().catch(()=>({error:{message:"Unknown error"}}));throw new Error(((a=u.error)==null?void 0:a.message)||`OpenAI API error: ${o.status}`)}return r.streaming&&n?this.handleStreamResponse(o,n):((c=(l=(await o.json()).choices[0])==null?void 0:l.message)==null?void 0:c.content)||""}static async handleStreamResponse(e,n){var o,a,l,c;const r=(o=e.body)==null?void 0:o.getReader();if(!r)throw new Error("Failed to get response reader");const i=new TextDecoder;let s="";try{for(;;){const{done:u,value:d}=await r.read();if(u)break;const f=i.decode(d).split(`
`);for(const v of f)if(v.startsWith("data: ")){const g=v.slice(6);if(g==="[DONE]")return s;try{const b=(c=(l=(a=JSON.parse(g).choices)==null?void 0:a[0])==null?void 0:l.delta)==null?void 0:c.content;b&&(s+=b,n(b))}catch{}}}}finally{r.releaseLock()}return s}static getAvailableModels(){return[{id:"gpt-4o",name:"GPT-4o (Latest)"},{id:"gpt-4o-mini",name:"GPT-4o Mini (Fast)"},{id:"gpt-4-turbo",name:"GPT-4 Turbo"},{id:"gpt-4",name:"GPT-4"},{id:"gpt-3.5-turbo",name:"GPT-3.5 Turbo"}]}}ti(ys,"STORAGE_KEY","openai-settings"),ti(ys,"DEFAULT_SETTINGS",{apiKey:"",model:"gpt-4o",streaming:!0});const ea=class ea{constructor(e){ti(this,"sessionToken",null);this.settings=e}static getSettings(){try{const e=localStorage.getItem(this.STORAGE_KEY);if(e)return{...this.DEFAULT_SETTINGS,...JSON.parse(e)}}catch(e){console.error("Error loading Private Markets settings:",e)}return this.DEFAULT_SETTINGS}static saveSettings(e){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}catch(n){console.error("Error saving Private Markets settings:",n)}}async initSession(){try{const e=await fetch(`${this.settings.apiUrl}/api/wrapper/session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:this.settings.userId,appId:this.settings.appId,userPreferences:{responseFormat:this.settings.responseFormat,includeCharts:this.settings.includeCharts,maxResults:this.settings.maxResults}})});if(!e.ok)throw new Error(`Session creation failed: ${e.status}`);const n=await e.json();if(n.success)this.sessionToken=n.sessionToken;else throw new Error(n.error||"Session creation failed")}catch(e){console.error("Failed to initialize session:",e)}}async sendMessage(e){var n,r;try{const i=await fetch(`${this.settings.apiUrl}/api/wrapper/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,sessionToken:this.sessionToken,userId:this.settings.userId,context:{appId:this.settings.appId,userPreferences:{responseFormat:this.settings.responseFormat,includeCharts:this.settings.includeCharts,maxResults:this.settings.maxResults}}})});if(!i.ok)throw i.status===429?new Error("Rate limit exceeded. Please try again later."):i.status===404?new Error("Session expired. Starting new conversation."):new Error(`API error: ${i.status}`);const s=await i.json();if(s.success)return this.sessionToken=s.sessionToken,{success:!0,message:s.response.message,entities:((n=s.response.data)==null?void 0:n.entities)||[],suggestions:s.response.suggestions||[],visualizations:s.response.visualizations||[],sessionToken:s.sessionToken,conversationContext:s.conversationContext||{intent:"general_search",entitiesDiscussed:[],topicHistory:[],lastQuery:e,queryCount:1}};throw new Error(((r=s.error)==null?void 0:r.message)||"Chat request failed")}catch(i){return console.error("Private Markets API error:",i),{success:!1,message:i instanceof Error?i.message:"An unexpected error occurred",entities:[],suggestions:[],visualizations:[],sessionToken:this.sessionToken||"",conversationContext:{intent:"error",entitiesDiscussed:[],topicHistory:[],lastQuery:e,queryCount:0}}}}async getSessionInfo(){if(!this.sessionToken)return null;try{const e=await fetch(`${this.settings.apiUrl}/api/wrapper/session/${this.sessionToken}`);if(e.ok)return await e.json()}catch(e){console.error("Failed to get session info:",e)}return null}async deleteSession(){if(!this.sessionToken)return!1;try{if((await fetch(`${this.settings.apiUrl}/api/wrapper/session/${this.sessionToken}`,{method:"DELETE"})).ok)return this.sessionToken=null,!0}catch(e){console.error("Failed to delete session:",e)}return!1}static async checkHealth(e=ea.DEFAULT_SETTINGS.apiUrl){try{return(await(await fetch(`${e}/health`)).json()).status==="healthy"}catch(n){return console.error("Health check failed:",n),!1}}};ti(ea,"STORAGE_KEY","private-markets-settings"),ti(ea,"DEFAULT_SETTINGS",{apiUrl:"https://merry-creativity-production.up.railway.app",userId:"user-"+Math.random().toString(36).substr(2,9),appId:"frondex-chat",responseFormat:"conversational",includeCharts:!0,maxResults:5});let nr=ea;function g$(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const v$=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,y$=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,b$={};function Fv(t,e){return(b$.jsx?y$:v$).test(t)}const w$=/[ \t\n\f\r]/g;function x$(t){return typeof t=="object"?t.type==="text"?Bv(t.value):!1:Bv(t)}function Bv(t){return t.replace(w$,"")===""}class Ra{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Ra.prototype.normal={};Ra.prototype.property={};Ra.prototype.space=void 0;function u1(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ra(n,r,e)}function zh(t){return t.toLowerCase()}class Ut{constructor(e,n){this.attribute=n,this.property=e}}Ut.prototype.attribute="";Ut.prototype.booleanish=!1;Ut.prototype.boolean=!1;Ut.prototype.commaOrSpaceSeparated=!1;Ut.prototype.commaSeparated=!1;Ut.prototype.defined=!1;Ut.prototype.mustUseProperty=!1;Ut.prototype.number=!1;Ut.prototype.overloadedBoolean=!1;Ut.prototype.property="";Ut.prototype.spaceSeparated=!1;Ut.prototype.space=void 0;let _$=0;const ge=$i(),it=$i(),Hh=$i(),W=$i(),De=$i(),bs=$i(),zt=$i();function $i(){return 2**++_$}const Wh=Object.freeze(Object.defineProperty({__proto__:null,boolean:ge,booleanish:it,commaOrSpaceSeparated:zt,commaSeparated:bs,number:W,overloadedBoolean:Hh,spaceSeparated:De},Symbol.toStringTag,{value:"Module"})),ed=Object.keys(Wh);class zp extends Ut{constructor(e,n,r,i){let s=-1;if(super(e,n),Uv(this,"space",i),typeof r=="number")for(;++s<ed.length;){const o=ed[s];Uv(this,ed[s],(r&Wh[o])===Wh[o])}}}zp.prototype.defined=!0;function Uv(t,e,n){n&&(t[e]=n)}function eo(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new zp(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[zh(r)]=r,n[zh(s.attribute)]=r}return new Ra(e,n,t.space)}const d1=eo({properties:{ariaActiveDescendant:null,ariaAtomic:it,ariaAutoComplete:null,ariaBusy:it,ariaChecked:it,ariaColCount:W,ariaColIndex:W,ariaColSpan:W,ariaControls:De,ariaCurrent:null,ariaDescribedBy:De,ariaDetails:null,ariaDisabled:it,ariaDropEffect:De,ariaErrorMessage:null,ariaExpanded:it,ariaFlowTo:De,ariaGrabbed:it,ariaHasPopup:null,ariaHidden:it,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:De,ariaLevel:W,ariaLive:null,ariaModal:it,ariaMultiLine:it,ariaMultiSelectable:it,ariaOrientation:null,ariaOwns:De,ariaPlaceholder:null,ariaPosInSet:W,ariaPressed:it,ariaReadOnly:it,ariaRelevant:null,ariaRequired:it,ariaRoleDescription:De,ariaRowCount:W,ariaRowIndex:W,ariaRowSpan:W,ariaSelected:it,ariaSetSize:W,ariaSort:null,ariaValueMax:W,ariaValueMin:W,ariaValueNow:W,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function h1(t,e){return e in t?t[e]:e}function f1(t,e){return h1(t,e.toLowerCase())}const S$=eo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:bs,acceptCharset:De,accessKey:De,action:null,allow:null,allowFullScreen:ge,allowPaymentRequest:ge,allowUserMedia:ge,alt:null,as:null,async:ge,autoCapitalize:null,autoComplete:De,autoFocus:ge,autoPlay:ge,blocking:De,capture:null,charSet:null,checked:ge,cite:null,className:De,cols:W,colSpan:null,content:null,contentEditable:it,controls:ge,controlsList:De,coords:W|bs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ge,defer:ge,dir:null,dirName:null,disabled:ge,download:Hh,draggable:it,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ge,formTarget:null,headers:De,height:W,hidden:Hh,high:W,href:null,hrefLang:null,htmlFor:De,httpEquiv:De,id:null,imageSizes:null,imageSrcSet:null,inert:ge,inputMode:null,integrity:null,is:null,isMap:ge,itemId:null,itemProp:De,itemRef:De,itemScope:ge,itemType:De,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ge,low:W,manifest:null,max:null,maxLength:W,media:null,method:null,min:null,minLength:W,multiple:ge,muted:ge,name:null,nonce:null,noModule:ge,noValidate:ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ge,optimum:W,pattern:null,ping:De,placeholder:null,playsInline:ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ge,referrerPolicy:null,rel:De,required:ge,reversed:ge,rows:W,rowSpan:W,sandbox:De,scope:null,scoped:ge,seamless:ge,selected:ge,shadowRootClonable:ge,shadowRootDelegatesFocus:ge,shadowRootMode:null,shape:null,size:W,sizes:null,slot:null,span:W,spellCheck:it,src:null,srcDoc:null,srcLang:null,srcSet:null,start:W,step:null,style:null,tabIndex:W,target:null,title:null,translate:null,type:null,typeMustMatch:ge,useMap:null,value:it,width:W,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:De,axis:null,background:null,bgColor:null,border:W,borderColor:null,bottomMargin:W,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ge,declare:ge,event:null,face:null,frame:null,frameBorder:null,hSpace:W,leftMargin:W,link:null,longDesc:null,lowSrc:null,marginHeight:W,marginWidth:W,noResize:ge,noHref:ge,noShade:ge,noWrap:ge,object:null,profile:null,prompt:null,rev:null,rightMargin:W,rules:null,scheme:null,scrolling:it,standby:null,summary:null,text:null,topMargin:W,valueType:null,version:null,vAlign:null,vLink:null,vSpace:W,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ge,disableRemotePlayback:ge,prefix:null,property:null,results:W,security:null,unselectable:null},space:"html",transform:f1}),C$=eo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:zt,accentHeight:W,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:W,amplitude:W,arabicForm:null,ascent:W,attributeName:null,attributeType:null,azimuth:W,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:W,by:null,calcMode:null,capHeight:W,className:De,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:W,diffuseConstant:W,direction:null,display:null,dur:null,divisor:W,dominantBaseline:null,download:ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:W,enableBackground:null,end:null,event:null,exponent:W,externalResourcesRequired:null,fill:null,fillOpacity:W,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:bs,g2:bs,glyphName:bs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:W,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:W,horizOriginX:W,horizOriginY:W,id:null,ideographic:W,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:W,k:W,k1:W,k2:W,k3:W,k4:W,kernelMatrix:zt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:W,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:W,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:W,overlineThickness:W,paintOrder:null,panose1:null,path:null,pathLength:W,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:De,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:W,pointsAtY:W,pointsAtZ:W,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:zt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:zt,rev:zt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:zt,requiredFeatures:zt,requiredFonts:zt,requiredFormats:zt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:W,specularExponent:W,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:W,strikethroughThickness:W,string:null,stroke:null,strokeDashArray:zt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:W,strokeOpacity:W,strokeWidth:null,style:null,surfaceScale:W,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:zt,tabIndex:W,tableValues:null,target:null,targetX:W,targetY:W,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:zt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:W,underlineThickness:W,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:W,values:null,vAlphabetic:W,vMathematical:W,vectorEffect:null,vHanging:W,vIdeographic:W,version:null,vertAdvY:W,vertOriginX:W,vertOriginY:W,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:W,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:h1}),p1=eo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),m1=eo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:f1}),g1=eo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),k$={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},E$=/[A-Z]/g,Vv=/-[a-z]/g,T$=/^data[-\w.:]+$/i;function P$(t,e){const n=zh(e);let r=e,i=Ut;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&T$.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(Vv,R$);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!Vv.test(s)){let o=s.replace(E$,A$);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=zp}return new i(r,e)}function A$(t){return"-"+t.toLowerCase()}function R$(t){return t.charAt(1).toUpperCase()}const I$=u1([d1,S$,p1,m1,g1],"html"),Hp=u1([d1,C$,p1,m1,g1],"svg");function N$(t){return t.join(" ").trim()}var Wp={},zv=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,j$=/\n/g,M$=/^\s*/,O$=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,D$=/^:\s*/,$$=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,L$=/^[;\s]*/,F$=/^\s+|\s+$/g,B$=`
`,Hv="/",Wv="*",mi="",U$="comment",V$="declaration",z$=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(v){var g=v.match(j$);g&&(n+=g.length);var y=v.lastIndexOf(B$);r=~y?v.length-y:r+v.length}function s(){var v={line:n,column:r};return function(g){return g.position=new o(v),c(),g}}function o(v){this.start=v,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(v){var g=new Error(e.source+":"+n+":"+r+": "+v);if(g.reason=v,g.filename=e.source,g.line=n,g.column=r,g.source=t,!e.silent)throw g}function l(v){var g=v.exec(t);if(g){var y=g[0];return i(y),t=t.slice(y.length),g}}function c(){l(M$)}function u(v){var g;for(v=v||[];g=d();)g!==!1&&v.push(g);return v}function d(){var v=s();if(!(Hv!=t.charAt(0)||Wv!=t.charAt(1))){for(var g=2;mi!=t.charAt(g)&&(Wv!=t.charAt(g)||Hv!=t.charAt(g+1));)++g;if(g+=2,mi===t.charAt(g-1))return a("End of comment missing");var y=t.slice(2,g-2);return r+=2,i(y),t=t.slice(g),r+=2,v({type:U$,comment:y})}}function h(){var v=s(),g=l(O$);if(g){if(d(),!l(D$))return a("property missing ':'");var y=l($$),b=v({type:V$,property:qv(g[0].replace(zv,mi)),value:y?qv(y[0].replace(zv,mi)):mi});return l(L$),b}}function f(){var v=[];u(v);for(var g;g=h();)g!==!1&&(v.push(g),u(v));return v}return c(),f()};function qv(t){return t?t.replace(F$,mi):mi}var H$=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wp,"__esModule",{value:!0});Wp.default=q$;var W$=H$(z$);function q$(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,W$.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?e(o,a,s):a&&(n=n||{},n[o]=a)}}),n}var Zc={};Object.defineProperty(Zc,"__esModule",{value:!0});Zc.camelCase=void 0;var K$=/^--[a-zA-Z0-9_-]+$/,G$=/-([a-z])/g,Y$=/^[^-]+$/,X$=/^-(webkit|moz|ms|o|khtml)-/,J$=/^-(ms)-/,Q$=function(t){return!t||Y$.test(t)||K$.test(t)},Z$=function(t,e){return e.toUpperCase()},Kv=function(t,e){return"".concat(e,"-")},eL=function(t,e){return e===void 0&&(e={}),Q$(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(J$,Kv):t=t.replace(X$,Kv),t.replace(G$,Z$))};Zc.camelCase=eL;var tL=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},nL=tL(Wp),rL=Zc;function qh(t,e){var n={};return!t||typeof t!="string"||(0,nL.default)(t,function(r,i){r&&i&&(n[(0,rL.camelCase)(r,e)]=i)}),n}qh.default=qh;var iL=qh;const sL=nx(iL),v1=y1("end"),qp=y1("start");function y1(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function oL(t){const e=qp(t),n=v1(t);if(e&&n)return{start:e,end:n}}function zo(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Gv(t.position):"start"in t||"end"in t?Gv(t):"line"in t||"column"in t?Kh(t):""}function Kh(t){return Yv(t&&t.line)+":"+Yv(t&&t.column)}function Gv(t){return Kh(t&&t.start)+"-"+Kh(t&&t.end)}function Yv(t){return t&&typeof t=="number"?t:1}class kt extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=zo(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}kt.prototype.file="";kt.prototype.name="";kt.prototype.reason="";kt.prototype.message="";kt.prototype.stack="";kt.prototype.column=void 0;kt.prototype.line=void 0;kt.prototype.ancestors=void 0;kt.prototype.cause=void 0;kt.prototype.fatal=void 0;kt.prototype.place=void 0;kt.prototype.ruleId=void 0;kt.prototype.source=void 0;const Kp={}.hasOwnProperty,aL=new Map,lL=/[A-Z]/g,cL=new Set(["table","tbody","thead","tfoot","tr"]),uL=new Set(["td","th"]),b1="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function dL(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=bL(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=yL(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Hp:I$,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=w1(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function w1(t,e,n){if(e.type==="element")return hL(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return fL(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return mL(t,e,n);if(e.type==="mdxjsEsm")return pL(t,e);if(e.type==="root")return gL(t,e,n);if(e.type==="text")return vL(t,e)}function hL(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Hp,t.schema=i),t.ancestors.push(e);const s=_1(t,e.tagName,!1),o=wL(t,e);let a=Yp(t,e);return cL.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!x$(l):!0})),x1(t,o,s,e),Gp(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function fL(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}oa(t,e.position)}function pL(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);oa(t,e.position)}function mL(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Hp,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:_1(t,e.name,!0),o=xL(t,e),a=Yp(t,e);return x1(t,o,s,e),Gp(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function gL(t,e,n){const r={};return Gp(r,Yp(t,e)),t.create(e,t.Fragment,r,n)}function vL(t,e){return e.value}function x1(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Gp(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function yL(t,e,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:e;return a?c(s,o,a):c(s,o)}}function bL(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=qp(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function wL(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Kp.call(e.properties,i)){const s=_L(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&uL.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function xL(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else oa(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else oa(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Yp(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:aL;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=w1(t,s,o);a!==void 0&&n.push(a)}return n}function _L(t,e,n){const r=P$(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?g$(n):N$(n)),r.property==="style"){let i=typeof n=="object"?n:SL(t,String(n));return t.stylePropertyNameCase==="css"&&(i=CL(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?k$[r.property]||r.property:r.attribute,n]}}function SL(t,e){try{return sL(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new kt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=b1+"#cannot-parse-style-attribute",i}}function _1(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=Fv(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=Fv(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Kp.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);oa(t)}function oa(t,e){const n=new kt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=b1+"#cannot-handle-mdx-estrees-without-createevaluater",n}function CL(t){const e={};let n;for(n in t)Kp.call(t,n)&&(e[kL(n)]=t[n]);return e}function kL(t){let e=t.replace(lL,EL);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function EL(t){return"-"+t.toLowerCase()}const td={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},TL={};function Xp(t,e){const n=TL,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return S1(t,r,i)}function S1(t,e,n){if(PL(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Xv(t.children,e,n)}return Array.isArray(t)?Xv(t,e,n):""}function Xv(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=S1(t[i],e,n);return r.join("")}function PL(t){return!!(t&&typeof t=="object")}const Jv=document.createElement("i");function Jp(t){const e="&"+t+";";Jv.innerHTML=e;const n=Jv.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Jt(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function nn(t,e){return t.length>0?(Jt(t,t.length,0,e),t):e}const Qv={}.hasOwnProperty;function C1(t){const e={};let n=-1;for(;++n<t.length;)AL(e,t[n]);return e}function AL(t,e){let n;for(n in e){const i=(Qv.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){Qv.call(i,o)||(i[o]=[]);const a=s[o];RL(i[o],Array.isArray(a)?a:a?[a]:[])}}}function RL(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Jt(t,0,0,r)}function k1(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function vn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const At=Gr(/[A-Za-z]/),xt=Gr(/[\dA-Za-z]/),IL=Gr(/[#-'*+\--9=?A-Z^-~]/);function Yl(t){return t!==null&&(t<32||t===127)}const Gh=Gr(/\d/),NL=Gr(/[\dA-Fa-f]/),jL=Gr(/[!-/:-@[-`{-~]/);function ie(t){return t!==null&&t<-2}function je(t){return t!==null&&(t<0||t===32)}function _e(t){return t===-2||t===-1||t===32}const eu=Gr(new RegExp("\\p{P}|\\p{S}","u")),Ei=Gr(/\s/);function Gr(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function to(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&xt(t.charCodeAt(n+1))&&xt(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Se(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return _e(l)?(t.enter(n),a(l)):e(l)}function a(l){return _e(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const ML={tokenize:OL};function OL(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Se(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return ie(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const DL={tokenize:$L},Zv={tokenize:LL};function $L(t){const e=this,n=[];let r=0,i,s,o;return a;function a(w){if(r<n.length){const _=n[r];return e.containerState=_[1],t.attempt(_[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&x();const _=e.events.length;let C=_,S;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){S=e.events[C][1].end;break}b(r);let k=_;for(;k<e.events.length;)e.events[k][1].end={...S},k++;return Jt(e.events,C+1,0,e.events.slice(_)),e.events.length=k,c(w)}return a(w)}function c(w){if(r===n.length){if(!i)return h(w);if(i.currentConstruct&&i.currentConstruct.concrete)return v(w);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Zv,u,d)(w)}function u(w){return i&&x(),b(r),h(w)}function d(w){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,v(w)}function h(w){return e.containerState={},t.attempt(Zv,f,v)(w)}function f(w){return r++,n.push([e.currentConstruct,e.containerState]),h(w)}function v(w){if(w===null){i&&x(),b(0),t.consume(w);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),g(w)}function g(w){if(w===null){y(t.exit("chunkFlow"),!0),b(0),t.consume(w);return}return ie(w)?(t.consume(w),y(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(w),g)}function y(w,_){const C=e.sliceStream(w);if(_&&C.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(C),e.parser.lazy[w.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<o&&(!i.events[S][1].end||i.events[S][1].end.offset>o))return;const k=e.events.length;let T=k,N,A;for(;T--;)if(e.events[T][0]==="exit"&&e.events[T][1].type==="chunkFlow"){if(N){A=e.events[T][1].end;break}N=!0}for(b(r),S=k;S<e.events.length;)e.events[S][1].end={...A},S++;Jt(e.events,T+1,0,e.events.slice(k)),e.events.length=S}}function b(w){let _=n.length;for(;_-- >w;){const C=n[_];e.containerState=C[1],C[0].exit.call(e,t)}n.length=w}function x(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function LL(t,e,n){return Se(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ls(t){if(t===null||je(t)||Ei(t))return 1;if(eu(t))return 2}function tu(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const Yh={name:"attention",resolveAll:FL,tokenize:BL};function FL(t,e){let n=-1,r,i,s,o,a,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},h={...t[n][1].start};ey(d,-l),ey(h,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=nn(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=nn(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=nn(c,tu(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=nn(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=nn(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,Jt(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function BL(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Ls(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),u=Ls(l),d=!u||u===2&&i||n.includes(l),h=!i||i===2&&u||n.includes(r);return c._open=!!(s===42?d:d&&(i||!h)),c._close=!!(s===42?h:h&&(u||!d)),e(l)}}function ey(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const UL={name:"autolink",tokenize:VL};function VL(t,e,n){let r=0;return i;function i(f){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(f){return At(f)?(t.consume(f),o):f===64?n(f):c(f)}function o(f){return f===43||f===45||f===46||xt(f)?(r=1,a(f)):c(f)}function a(f){return f===58?(t.consume(f),r=0,l):(f===43||f===45||f===46||xt(f))&&r++<32?(t.consume(f),a):(r=0,c(f))}function l(f){return f===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):f===null||f===32||f===60||Yl(f)?n(f):(t.consume(f),l)}function c(f){return f===64?(t.consume(f),u):IL(f)?(t.consume(f),c):n(f)}function u(f){return xt(f)?d(f):n(f)}function d(f){return f===46?(t.consume(f),r=0,u):f===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):h(f)}function h(f){if((f===45||xt(f))&&r++<63){const v=f===45?h:d;return t.consume(f),v}return n(f)}}const Ia={partial:!0,tokenize:zL};function zL(t,e,n){return r;function r(s){return _e(s)?Se(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||ie(s)?e(s):n(s)}}const E1={continuation:{tokenize:WL},exit:qL,name:"blockQuote",tokenize:HL};function HL(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return _e(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function WL(t,e,n){const r=this;return i;function i(o){return _e(o)?Se(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(E1,e,n)(o)}}function qL(t){t.exit("blockQuote")}const T1={name:"characterEscape",tokenize:KL};function KL(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return jL(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const P1={name:"characterReference",tokenize:GL};function GL(t,e,n){const r=this;let i=0,s,o;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=xt,u(d))}function c(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=NL,u):(t.enter("characterReferenceValue"),s=7,o=Gh,u(d))}function u(d){if(d===59&&i){const h=t.exit("characterReferenceValue");return o===xt&&!Jp(r.sliceSerialize(h))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(d)&&i++<s?(t.consume(d),u):n(d)}}const ty={partial:!0,tokenize:XL},ny={concrete:!0,name:"codeFenced",tokenize:YL};function YL(t,e,n){const r=this,i={partial:!0,tokenize:C};let s=0,o=0,a;return l;function l(S){return c(S)}function c(S){const k=r.events[r.events.length-1];return s=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,a=S,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(S)}function u(S){return S===a?(o++,t.consume(S),u):o<3?n(S):(t.exit("codeFencedFenceSequence"),_e(S)?Se(t,d,"whitespace")(S):d(S))}function d(S){return S===null||ie(S)?(t.exit("codeFencedFence"),r.interrupt?e(S):t.check(ty,g,_)(S)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(S))}function h(S){return S===null||ie(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(S)):_e(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Se(t,f,"whitespace")(S)):S===96&&S===a?n(S):(t.consume(S),h)}function f(S){return S===null||ie(S)?d(S):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(S))}function v(S){return S===null||ie(S)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(S)):S===96&&S===a?n(S):(t.consume(S),v)}function g(S){return t.attempt(i,_,y)(S)}function y(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),b}function b(S){return s>0&&_e(S)?Se(t,x,"linePrefix",s+1)(S):x(S)}function x(S){return S===null||ie(S)?t.check(ty,g,_)(S):(t.enter("codeFlowValue"),w(S))}function w(S){return S===null||ie(S)?(t.exit("codeFlowValue"),x(S)):(t.consume(S),w)}function _(S){return t.exit("codeFenced"),e(S)}function C(S,k,T){let N=0;return A;function A(B){return S.enter("lineEnding"),S.consume(B),S.exit("lineEnding"),j}function j(B){return S.enter("codeFencedFence"),_e(B)?Se(S,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):M(B)}function M(B){return B===a?(S.enter("codeFencedFenceSequence"),V(B)):T(B)}function V(B){return B===a?(N++,S.consume(B),V):N>=o?(S.exit("codeFencedFenceSequence"),_e(B)?Se(S,D,"whitespace")(B):D(B)):T(B)}function D(B){return B===null||ie(B)?(S.exit("codeFencedFence"),k(B)):T(B)}}}function XL(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const nd={name:"codeIndented",tokenize:QL},JL={partial:!0,tokenize:ZL};function QL(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Se(t,s,"linePrefix",5)(c)}function s(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):ie(c)?t.attempt(JL,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||ie(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function ZL(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):ie(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Se(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):ie(o)?i(o):n(o)}}const e3={name:"codeText",previous:n3,resolve:t3,tokenize:r3};function t3(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function n3(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function r3(t,e,n){let r=0,i,s;return o;function o(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,u(d)):ie(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||ie(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),c)}function u(d){return d===96?(t.consume(d),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",c(d))}}class i3{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&fo(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),fo(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),fo(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);fo(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);fo(this.left,n.reverse())}}}function fo(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function A1(t){const e={};let n=-1,r,i,s,o,a,l,c;const u=new i3(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,s3(u,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=u.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return Jt(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function s3(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let u,d,h=-1,f=n,v=0,g=0;const y=[g];for(;f;){for(;t.get(++i)[1]!==f;);s.push(i),f._tokenizer||(u=r.sliceStream(f),f.next||u.push(null),d&&o.defineSkip(f.start),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=n;++h<a.length;)a[h][0]==="exit"&&a[h-1][0]==="enter"&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(g=h+1,y.push(g),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(o.events=[],f?(f._tokenizer=void 0,f.previous=void 0):y.pop(),h=y.length;h--;){const b=a.slice(y[h],y[h+1]),x=s.pop();l.push([x,x+b.length-1]),t.splice(x,2,b)}for(l.reverse(),h=-1;++h<l.length;)c[v+l[h][0]]=v+l[h][1],v+=l[h][1]-l[h][0]-1;return c}const o3={resolve:l3,tokenize:c3},a3={partial:!0,tokenize:u3};function l3(t){return A1(t),t}function c3(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):ie(a)?t.check(a3,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function u3(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Se(t,s,"linePrefix")}function s(o){if(o===null||ie(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function R1(t,e,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(b){return b===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(b),t.exit(s),h):b===null||b===32||b===41||Yl(b)?n(b):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),g(b))}function h(b){return b===62?(t.enter(s),t.consume(b),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),f(b))}function f(b){return b===62?(t.exit("chunkString"),t.exit(a),h(b)):b===null||b===60||ie(b)?n(b):(t.consume(b),b===92?v:f)}function v(b){return b===60||b===62||b===92?(t.consume(b),f):f(b)}function g(b){return!u&&(b===null||b===41||je(b))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(b)):u<c&&b===40?(t.consume(b),u++,g):b===41?(t.consume(b),u--,g):b===null||b===32||b===40||Yl(b)?n(b):(t.consume(b),b===92?y:g)}function y(b){return b===40||b===41||b===92?(t.consume(b),g):g(b)}}function I1(t,e,n,r,i,s){const o=this;let a=0,l;return c;function c(f){return t.enter(r),t.enter(i),t.consume(f),t.exit(i),t.enter(s),u}function u(f){return a>999||f===null||f===91||f===93&&!l||f===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(f):f===93?(t.exit(s),t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):ie(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===null||f===91||f===93||ie(f)||a++>999?(t.exit("chunkString"),u(f)):(t.consume(f),l||(l=!_e(f)),f===92?h:d)}function h(f){return f===91||f===92||f===93?(t.consume(f),a++,d):d(f)}}function N1(t,e,n,r,i,s){let o;return a;function a(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),o=h===40?41:h,l):n(h)}function l(h){return h===o?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(s),c(h))}function c(h){return h===o?(t.exit(s),l(o)):h===null?n(h):ie(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Se(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(h))}function u(h){return h===o||h===null||ie(h)?(t.exit("chunkString"),c(h)):(t.consume(h),h===92?d:u)}function d(h){return h===o||h===92?(t.consume(h),u):u(h)}}function Ho(t,e){let n;return r;function r(i){return ie(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):_e(i)?Se(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const d3={name:"definition",tokenize:f3},h3={partial:!0,tokenize:p3};function f3(t,e,n){const r=this;let i;return s;function s(f){return t.enter("definition"),o(f)}function o(f){return I1.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function a(f){return i=vn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(t.enter("definitionMarker"),t.consume(f),t.exit("definitionMarker"),l):n(f)}function l(f){return je(f)?Ho(t,c)(f):c(f)}function c(f){return R1(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function u(f){return t.attempt(h3,d,d)(f)}function d(f){return _e(f)?Se(t,h,"whitespace")(f):h(f)}function h(f){return f===null||ie(f)?(t.exit("definition"),r.parser.defined.push(i),e(f)):n(f)}}function p3(t,e,n){return r;function r(a){return je(a)?Ho(t,i)(a):n(a)}function i(a){return N1(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return _e(a)?Se(t,o,"whitespace")(a):o(a)}function o(a){return a===null||ie(a)?e(a):n(a)}}const m3={name:"hardBreakEscape",tokenize:g3};function g3(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return ie(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const v3={name:"headingAtx",resolve:y3,tokenize:b3};function y3(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Jt(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function b3(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),s(u)}function s(u){return t.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(t.consume(u),o):u===null||je(u)?(t.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||ie(u)?(t.exit("atxHeading"),e(u)):_e(u)?Se(t,a,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||je(u)?(t.exit("atxHeadingText"),a(u)):(t.consume(u),c)}}const w3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ry=["pre","script","style","textarea"],x3={concrete:!0,name:"htmlFlow",resolveTo:C3,tokenize:k3},_3={partial:!0,tokenize:T3},S3={partial:!0,tokenize:E3};function C3(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function k3(t,e,n){const r=this;let i,s,o,a,l;return c;function c(P){return u(P)}function u(P){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(P),d}function d(P){return P===33?(t.consume(P),h):P===47?(t.consume(P),s=!0,g):P===63?(t.consume(P),i=3,r.interrupt?e:E):At(P)?(t.consume(P),o=String.fromCharCode(P),y):n(P)}function h(P){return P===45?(t.consume(P),i=2,f):P===91?(t.consume(P),i=5,a=0,v):At(P)?(t.consume(P),i=4,r.interrupt?e:E):n(P)}function f(P){return P===45?(t.consume(P),r.interrupt?e:E):n(P)}function v(P){const Z="CDATA[";return P===Z.charCodeAt(a++)?(t.consume(P),a===Z.length?r.interrupt?e:M:v):n(P)}function g(P){return At(P)?(t.consume(P),o=String.fromCharCode(P),y):n(P)}function y(P){if(P===null||P===47||P===62||je(P)){const Z=P===47,pe=o.toLowerCase();return!Z&&!s&&ry.includes(pe)?(i=1,r.interrupt?e(P):M(P)):w3.includes(o.toLowerCase())?(i=6,Z?(t.consume(P),b):r.interrupt?e(P):M(P)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(P):s?x(P):w(P))}return P===45||xt(P)?(t.consume(P),o+=String.fromCharCode(P),y):n(P)}function b(P){return P===62?(t.consume(P),r.interrupt?e:M):n(P)}function x(P){return _e(P)?(t.consume(P),x):A(P)}function w(P){return P===47?(t.consume(P),A):P===58||P===95||At(P)?(t.consume(P),_):_e(P)?(t.consume(P),w):A(P)}function _(P){return P===45||P===46||P===58||P===95||xt(P)?(t.consume(P),_):C(P)}function C(P){return P===61?(t.consume(P),S):_e(P)?(t.consume(P),C):w(P)}function S(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(t.consume(P),l=P,k):_e(P)?(t.consume(P),S):T(P)}function k(P){return P===l?(t.consume(P),l=null,N):P===null||ie(P)?n(P):(t.consume(P),k)}function T(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||je(P)?C(P):(t.consume(P),T)}function N(P){return P===47||P===62||_e(P)?w(P):n(P)}function A(P){return P===62?(t.consume(P),j):n(P)}function j(P){return P===null||ie(P)?M(P):_e(P)?(t.consume(P),j):n(P)}function M(P){return P===45&&i===2?(t.consume(P),F):P===60&&i===1?(t.consume(P),U):P===62&&i===4?(t.consume(P),q):P===63&&i===3?(t.consume(P),E):P===93&&i===5?(t.consume(P),R):ie(P)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(_3,z,V)(P)):P===null||ie(P)?(t.exit("htmlFlowData"),V(P)):(t.consume(P),M)}function V(P){return t.check(S3,D,z)(P)}function D(P){return t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),B}function B(P){return P===null||ie(P)?V(P):(t.enter("htmlFlowData"),M(P))}function F(P){return P===45?(t.consume(P),E):M(P)}function U(P){return P===47?(t.consume(P),o="",I):M(P)}function I(P){if(P===62){const Z=o.toLowerCase();return ry.includes(Z)?(t.consume(P),q):M(P)}return At(P)&&o.length<8?(t.consume(P),o+=String.fromCharCode(P),I):M(P)}function R(P){return P===93?(t.consume(P),E):M(P)}function E(P){return P===62?(t.consume(P),q):P===45&&i===2?(t.consume(P),E):M(P)}function q(P){return P===null||ie(P)?(t.exit("htmlFlowData"),z(P)):(t.consume(P),q)}function z(P){return t.exit("htmlFlow"),e(P)}}function E3(t,e,n){const r=this;return i;function i(o){return ie(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function T3(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Ia,e,n)}}const P3={name:"htmlText",tokenize:A3};function A3(t,e,n){const r=this;let i,s,o;return a;function a(E){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(E),l}function l(E){return E===33?(t.consume(E),c):E===47?(t.consume(E),C):E===63?(t.consume(E),w):At(E)?(t.consume(E),T):n(E)}function c(E){return E===45?(t.consume(E),u):E===91?(t.consume(E),s=0,v):At(E)?(t.consume(E),x):n(E)}function u(E){return E===45?(t.consume(E),f):n(E)}function d(E){return E===null?n(E):E===45?(t.consume(E),h):ie(E)?(o=d,U(E)):(t.consume(E),d)}function h(E){return E===45?(t.consume(E),f):d(E)}function f(E){return E===62?F(E):E===45?h(E):d(E)}function v(E){const q="CDATA[";return E===q.charCodeAt(s++)?(t.consume(E),s===q.length?g:v):n(E)}function g(E){return E===null?n(E):E===93?(t.consume(E),y):ie(E)?(o=g,U(E)):(t.consume(E),g)}function y(E){return E===93?(t.consume(E),b):g(E)}function b(E){return E===62?F(E):E===93?(t.consume(E),b):g(E)}function x(E){return E===null||E===62?F(E):ie(E)?(o=x,U(E)):(t.consume(E),x)}function w(E){return E===null?n(E):E===63?(t.consume(E),_):ie(E)?(o=w,U(E)):(t.consume(E),w)}function _(E){return E===62?F(E):w(E)}function C(E){return At(E)?(t.consume(E),S):n(E)}function S(E){return E===45||xt(E)?(t.consume(E),S):k(E)}function k(E){return ie(E)?(o=k,U(E)):_e(E)?(t.consume(E),k):F(E)}function T(E){return E===45||xt(E)?(t.consume(E),T):E===47||E===62||je(E)?N(E):n(E)}function N(E){return E===47?(t.consume(E),F):E===58||E===95||At(E)?(t.consume(E),A):ie(E)?(o=N,U(E)):_e(E)?(t.consume(E),N):F(E)}function A(E){return E===45||E===46||E===58||E===95||xt(E)?(t.consume(E),A):j(E)}function j(E){return E===61?(t.consume(E),M):ie(E)?(o=j,U(E)):_e(E)?(t.consume(E),j):N(E)}function M(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(t.consume(E),i=E,V):ie(E)?(o=M,U(E)):_e(E)?(t.consume(E),M):(t.consume(E),D)}function V(E){return E===i?(t.consume(E),i=void 0,B):E===null?n(E):ie(E)?(o=V,U(E)):(t.consume(E),V)}function D(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||je(E)?N(E):(t.consume(E),D)}function B(E){return E===47||E===62||je(E)?N(E):n(E)}function F(E){return E===62?(t.consume(E),t.exit("htmlTextData"),t.exit("htmlText"),e):n(E)}function U(E){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),I}function I(E){return _e(E)?Se(t,R,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):R(E)}function R(E){return t.enter("htmlTextData"),o(E)}}const Qp={name:"labelEnd",resolveAll:j3,resolveTo:M3,tokenize:O3},R3={tokenize:D3},I3={tokenize:$3},N3={tokenize:L3};function j3(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Jt(t,0,t.length,n),t}function M3(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},u={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",c,e]],a=nn(a,t.slice(s+1,s+r+3)),a=nn(a,[["enter",u,e]]),a=nn(a,tu(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=nn(a,[["exit",u,e],t[o-2],t[o-1],["exit",c,e]]),a=nn(a,t.slice(o+1)),a=nn(a,[["exit",l,e]]),Jt(t,s,t.length,a),t}function O3(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(h){return s?s._inactive?d(h):(o=r.parser.defined.includes(vn(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(R3,u,o?u:d)(h):h===91?t.attempt(I3,u,o?c:d)(h):o?u(h):d(h)}function c(h){return t.attempt(N3,u,d)(h)}function u(h){return e(h)}function d(h){return s._balanced=!0,n(h)}}function D3(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return je(d)?Ho(t,s)(d):s(d)}function s(d){return d===41?u(d):R1(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return je(d)?Ho(t,l)(d):u(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?N1(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return je(d)?Ho(t,u)(d):u(d)}function u(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function $3(t,e,n){const r=this;return i;function i(a){return I1.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(vn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function L3(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const F3={name:"labelStartImage",resolveAll:Qp.resolveAll,tokenize:B3};function B3(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const U3={name:"labelStartLink",resolveAll:Qp.resolveAll,tokenize:V3};function V3(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const rd={name:"lineEnding",tokenize:z3};function z3(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Se(t,e,"linePrefix")}}const jl={name:"thematicBreak",tokenize:H3};function H3(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||ie(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),_e(c)?Se(t,a,"whitespace")(c):a(c))}}const jt={continuation:{tokenize:G3},exit:X3,name:"list",tokenize:K3},W3={partial:!0,tokenize:J3},q3={partial:!0,tokenize:Y3};function K3(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(f){const v=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:Gh(f)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),f===42||f===45?t.check(jl,n,c)(f):c(f);if(!r.interrupt||f===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(f)}return n(f)}function l(f){return Gh(f)&&++o<10?(t.consume(f),l):(!r.interrupt||o<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(t.exit("listItemValue"),c(f)):n(f)}function c(f){return t.enter("listItemMarker"),t.consume(f),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,t.check(Ia,r.interrupt?n:u,t.attempt(W3,h,d))}function u(f){return r.containerState.initialBlankLine=!0,s++,h(f)}function d(f){return _e(f)?(t.enter("listItemPrefixWhitespace"),t.consume(f),t.exit("listItemPrefixWhitespace"),h):n(f)}function h(f){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(f)}}function G3(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Ia,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Se(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!_e(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(q3,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Se(t,t.attempt(jt,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Y3(t,e,n){const r=this;return Se(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function X3(t){t.exit(this.containerState.type)}function J3(t,e,n){const r=this;return Se(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!_e(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const iy={name:"setextUnderline",resolveTo:Q3,tokenize:Z3};function Q3(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function Z3(t,e,n){const r=this;let i;return s;function s(c){let u=r.events.length,d;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){d=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),_e(c)?Se(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||ie(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const e4={tokenize:t4};function t4(t){const e=this,n=t.attempt(Ia,r,t.attempt(this.parser.constructs.flowInitial,i,Se(t,t.attempt(this.parser.constructs.flow,i,t.attempt(o3,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const n4={resolveAll:M1()},r4=j1("string"),i4=j1("text");function j1(t){return{resolveAll:M1(t==="text"?s4:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(u){return c(u)?s(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),s(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let h=-1;if(d)for(;++h<d.length;){const f=d[h];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function M1(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function s4(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const o4={42:jt,43:jt,45:jt,48:jt,49:jt,50:jt,51:jt,52:jt,53:jt,54:jt,55:jt,56:jt,57:jt,62:E1},a4={91:d3},l4={[-2]:nd,[-1]:nd,32:nd},c4={35:v3,42:jl,45:[iy,jl],60:x3,61:iy,95:jl,96:ny,126:ny},u4={38:P1,92:T1},d4={[-5]:rd,[-4]:rd,[-3]:rd,33:F3,38:P1,42:Yh,60:[UL,P3],91:U3,92:[m3,T1],93:Qp,95:Yh,96:e3},h4={null:[Yh,n4]},f4={null:[42,95]},p4={null:[]},m4=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:f4,contentInitial:a4,disable:p4,document:o4,flow:c4,flowInitial:l4,insideSpan:h4,string:u4,text:d4},Symbol.toStringTag,{value:"Module"}));function g4(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:k(C),check:k(S),consume:x,enter:w,exit:_,interrupt:k(S,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:v,parser:t,previous:null,sliceSerialize:h,sliceStream:f,write:d};let u=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function d(j){return o=nn(o,j),y(),o[o.length-1]!==null?[]:(T(e,0),c.events=tu(s,c.events,c),c.events)}function h(j,M){return y4(f(j),M)}function f(j){return v4(o,j)}function v(){const{_bufferIndex:j,_index:M,line:V,column:D,offset:B}=r;return{_bufferIndex:j,_index:M,line:V,column:D,offset:B}}function g(j){i[j.line]=j.column,A()}function y(){let j;for(;r._index<o.length;){const M=o[r._index];if(typeof M=="string")for(j=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===j&&r._bufferIndex<M.length;)b(M.charCodeAt(r._bufferIndex));else b(M)}}function b(j){u=u(j)}function x(j){ie(j)?(r.line++,r.column=1,r.offset+=j===-3?2:1,A()):j!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=j}function w(j,M){const V=M||{};return V.type=j,V.start=v(),c.events.push(["enter",V,c]),a.push(V),V}function _(j){const M=a.pop();return M.end=v(),c.events.push(["exit",M,c]),M}function C(j,M){T(j,M.from)}function S(j,M){M.restore()}function k(j,M){return V;function V(D,B,F){let U,I,R,E;return Array.isArray(D)?z(D):"tokenize"in D?z([D]):q(D);function q(ne){return Q;function Q(oe){const de=oe!==null&&ne[oe],re=oe!==null&&ne.null,ve=[...Array.isArray(de)?de:de?[de]:[],...Array.isArray(re)?re:re?[re]:[]];return z(ve)(oe)}}function z(ne){return U=ne,I=0,ne.length===0?F:P(ne[I])}function P(ne){return Q;function Q(oe){return E=N(),R=ne,ne.partial||(c.currentConstruct=ne),ne.name&&c.parser.constructs.disable.null.includes(ne.name)?pe():ne.tokenize.call(M?Object.assign(Object.create(c),M):c,l,Z,pe)(oe)}}function Z(ne){return j(R,E),B}function pe(ne){return E.restore(),++I<U.length?P(U[I]):F}}}function T(j,M){j.resolveAll&&!s.includes(j)&&s.push(j),j.resolve&&Jt(c.events,M,c.events.length-M,j.resolve(c.events.slice(M),c)),j.resolveTo&&(c.events=j.resolveTo(c.events,c))}function N(){const j=v(),M=c.previous,V=c.currentConstruct,D=c.events.length,B=Array.from(a);return{from:D,restore:F};function F(){r=j,c.previous=M,c.currentConstruct=V,c.events.length=D,a=B,A()}}function A(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function v4(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function y4(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function b4(t){const r={constructs:C1([m4,...(t||{}).extensions||[]]),content:i(ML),defined:[],document:i(DL),flow:i(e4),lazy:{},string:i(r4),text:i(i4)};return r;function i(s){return o;function o(a){return g4(r,s,a)}}}function w4(t){for(;!A1(t););return t}const sy=/[\0\t\n\r]/g;function x4(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let c,u,d,h,f;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(sy.lastIndex=d,c=sy.exec(s),h=c&&c.index!==void 0?c.index:s.length,f=s.charCodeAt(h),!c){e=s.slice(d);break}if(f===10&&d===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<h&&(l.push(s.slice(d,h)),t+=h-d),f){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=h+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const _4=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function S4(t){return t.replace(_4,C4)}function C4(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return k1(n.slice(s?2:1),s?16:10)}return Jp(n)||t}const O1={}.hasOwnProperty;function k4(t,e,n){return typeof e!="string"&&(n=e,e=void 0),E4(n)(w4(b4(n).document().write(x4()(t,e,!0))))}function E4(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s($e),autolinkProtocol:N,autolinkEmail:N,atxHeading:s(mt),blockQuote:s(re),characterEscape:N,characterReference:N,codeFenced:s(ve),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ve,o),codeText:s(ye,o),codeTextData:N,data:N,codeFlowValue:N,definition:s(Ne),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Qe),hardBreakEscape:s(nt),hardBreakTrailing:s(nt),htmlFlow:s(gt,o),htmlFlowData:N,htmlText:s(gt,o),htmlTextData:N,image:s(Zr),label:o,link:s($e),listItem:s(Du),listItemValue:h,listOrdered:s(zn,d),listUnordered:s(zn),paragraph:s($u),reference:P,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(mt),strong:s(Ui),thematicBreak:s(za)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:de,autolinkProtocol:oe,blockQuote:l(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:pe,characterReferenceMarkerNumeric:pe,characterReferenceValue:ne,characterReference:Q,codeFenced:l(y),codeFencedFence:g,codeFencedFenceInfo:f,codeFencedFenceMeta:v,codeFlowValue:A,codeIndented:l(b),codeText:l(B),codeTextData:A,data:A,definition:l(),definitionDestinationString:_,definitionLabelString:x,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(M),hardBreakTrailing:l(M),htmlFlow:l(V),htmlFlowData:A,htmlText:l(D),htmlTextData:A,image:l(U),label:R,labelText:I,lineEnding:j,link:l(F),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Z,resourceDestinationString:E,resourceTitleString:q,resource:z,setextHeading:l(T),setextHeadingLineSequence:k,setextHeadingText:S,strong:l(),thematicBreak:l()}};D1(e,(t||{}).mdastExtensions||[]);const n={};return r;function r($){let K={type:"root",children:[]};const le={stack:[K],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:u,data:n},he=[];let Te=-1;for(;++Te<$.length;)if($[Te][1].type==="listOrdered"||$[Te][1].type==="listUnordered")if($[Te][0]==="enter")he.push(Te);else{const Vt=he.pop();Te=i($,Vt,Te)}for(Te=-1;++Te<$.length;){const Vt=e[$[Te][0]];O1.call(Vt,$[Te][1].type)&&Vt[$[Te][1].type].call(Object.assign({sliceSerialize:$[Te][2].sliceSerialize},le),$[Te][1])}if(le.tokenStack.length>0){const Vt=le.tokenStack[le.tokenStack.length-1];(Vt[1]||oy).call(le,void 0,Vt[0])}for(K.position={start:mr($.length>0?$[0][1].start:{line:1,column:1,offset:0}),end:mr($.length>0?$[$.length-2][1].end:{line:1,column:1,offset:0})},Te=-1;++Te<e.transforms.length;)K=e.transforms[Te](K)||K;return K}function i($,K,le){let he=K-1,Te=-1,Vt=!1,_n,Qt,ei,Hn;for(;++he<=le;){const We=$[he];switch(We[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{We[0]==="enter"?Te++:Te--,Hn=void 0;break}case"lineEndingBlank":{We[0]==="enter"&&(_n&&!Hn&&!Te&&!ei&&(ei=he),Hn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Hn=void 0}if(!Te&&We[0]==="enter"&&We[1].type==="listItemPrefix"||Te===-1&&We[0]==="exit"&&(We[1].type==="listUnordered"||We[1].type==="listOrdered")){if(_n){let dr=he;for(Qt=void 0;dr--;){const se=$[dr];if(se[1].type==="lineEnding"||se[1].type==="lineEndingBlank"){if(se[0]==="exit")continue;Qt&&($[Qt][1].type="lineEndingBlank",Vt=!0),se[1].type="lineEnding",Qt=dr}else if(!(se[1].type==="linePrefix"||se[1].type==="blockQuotePrefix"||se[1].type==="blockQuotePrefixWhitespace"||se[1].type==="blockQuoteMarker"||se[1].type==="listItemIndent"))break}ei&&(!Qt||ei<Qt)&&(_n._spread=!0),_n.end=Object.assign({},Qt?$[Qt][1].start:We[1].end),$.splice(Qt||he,0,["exit",_n,We[2]]),he++,le++}if(We[1].type==="listItemPrefix"){const dr={type:"listItem",_spread:!1,start:Object.assign({},We[1].start),end:void 0};_n=dr,$.splice(he,0,["enter",dr,We[2]]),he++,le++,ei=void 0,Hn=!0}}}return $[K][1]._spread=Vt,le}function s($,K){return le;function le(he){a.call(this,$(he),he),K&&K.call(this,he)}}function o(){this.stack.push({type:"fragment",children:[]})}function a($,K,le){this.stack[this.stack.length-1].children.push($),this.stack.push($),this.tokenStack.push([K,le||void 0]),$.position={start:mr(K.start),end:void 0}}function l($){return K;function K(le){$&&$.call(this,le),c.call(this,le)}}function c($,K){const le=this.stack.pop(),he=this.tokenStack.pop();if(he)he[0].type!==$.type&&(K?K.call(this,$,he[0]):(he[1]||oy).call(this,$,he[0]));else throw new Error("Cannot close `"+$.type+"` ("+zo({start:$.start,end:$.end})+"): its not open");le.position.end=mr($.end)}function u(){return Xp(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h($){if(this.data.expectingFirstListItemValue){const K=this.stack[this.stack.length-2];K.start=Number.parseInt(this.sliceSerialize($),10),this.data.expectingFirstListItemValue=void 0}}function f(){const $=this.resume(),K=this.stack[this.stack.length-1];K.lang=$}function v(){const $=this.resume(),K=this.stack[this.stack.length-1];K.meta=$}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const $=this.resume(),K=this.stack[this.stack.length-1];K.value=$.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const $=this.resume(),K=this.stack[this.stack.length-1];K.value=$.replace(/(\r?\n|\r)$/g,"")}function x($){const K=this.resume(),le=this.stack[this.stack.length-1];le.label=K,le.identifier=vn(this.sliceSerialize($)).toLowerCase()}function w(){const $=this.resume(),K=this.stack[this.stack.length-1];K.title=$}function _(){const $=this.resume(),K=this.stack[this.stack.length-1];K.url=$}function C($){const K=this.stack[this.stack.length-1];if(!K.depth){const le=this.sliceSerialize($).length;K.depth=le}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function k($){const K=this.stack[this.stack.length-1];K.depth=this.sliceSerialize($).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function N($){const le=this.stack[this.stack.length-1].children;let he=le[le.length-1];(!he||he.type!=="text")&&(he=Lu(),he.position={start:mr($.start),end:void 0},le.push(he)),this.stack.push(he)}function A($){const K=this.stack.pop();K.value+=this.sliceSerialize($),K.position.end=mr($.end)}function j($){const K=this.stack[this.stack.length-1];if(this.data.atHardBreak){const le=K.children[K.children.length-1];le.position.end=mr($.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(K.type)&&(N.call(this,$),A.call(this,$))}function M(){this.data.atHardBreak=!0}function V(){const $=this.resume(),K=this.stack[this.stack.length-1];K.value=$}function D(){const $=this.resume(),K=this.stack[this.stack.length-1];K.value=$}function B(){const $=this.resume(),K=this.stack[this.stack.length-1];K.value=$}function F(){const $=this.stack[this.stack.length-1];if(this.data.inReference){const K=this.data.referenceType||"shortcut";$.type+="Reference",$.referenceType=K,delete $.url,delete $.title}else delete $.identifier,delete $.label;this.data.referenceType=void 0}function U(){const $=this.stack[this.stack.length-1];if(this.data.inReference){const K=this.data.referenceType||"shortcut";$.type+="Reference",$.referenceType=K,delete $.url,delete $.title}else delete $.identifier,delete $.label;this.data.referenceType=void 0}function I($){const K=this.sliceSerialize($),le=this.stack[this.stack.length-2];le.label=S4(K),le.identifier=vn(K).toLowerCase()}function R(){const $=this.stack[this.stack.length-1],K=this.resume(),le=this.stack[this.stack.length-1];if(this.data.inReference=!0,le.type==="link"){const he=$.children;le.children=he}else le.alt=K}function E(){const $=this.resume(),K=this.stack[this.stack.length-1];K.url=$}function q(){const $=this.resume(),K=this.stack[this.stack.length-1];K.title=$}function z(){this.data.inReference=void 0}function P(){this.data.referenceType="collapsed"}function Z($){const K=this.resume(),le=this.stack[this.stack.length-1];le.label=K,le.identifier=vn(this.sliceSerialize($)).toLowerCase(),this.data.referenceType="full"}function pe($){this.data.characterReferenceType=$.type}function ne($){const K=this.sliceSerialize($),le=this.data.characterReferenceType;let he;le?(he=k1(K,le==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):he=Jp(K);const Te=this.stack[this.stack.length-1];Te.value+=he}function Q($){const K=this.stack.pop();K.position.end=mr($.end)}function oe($){A.call(this,$);const K=this.stack[this.stack.length-1];K.url=this.sliceSerialize($)}function de($){A.call(this,$);const K=this.stack[this.stack.length-1];K.url="mailto:"+this.sliceSerialize($)}function re(){return{type:"blockquote",children:[]}}function ve(){return{type:"code",lang:null,meta:null,value:""}}function ye(){return{type:"inlineCode",value:""}}function Ne(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Qe(){return{type:"emphasis",children:[]}}function mt(){return{type:"heading",depth:0,children:[]}}function nt(){return{type:"break"}}function gt(){return{type:"html",value:""}}function Zr(){return{type:"image",title:null,url:"",alt:null}}function $e(){return{type:"link",title:null,url:"",children:[]}}function zn($){return{type:"list",ordered:$.type==="listOrdered",start:null,spread:$._spread,children:[]}}function Du($){return{type:"listItem",spread:$._spread,checked:null,children:[]}}function $u(){return{type:"paragraph",children:[]}}function Ui(){return{type:"strong",children:[]}}function Lu(){return{type:"text",value:""}}function za(){return{type:"thematicBreak"}}}function mr(t){return{line:t.line,column:t.column,offset:t.offset}}function D1(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?D1(t,r):T4(t,r)}}function T4(t,e){let n;for(n in e)if(O1.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function oy(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+zo({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+zo({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+zo({start:e.start,end:e.end})+") is still open")}function P4(t){const e=this;e.parser=n;function n(r){return k4(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function A4(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function R4(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function I4(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function N4(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function j4(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function M4(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=to(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function O4(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function D4(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function $1(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function $4(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return $1(t,e);const i={src:to(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function L4(t,e){const n={src:to(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function F4(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function B4(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return $1(t,e);const i={href:to(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function U4(t,e){const n={href:to(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function V4(t,e,n){const r=t.all(e),i=n?z4(n):L1(e),s={},o=[];if(typeof e.checked=="boolean"){const u=r[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const u=r[a];(i||a!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function z4(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=L1(n[r])}return e}function L1(t){const e=t.spread;return e??t.children.length>1}function H4(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function W4(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function q4(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function K4(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function G4(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=qp(e.children[1]),l=v1(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function Y4(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const d=e.children[l],h={},f=o?o[l]:void 0;f&&(h.align=f);let v={type:"element",tagName:s,properties:h,children:[]};d&&(v.children=t.all(d),t.patch(d,v),v=t.applyData(d,v)),c.push(v)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function X4(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const ay=9,ly=32;function J4(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(cy(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(cy(e.slice(i),i>0,!1)),s.join("")}function cy(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===ay||s===ly;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===ay||s===ly;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Q4(t,e){const n={type:"text",value:J4(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Z4(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const eF={blockquote:A4,break:R4,code:I4,delete:N4,emphasis:j4,footnoteReference:M4,heading:O4,html:D4,imageReference:$4,image:L4,inlineCode:F4,linkReference:B4,link:U4,listItem:V4,list:H4,paragraph:W4,root:q4,strong:K4,table:G4,tableCell:X4,tableRow:Y4,text:Q4,thematicBreak:Z4,toml:nl,yaml:nl,definition:nl,footnoteDefinition:nl};function nl(){}const F1=-1,nu=0,Wo=1,Xl=2,Zp=3,em=4,tm=5,nm=6,B1=7,U1=8,uy=typeof self=="object"?self:globalThis,tF=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case nu:case F1:return n(o,i);case Wo:{const a=n([],i);for(const l of o)a.push(r(l));return a}case Xl:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case Zp:return n(new Date(o),i);case em:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case tm:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case nm:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case B1:{const{name:a,message:l}=o;return n(new uy[a](l),i)}case U1:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new uy[s](o),i)};return r},dy=t=>tF(new Map,t)(0),Ki="",{toString:nF}={},{keys:rF}=Object,po=t=>{const e=typeof t;if(e!=="object"||!t)return[nu,e];const n=nF.call(t).slice(8,-1);switch(n){case"Array":return[Wo,Ki];case"Object":return[Xl,Ki];case"Date":return[Zp,Ki];case"RegExp":return[em,Ki];case"Map":return[tm,Ki];case"Set":return[nm,Ki];case"DataView":return[Wo,n]}return n.includes("Array")?[Wo,n]:n.includes("Error")?[B1,n]:[Xl,n]},rl=([t,e])=>t===nu&&(e==="function"||e==="symbol"),iF=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=po(o);switch(a){case nu:{let u=o;switch(l){case"bigint":a=U1,u=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([F1],o)}return i([a,u],o)}case Wo:{if(l){let h=o;return l==="DataView"?h=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(o)),i([l,[...h]],o)}const u=[],d=i([a,u],o);for(const h of o)u.push(s(h));return d}case Xl:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const u=[],d=i([a,u],o);for(const h of rF(o))(t||!rl(po(o[h])))&&u.push([s(h),s(o[h])]);return d}case Zp:return i([a,o.toISOString()],o);case em:{const{source:u,flags:d}=o;return i([a,{source:u,flags:d}],o)}case tm:{const u=[],d=i([a,u],o);for(const[h,f]of o)(t||!(rl(po(h))||rl(po(f))))&&u.push([s(h),s(f)]);return d}case nm:{const u=[],d=i([a,u],o);for(const h of o)(t||!rl(po(h)))&&u.push(s(h));return d}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},hy=(t,{json:e,lossy:n}={})=>{const r=[];return iF(!(e||n),!!e,new Map,r)(t),r},Jl=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?dy(hy(t,e)):structuredClone(t):(t,e)=>dy(hy(t,e));function sF(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function oF(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function aF(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||sF,r=t.options.footnoteBackLabel||oF,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const u=t.all(c),d=String(c.identifier).toUpperCase(),h=to(d.toLowerCase());let f=0;const v=[],g=t.footnoteCounts.get(d);for(;g!==void 0&&++f<=g;){v.length>0&&v.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,f);typeof x=="string"&&(x={type:"text",value:x}),v.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,f),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const y=u[u.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const x=y.children[y.children.length-1];x&&x.type==="text"?x.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...v)}else u.push(...v);const b={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(u,!0)};t.patch(c,b),a.push(b)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Jl(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const ru=function(t){if(t==null)return dF;if(typeof t=="function")return iu(t);if(typeof t=="object")return Array.isArray(t)?lF(t):cF(t);if(typeof t=="string")return uF(t);throw new Error("Expected function, string, or object as test")};function lF(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=ru(t[n]);return iu(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function cF(t){const e=t;return iu(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function uF(t){return iu(e);function e(n){return n&&n.type===t}}function iu(t){return e;function e(n,r,i){return!!(hF(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function dF(){return!0}function hF(t){return t!==null&&typeof t=="object"&&"type"in t}const V1=[],fF=!0,Xh=!1,pF="skip";function z1(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=ru(i),o=r?-1:1;a(t,void 0,[])();function a(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=V1,v,g,y;if((!e||s(l,c,u[u.length-1]||void 0))&&(f=mF(n(l,u)),f[0]===Xh))return f;if("children"in l&&l.children){const b=l;if(b.children&&f[0]!==pF)for(g=(r?b.children.length:-1)+o,y=u.concat(b);g>-1&&g<b.children.length;){const x=b.children[g];if(v=a(x,g,y)(),v[0]===Xh)return v;g=typeof v[1]=="number"?v[1]:g+o}}return f}}}function mF(t){return Array.isArray(t)?t:typeof t=="number"?[fF,t]:t==null?V1:[t]}function rm(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),z1(t,s,a,i);function a(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return o(l,d,u)}}const Jh={}.hasOwnProperty,gF={};function vF(t,e){const n=e||gF,r=new Map,i=new Map,s=new Map,o={...eF,...n.handlers},a={all:c,applyData:bF,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:yF,wrap:xF};return rm(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const d=u.type==="definition"?r:i,h=String(u.identifier).toUpperCase();d.has(h)||d.set(h,u)}}),a;function l(u,d){const h=u.type,f=a.handlers[h];if(Jh.call(a.handlers,h)&&f)return f(a,u,d);if(a.options.passThrough&&a.options.passThrough.includes(h)){if("children"in u){const{children:g,...y}=u,b=Jl(y);return b.children=a.all(u),b}return Jl(u)}return(a.options.unknownHandler||wF)(a,u,d)}function c(u){const d=[];if("children"in u){const h=u.children;let f=-1;for(;++f<h.length;){const v=a.one(h[f],u);if(v){if(f&&h[f-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=fy(v.value)),!Array.isArray(v)&&v.type==="element")){const g=v.children[0];g&&g.type==="text"&&(g.value=fy(g.value))}Array.isArray(v)?d.push(...v):d.push(v)}}}return d}}function yF(t,e){t.position&&(e.position=oL(t))}function bF(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Jl(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function wF(t,e){const n=e.data||{},r="value"in e&&!(Jh.call(n,"hProperties")||Jh.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function xF(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function fy(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function py(t,e){const n=vF(t,e),r=n.one(t,void 0),i=aF(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function _F(t,e){return t&&"run"in t?async function(n,r){const i=py(n,{file:r,...e});await t.run(i,r)}:function(n,r){return py(n,{file:r,...t||e})}}function my(t){if(t)throw t}var Ml=Object.prototype.hasOwnProperty,H1=Object.prototype.toString,gy=Object.defineProperty,vy=Object.getOwnPropertyDescriptor,yy=function(e){return typeof Array.isArray=="function"?Array.isArray(e):H1.call(e)==="[object Array]"},by=function(e){if(!e||H1.call(e)!=="[object Object]")return!1;var n=Ml.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Ml.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Ml.call(e,i)},wy=function(e,n){gy&&n.name==="__proto__"?gy(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},xy=function(e,n){if(n==="__proto__")if(Ml.call(e,n)){if(vy)return vy(e,n).value}else return;return e[n]},SF=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,c=arguments.length,u=!1;for(typeof a=="boolean"&&(u=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=xy(a,n),i=xy(e,n),a!==i&&(u&&i&&(by(i)||(s=yy(i)))?(s?(s=!1,o=r&&yy(r)?r:[]):o=r&&by(r)?r:{},wy(a,{name:n,newValue:t(u,o,i)})):typeof i<"u"&&wy(a,{name:n,newValue:i}));return a};const id=nx(SF);function Qh(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function CF(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const u=t[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?kF(u,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function kF(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(c){const u=c;if(a&&n)throw u;return i(u)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const En={basename:EF,dirname:TF,extname:PF,join:AF,sep:"/"};function EF(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Na(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function TF(t){if(Na(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function PF(t){Na(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function AF(...t){let e=-1,n;for(;++e<t.length;)Na(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":RF(n)}function RF(t){Na(t);const e=t.codePointAt(0)===47;let n=IF(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function IF(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Na(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const NF={cwd:jF};function jF(){return"/"}function Zh(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function MF(t){if(typeof t=="string")t=new URL(t);else if(!Zh(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return OF(t)}function OF(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const sd=["history","path","basename","stem","extname","dirname"];class W1{constructor(e){let n;e?Zh(e)?n={path:e}:typeof e=="string"||DF(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":NF.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<sd.length;){const s=sd[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)sd.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?En.basename(this.path):void 0}set basename(e){ad(e,"basename"),od(e,"basename"),this.path=En.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?En.dirname(this.path):void 0}set dirname(e){_y(this.basename,"dirname"),this.path=En.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?En.extname(this.path):void 0}set extname(e){if(od(e,"extname"),_y(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=En.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Zh(e)&&(e=MF(e)),ad(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?En.basename(this.path,this.extname):void 0}set stem(e){ad(e,"stem"),od(e,"stem"),this.path=En.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new kt(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function od(t,e){if(t&&t.includes(En.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+En.sep+"`")}function ad(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function _y(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function DF(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const $F=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},LF={}.hasOwnProperty;class im extends $F{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=CF()}copy(){const e=new im;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(id(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(ud("data",this.frozen),this.namespace[e]=n,this):LF.call(this.namespace,e)&&this.namespace[e]||void 0:e?(ud("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=il(e),r=this.parser||this.Parser;return ld("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),ld("process",this.parser||this.Parser),cd("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=il(e),l=r.parse(a);r.run(l,a,function(u,d,h){if(u||!d||!h)return c(u);const f=d,v=r.stringify(f,h);UF(v)?h.value=v:h.result=v,c(u,h)});function c(u,d){u||!d?o(u):s?s(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),ld("processSync",this.parser||this.Parser),cd("processSync",this.compiler||this.Compiler),this.process(e,i),Cy("processSync","process",n),r;function i(s,o){n=!0,my(s),r=o}}run(e,n,r){Sy(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=il(n);i.run(e,l,c);function c(u,d,h){const f=d||e;u?a(u):o?o(f):r(void 0,f,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),Cy("runSync","run",r),i;function s(o,a){my(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=il(n),i=this.compiler||this.Compiler;return cd("stringify",i),Sy(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(ud("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=id(!0,i.settings,c.settings))}function a(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===c){h=d;break}if(h===-1)r.push([c,...u]);else if(u.length>0){let[f,...v]=u;const g=r[h][1];Qh(g)&&Qh(f)&&(f=id(!0,g,f)),r[h]=[c,f,...v]}}}}const FF=new im().freeze();function ld(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function cd(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function ud(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Sy(t){if(!Qh(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Cy(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function il(t){return BF(t)?t:new W1(t)}function BF(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function UF(t){return typeof t=="string"||VF(t)}function VF(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const zF="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ky=[],Ey={allowDangerousHtml:!0},HF=/^(https?|ircs?|mailto|xmpp)$/i,WF=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function qF(t){const e=KF(t),n=GF(t);return YF(e.runSync(e.parse(n),n),t)}function KF(t){const e=t.rehypePlugins||ky,n=t.remarkPlugins||ky,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Ey}:Ey;return FF().use(P4).use(n).use(_F,r).use(e)}function GF(t){const e=t.children||"",n=new W1;return typeof e=="string"&&(n.value=e),n}function YF(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||XF;for(const u of WF)Object.hasOwn(e,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+zF+u.id,void 0);return rm(t,c),dL(t,{Fragment:p.Fragment,components:i,ignoreInvalidStyle:!0,jsx:p.jsx,jsxs:p.jsxs,passKeys:!0,passNode:!0});function c(u,d,h){if(u.type==="raw"&&h&&typeof d=="number")return o?h.children.splice(d,1):h.children[d]={type:"text",value:u.value},d;if(u.type==="element"){let f;for(f in td)if(Object.hasOwn(td,f)&&Object.hasOwn(u.properties,f)){const v=u.properties[f],g=td[f];(g===null||g.includes(u.tagName))&&(u.properties[f]=l(String(v||""),f,u))}}if(u.type==="element"){let f=n?!n.includes(u.tagName):s?s.includes(u.tagName):!1;if(!f&&r&&typeof d=="number"&&(f=!r(u,d,h)),f&&h&&typeof d=="number")return a&&u.children?h.children.splice(d,1,...u.children):h.children.splice(d,1),d}}}function XF(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||HF.test(t.slice(0,e))?t:""}function Ty(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function JF(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function QF(t,e,n){const i=ru((n||{}).ignore||[]),s=ZF(e);let o=-1;for(;++o<s.length;)z1(t,"text",a);function a(c,u){let d=-1,h;for(;++d<u.length;){const f=u[d],v=h?h.children:void 0;if(i(f,v?v.indexOf(f):void 0,h))return;h=f}if(h)return l(c,u)}function l(c,u){const d=u[u.length-1],h=s[o][0],f=s[o][1];let v=0;const y=d.children.indexOf(c);let b=!1,x=[];h.lastIndex=0;let w=h.exec(c.value);for(;w;){const _=w.index,C={index:w.index,input:w.input,stack:[...u,c]};let S=f(...w,C);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?h.lastIndex=_+1:(v!==_&&x.push({type:"text",value:c.value.slice(v,_)}),Array.isArray(S)?x.push(...S):S&&x.push(S),v=_+w[0].length,b=!0),!h.global)break;w=h.exec(c.value)}return b?(v<c.value.length&&x.push({type:"text",value:c.value.slice(v)}),d.children.splice(y,1,...x)):x=[c],y+x.length}}function ZF(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([e5(i[0]),t5(i[1])])}return e}function e5(t){return typeof t=="string"?new RegExp(JF(t),"g"):t}function t5(t){return typeof t=="function"?t:function(){return t}}const dd="phrasing",hd=["autolink","link","image","label"];function n5(){return{transforms:[c5],enter:{literalAutolink:i5,literalAutolinkEmail:fd,literalAutolinkHttp:fd,literalAutolinkWww:fd},exit:{literalAutolink:l5,literalAutolinkEmail:a5,literalAutolinkHttp:s5,literalAutolinkWww:o5}}}function r5(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:dd,notInConstruct:hd},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:dd,notInConstruct:hd},{character:":",before:"[ps]",after:"\\/",inConstruct:dd,notInConstruct:hd}]}}function i5(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function fd(t){this.config.enter.autolinkProtocol.call(this,t)}function s5(t){this.config.exit.autolinkProtocol.call(this,t)}function o5(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function a5(t){this.config.exit.autolinkEmail.call(this,t)}function l5(t){this.exit(t)}function c5(t){QF(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,u5],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),d5]],{ignore:["link","linkReference"]})}function u5(t,e,n,r,i){let s="";if(!q1(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!h5(n)))return!1;const o=f5(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function d5(t,e,n,r){return!q1(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function h5(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function f5(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=Ty(t,"(");let s=Ty(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function q1(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Ei(n)||eu(n))&&(!e||n!==47)}K1.peek=_5;function p5(){this.buffer()}function m5(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function g5(){this.buffer()}function v5(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function y5(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=vn(this.sliceSerialize(t)).toLowerCase(),n.label=e}function b5(t){this.exit(t)}function w5(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=vn(this.sliceSerialize(t)).toLowerCase(),n.label=e}function x5(t){this.exit(t)}function _5(){return"["}function K1(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function S5(){return{enter:{gfmFootnoteCallString:p5,gfmFootnoteCall:m5,gfmFootnoteDefinitionLabelString:g5,gfmFootnoteDefinition:v5},exit:{gfmFootnoteCallString:y5,gfmFootnoteCall:b5,gfmFootnoteDefinitionLabelString:w5,gfmFootnoteDefinition:x5}}}function C5(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:K1},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const c=s.enter("footnoteDefinition"),u=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),u(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?G1:k5))),c(),l}}function k5(t,e,n){return e===0?t:G1(t,e,n)}function G1(t,e,n){return(n?"":"    ")+t}const E5=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Y1.peek=I5;function T5(){return{canContainEols:["delete"],enter:{strikethrough:A5},exit:{strikethrough:R5}}}function P5(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:E5}],handlers:{delete:Y1}}}function A5(t){this.enter({type:"delete",children:[]},t)}function R5(t){this.exit(t)}function Y1(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function I5(){return"~"}function N5(t){return t.length}function j5(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||N5,s=[],o=[],a=[],l=[];let c=0,u=-1;for(;++u<t.length;){const g=[],y=[];let b=-1;for(t[u].length>c&&(c=t[u].length);++b<t[u].length;){const x=M5(t[u][b]);if(n.alignDelimiters!==!1){const w=i(x);y[b]=w,(l[b]===void 0||w>l[b])&&(l[b]=w)}g.push(x)}o[u]=g,a[u]=y}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<c;)s[d]=Py(r[d]);else{const g=Py(r);for(;++d<c;)s[d]=g}d=-1;const h=[],f=[];for(;++d<c;){const g=s[d];let y="",b="";g===99?(y=":",b=":"):g===108?y=":":g===114&&(b=":");let x=n.alignDelimiters===!1?1:Math.max(1,l[d]-y.length-b.length);const w=y+"-".repeat(x)+b;n.alignDelimiters!==!1&&(x=y.length+x+b.length,x>l[d]&&(l[d]=x),f[d]=x),h[d]=w}o.splice(1,0,h),a.splice(1,0,f),u=-1;const v=[];for(;++u<o.length;){const g=o[u],y=a[u];d=-1;const b=[];for(;++d<c;){const x=g[d]||"";let w="",_="";if(n.alignDelimiters!==!1){const C=l[d]-(y[d]||0),S=s[d];S===114?w=" ".repeat(C):S===99?C%2?(w=" ".repeat(C/2+.5),_=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),_=w):_=" ".repeat(C)}n.delimiterStart!==!1&&!d&&b.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&x==="")&&(n.delimiterStart!==!1||d)&&b.push(" "),n.alignDelimiters!==!1&&b.push(w),b.push(x),n.alignDelimiters!==!1&&b.push(_),n.padding!==!1&&b.push(" "),(n.delimiterEnd!==!1||d!==c-1)&&b.push("|")}v.push(n.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return v.join(`
`)}function M5(t){return t==null?"":String(t)}function Py(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function O5(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),D5);return i(),o}function D5(t,e,n){return">"+(n?"":" ")+t}function $5(t,e){return Ay(t,e.inConstruct,!0)&&!Ay(t,e.notInConstruct,!1)}function Ay(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function Ry(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&$5(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function L5(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function F5(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function B5(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function U5(t,e,n,r){const i=B5(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(F5(t,n)){const d=n.enter("codeIndented"),h=n.indentLines(s,V5);return d(),h}const a=n.createTracker(r),l=i.repeat(Math.max(L5(s,i)+1,3)),c=n.enter("codeFenced");let u=a.move(l);if(t.lang){const d=n.enter(`codeFencedLang${o}`);u+=a.move(n.safe(t.lang,{before:u,after:" ",encode:["`"],...a.current()})),d()}if(t.lang&&t.meta){const d=n.enter(`codeFencedMeta${o}`);u+=a.move(" "),u+=a.move(n.safe(t.meta,{before:u,after:`
`,encode:["`"],...a.current()})),d()}return u+=a.move(`
`),s&&(u+=a.move(s+`
`)),u+=a.move(l),c(),u}function V5(t,e,n){return(n?"":"    ")+t}function sm(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function z5(t,e,n,r){const i=sm(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),o(),c}function H5(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function aa(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Ql(t,e,n){const r=Ls(t),i=Ls(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}X1.peek=W5;function X1(t,e,n,r){const i=H5(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),u=Ql(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=aa(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=Ql(r.after.charCodeAt(0),d,i);h.inside&&(l=l.slice(0,-1)+aa(d));const f=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},a+l+f}function W5(t,e,n){return n.options.emphasis||"*"}function q5(t,e){let n=!1;return rm(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Xh}),!!((!t.depth||t.depth<3)&&Xp(t)&&(e.options.setext||n))}function K5(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(q5(t,n)){const u=n.enter("headingSetext"),d=n.enter("phrasing"),h=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return d(),u(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=aa(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),a(),c}J1.peek=G5;function J1(t){return t.value||""}function G5(){return"<"}Q1.peek=Y5;function Q1(t,e,n,r){const i=sm(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),o(),c}function Y5(){return"!"}Z1.peek=X5;function Z1(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=u,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function X5(){return"!"}eS.peek=J5;function eS(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function J5(){return"`"}function tS(t,e){const n=Xp(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}nS.peek=Q5;function nS(t,e,n,r){const i=sm(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(tS(t,n)){const u=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(t,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=u,d}a=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(t,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(t.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(t.url,{before:c,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(t.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),a(),c}function Q5(t,e,n){return tS(t,n)?"<":"["}rS.peek=Z5;function rS(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=u,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Z5(){return"["}function om(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function e6(t){const e=om(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function t6(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function iS(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function n6(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?t6(n):om(n);const a=t.ordered?o==="."?")":".":e6(n);let l=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const u=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),iS(n)===o&&u){let d=-1;for(;++d<t.children.length;){const h=t.children[d];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function r6(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function i6(t,e,n,r){const i=r6(n);let s=n.bulletCurrent||om(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,a.current()),u);return l(),c;function u(d,h,f){return h?(f?"":" ".repeat(o))+d:(f?s:s+" ".repeat(o-s.length))+d}}function s6(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const o6=ru(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function a6(t,e,n,r){return(t.children.some(function(o){return o6(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function l6(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}sS.peek=c6;function sS(t,e,n,r){const i=l6(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),u=Ql(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=aa(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=Ql(r.after.charCodeAt(0),d,i);h.inside&&(l=l.slice(0,-1)+aa(d));const f=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},a+l+f}function c6(t,e,n){return n.options.strong||"*"}function u6(t,e,n,r){return n.safe(t.value,r)}function d6(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function h6(t,e,n){const r=(iS(n)+(n.options.ruleSpaces?" ":"")).repeat(d6(n));return n.options.ruleSpaces?r.slice(0,-1):r}const oS={blockquote:O5,break:Ry,code:U5,definition:z5,emphasis:X1,hardBreak:Ry,heading:K5,html:J1,image:Q1,imageReference:Z1,inlineCode:eS,link:nS,linkReference:rS,list:n6,listItem:i6,paragraph:s6,root:a6,strong:sS,text:u6,thematicBreak:h6};function f6(){return{enter:{table:p6,tableData:Iy,tableHeader:Iy,tableRow:g6},exit:{codeText:v6,table:m6,tableData:pd,tableHeader:pd,tableRow:pd}}}function p6(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function m6(t){this.exit(t),this.data.inTable=void 0}function g6(t){this.enter({type:"tableRow",children:[]},t)}function pd(t){this.exit(t)}function Iy(t){this.enter({type:"tableCell",children:[]},t)}function v6(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,y6));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function y6(t,e){return e==="|"?e:t}function b6(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:l,tableRow:a}};function o(f,v,g,y){return c(u(f,g,y),f.align)}function a(f,v,g,y){const b=d(f,g,y),x=c([b]);return x.slice(0,x.indexOf(`
`))}function l(f,v,g,y){const b=g.enter("tableCell"),x=g.enter("phrasing"),w=g.containerPhrasing(f,{...y,before:s,after:s});return x(),b(),w}function c(f,v){return j5(f,{align:v,alignDelimiters:r,padding:n,stringLength:i})}function u(f,v,g){const y=f.children;let b=-1;const x=[],w=v.enter("table");for(;++b<y.length;)x[b]=d(y[b],v,g);return w(),x}function d(f,v,g){const y=f.children;let b=-1;const x=[],w=v.enter("tableRow");for(;++b<y.length;)x[b]=l(y[b],f,v,g);return w(),x}function h(f,v,g){let y=oS.inlineCode(f,v,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function w6(){return{exit:{taskListCheckValueChecked:Ny,taskListCheckValueUnchecked:Ny,paragraph:_6}}}function x6(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:S6}}}function Ny(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function _6(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function S6(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=oS.listItem(t,e,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+o}}function C6(){return[n5(),S5(),T5(),f6(),w6()]}function k6(t){return{extensions:[r5(),C5(t),P5(),b6(t),x6()]}}const E6={tokenize:N6,partial:!0},aS={tokenize:j6,partial:!0},lS={tokenize:M6,partial:!0},cS={tokenize:O6,partial:!0},T6={tokenize:D6,partial:!0},uS={name:"wwwAutolink",tokenize:R6,previous:hS},dS={name:"protocolAutolink",tokenize:I6,previous:fS},cr={name:"emailAutolink",tokenize:A6,previous:pS},Un={};function P6(){return{text:Un}}let ii=48;for(;ii<123;)Un[ii]=cr,ii++,ii===58?ii=65:ii===91&&(ii=97);Un[43]=cr;Un[45]=cr;Un[46]=cr;Un[95]=cr;Un[72]=[cr,dS];Un[104]=[cr,dS];Un[87]=[cr,uS];Un[119]=[cr,uS];function A6(t,e,n){const r=this;let i,s;return o;function o(d){return!ef(d)||!pS.call(r,r.previous)||am(r.events)?n(d):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(d))}function a(d){return ef(d)?(t.consume(d),a):d===64?(t.consume(d),l):n(d)}function l(d){return d===46?t.check(T6,u,c)(d):d===45||d===95||xt(d)?(s=!0,t.consume(d),l):u(d)}function c(d){return t.consume(d),i=!0,l}function u(d){return s&&i&&At(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(d)):n(d)}}function R6(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!hS.call(r,r.previous)||am(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(E6,t.attempt(aS,t.attempt(lS,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function I6(t,e,n){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&fS.call(r,r.previous)&&!am(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),t.consume(d),a):n(d)}function a(d){if(At(d)&&i.length<5)return i+=String.fromCodePoint(d),t.consume(d),a;if(d===58){const h=i.toLowerCase();if(h==="http"||h==="https")return t.consume(d),l}return n(d)}function l(d){return d===47?(t.consume(d),s?c:(s=!0,l)):n(d)}function c(d){return d===null||Yl(d)||je(d)||Ei(d)||eu(d)?n(d):t.attempt(aS,t.attempt(lS,u),n)(d)}function u(d){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(d)}}function N6(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function j6(t,e,n){let r,i,s;return o;function o(c){return c===46||c===95?t.check(cS,l,a)(c):c===null||je(c)||Ei(c)||c!==45&&eu(c)?l(c):(s=!0,t.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),t.consume(c),o}function l(c){return i||r||!s?n(c):e(c)}}function M6(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(cS,e,s)(o):o===null||je(o)||Ei(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function O6(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||je(a)||Ei(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||je(a)||Ei(a)?e(a):r(a)}function s(a){return At(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):At(a)?(t.consume(a),o):n(a)}}function D6(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return xt(s)?n(s):e(s)}}function hS(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||je(t)}function fS(t){return!At(t)}function pS(t){return!(t===47||ef(t))}function ef(t){return t===43||t===45||t===46||t===95||xt(t)}function am(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const $6={tokenize:W6,partial:!0};function L6(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:V6,continuation:{tokenize:z6},exit:H6}},text:{91:{name:"gfmFootnoteCall",tokenize:U6},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:F6,resolveTo:B6}}}}function F6(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const c=vn(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function B6(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function U6(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(d){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(t.enter("gfmFootnoteCallMarker"),t.consume(d),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(d){if(s>999||d===93&&!o||d===null||d===91||je(d))return n(d);if(d===93){t.exit("chunkString");const h=t.exit("gfmFootnoteCallString");return i.includes(vn(r.sliceSerialize(h)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(d)}return je(d)||(o=!0),s++,t.consume(d),d===92?u:c}function u(d){return d===91||d===92||d===93?(t.consume(d),s++,c):c(d)}}function V6(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(v){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(v){return v===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",u):n(v)}function u(v){if(o>999||v===93&&!a||v===null||v===91||je(v))return n(v);if(v===93){t.exit("chunkString");const g=t.exit("gfmFootnoteDefinitionLabelString");return s=vn(r.sliceSerialize(g)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),h}return je(v)||(a=!0),o++,t.consume(v),v===92?d:u}function d(v){return v===91||v===92||v===93?(t.consume(v),o++,u):u(v)}function h(v){return v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),i.includes(s)||i.push(s),Se(t,f,"gfmFootnoteDefinitionWhitespace")):n(v)}function f(v){return e(v)}}function z6(t,e,n){return t.check(Ia,e,t.attempt($6,e,n))}function H6(t){t.exit("gfmFootnoteDefinition")}function W6(t,e,n){const r=this;return Se(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function q6(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},h=[["enter",u,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",d,a]],f=a.parser.constructs.insideSpan.null;f&&Jt(h,h.length,0,tu(f,o.slice(c+1,l),a)),Jt(h,h.length,0,[["exit",d,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",u,a]]),Jt(o,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const c=this.previous,u=this.events;let d=0;return h;function h(v){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(v):(o.enter("strikethroughSequenceTemporary"),f(v))}function f(v){const g=Ls(c);if(v===126)return d>1?l(v):(o.consume(v),d++,f);if(d<2&&!n)return l(v);const y=o.exit("strikethroughSequenceTemporary"),b=Ls(v);return y._open=!b||b===2&&!!g,y._close=!g||g===2&&!!b,a(v)}}}class K6{constructor(){this.map=[]}add(e,n,r){G6(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function G6(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function Y6(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function X6(){return{flow:{null:{name:"table",tokenize:J6,resolveAll:Q6}}}}function J6(t,e,n){const r=this;let i=0,s=0,o;return a;function a(A){let j=r.events.length-1;for(;j>-1;){const D=r.events[j][1].type;if(D==="lineEnding"||D==="linePrefix")j--;else break}const M=j>-1?r.events[j][1].type:null,V=M==="tableHead"||M==="tableRow"?S:l;return V===S&&r.parser.lazy[r.now().line]?n(A):V(A)}function l(A){return t.enter("tableHead"),t.enter("tableRow"),c(A)}function c(A){return A===124||(o=!0,s+=1),u(A)}function u(A){return A===null?n(A):ie(A)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),f):n(A):_e(A)?Se(t,u,"whitespace")(A):(s+=1,o&&(o=!1,i+=1),A===124?(t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),o=!0,u):(t.enter("data"),d(A)))}function d(A){return A===null||A===124||je(A)?(t.exit("data"),u(A)):(t.consume(A),A===92?h:d)}function h(A){return A===92||A===124?(t.consume(A),d):d(A)}function f(A){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(A):(t.enter("tableDelimiterRow"),o=!1,_e(A)?Se(t,v,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):v(A))}function v(A){return A===45||A===58?y(A):A===124?(o=!0,t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),g):C(A)}function g(A){return _e(A)?Se(t,y,"whitespace")(A):y(A)}function y(A){return A===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(A),t.exit("tableDelimiterMarker"),b):A===45?(s+=1,b(A)):A===null||ie(A)?_(A):C(A)}function b(A){return A===45?(t.enter("tableDelimiterFiller"),x(A)):C(A)}function x(A){return A===45?(t.consume(A),x):A===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(A),t.exit("tableDelimiterMarker"),w):(t.exit("tableDelimiterFiller"),w(A))}function w(A){return _e(A)?Se(t,_,"whitespace")(A):_(A)}function _(A){return A===124?v(A):A===null||ie(A)?!o||i!==s?C(A):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(A)):C(A)}function C(A){return n(A)}function S(A){return t.enter("tableRow"),k(A)}function k(A){return A===124?(t.enter("tableCellDivider"),t.consume(A),t.exit("tableCellDivider"),k):A===null||ie(A)?(t.exit("tableRow"),e(A)):_e(A)?Se(t,k,"whitespace")(A):(t.enter("data"),T(A))}function T(A){return A===null||A===124||je(A)?(t.exit("data"),k(A)):(t.consume(A),A===92?N:T)}function N(A){return A===92||A===124?(t.consume(A),T):T(A)}}function Q6(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,c,u,d;const h=new K6;for(;++n<t.length;){const f=t[n],v=f[1];f[0]==="enter"?v.type==="tableHead"?(a=!1,l!==0&&(jy(h,e,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},h.add(n,0,[["enter",c,e]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,u={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},h.add(n,0,[["enter",u,e]])),i=v.type==="tableDelimiterRow"?2:u?3:1):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=sl(h,e,s,i,void 0,d),s=[0,0,0,0]),o[2]=n)):v.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=sl(h,e,s,i,void 0,d)),s=o,o=[s[1],n,0,0])):v.type==="tableHead"?(a=!0,l=n):v.type==="tableRow"||v.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],d=sl(h,e,s,i,n,d)):o[1]!==0&&(d=sl(h,e,o,i,n,d)),i=0):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&jy(h,e,l,c,u),h.consume(e.events),n=-1;++n<e.events.length;){const f=e.events[n];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=Y6(e.events,n))}return t}function sl(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},is(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=is(e.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const c=is(e.events,n[2]),u=is(e.events,n[3]),d={type:a,start:Object.assign({},c),end:Object.assign({},u)};if(t.add(n[2],0,[["enter",d,e]]),r!==2){const h=e.events[n[2]],f=e.events[n[3]];if(h[1].end=Object.assign({},f[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const v=n[2]+1,g=n[3]-n[2]-1;t.add(v,g,[])}}t.add(n[3]+1,0,[["exit",d,e]])}return i!==void 0&&(s.end=Object.assign({},is(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function jy(t,e,n,r,i){const s=[],o=is(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function is(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const Z6={name:"tasklistCheck",tokenize:t9};function e9(){return{text:{91:Z6}}}function t9(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return je(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return ie(l)?e(l):_e(l)?t.check({tokenize:n9},e,n)(l):n(l)}}function n9(t,e,n){return Se(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function r9(t){return C1([P6(),L6(),q6(t),X6(),e9()])}const i9={};function s9(t){const e=this,n=t||i9,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(r9(n)),s.push(C6()),o.push(k6(n))}function Mr(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function My(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function o9(...t){return e=>{let n=!1;const r=t.map(i=>{const s=My(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():My(t[i],null)}}}}function Li(...t){return m.useCallback(o9(...t),t)}function a9(t,e){const n=m.createContext(e),r=s=>{const{children:o,...a}=s,l=m.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function l9(t,e=[]){let n=[];function r(s,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var b;const{scope:h,children:f,...v}=d,g=((b=h==null?void 0:h[t])==null?void 0:b[l])||a,y=m.useMemo(()=>v,Object.values(v));return p.jsx(g.Provider,{value:y,children:f})};c.displayName=s+"Provider";function u(d,h){var g;const f=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,v=m.useContext(f);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,c9(i,...e)]}function c9(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var la=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},u9=Ks[" useId ".trim().toString()]||(()=>{}),d9=0;function md(t){const[e,n]=m.useState(u9());return la(()=>{t||n(r=>r??String(d9++))},[t]),t||(e?`radix-${e}`:"")}var h9=Ks[" useInsertionEffect ".trim().toString()]||la;function f9({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=p9({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=m.useRef(t!==void 0);m.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=m.useCallback(u=>{var d;if(a){const h=m9(u)?u(t):u;h!==t&&((d=o.current)==null||d.call(o,h))}else s(u)},[a,t,s,o]);return[l,c]}function p9({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),i=m.useRef(n),s=m.useRef(e);return h9(()=>{s.current=e},[e]),m.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function m9(t){return typeof t=="function"}var g9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ur=g9.reduce((t,e)=>{const n=Vr(`Primitive.${e}`),r=m.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function v9(t,e){t&&qr.flushSync(()=>t.dispatchEvent(e))}function ca(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function y9(t,e=globalThis==null?void 0:globalThis.document){const n=ca(t);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var b9="DismissableLayer",tf="dismissableLayer.update",w9="dismissableLayer.pointerDownOutside",x9="dismissableLayer.focusOutside",Oy,mS=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gS=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(mS),[u,d]=m.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=m.useState({}),v=Li(e,k=>d(k)),g=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(y),x=u?g.indexOf(u):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,_=x>=b,C=C9(k=>{const T=k.target,N=[...c.branches].some(A=>A.contains(T));!_||N||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},h),S=k9(k=>{const T=k.target;[...c.branches].some(A=>A.contains(T))||(s==null||s(k),o==null||o(k),k.defaultPrevented||a==null||a())},h);return y9(k=>{x===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Oy=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),Dy(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Oy)}},[u,h,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),Dy())},[u,c]),m.useEffect(()=>{const k=()=>f({});return document.addEventListener(tf,k),()=>document.removeEventListener(tf,k)},[]),p.jsx(ur.div,{...l,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...t.style},onFocusCapture:Mr(t.onFocusCapture,S.onFocusCapture),onBlurCapture:Mr(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Mr(t.onPointerDownCapture,C.onPointerDownCapture)})});gS.displayName=b9;var _9="DismissableLayerBranch",S9=m.forwardRef((t,e)=>{const n=m.useContext(mS),r=m.useRef(null),i=Li(e,r);return m.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx(ur.div,{...t,ref:i})});S9.displayName=_9;function C9(t,e=globalThis==null?void 0:globalThis.document){const n=ca(t),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){vS(w9,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function k9(t,e=globalThis==null?void 0:globalThis.document){const n=ca(t),r=m.useRef(!1);return m.useEffect(()=>{const i=s=>{s.target&&!r.current&&vS(x9,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Dy(){const t=new CustomEvent(tf);document.dispatchEvent(t)}function vS(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?v9(i,s):i.dispatchEvent(s)}var gd="focusScope.autoFocusOnMount",vd="focusScope.autoFocusOnUnmount",$y={bubbles:!1,cancelable:!0},E9="FocusScope",yS=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=m.useState(null),c=ca(i),u=ca(s),d=m.useRef(null),h=Li(e,g=>l(g)),f=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let g=function(w){if(f.paused||!a)return;const _=w.target;a.contains(_)?d.current=_:wr(d.current,{select:!0})},y=function(w){if(f.paused||!a)return;const _=w.relatedTarget;_!==null&&(a.contains(_)||wr(d.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const C of w)C.removedNodes.length>0&&wr(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const x=new MutationObserver(b);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),x.disconnect()}}},[r,a,f.paused]),m.useEffect(()=>{if(a){Fy.add(f);const g=document.activeElement;if(!a.contains(g)){const b=new CustomEvent(gd,$y);a.addEventListener(gd,c),a.dispatchEvent(b),b.defaultPrevented||(T9(N9(bS(a)),{select:!0}),document.activeElement===g&&wr(a))}return()=>{a.removeEventListener(gd,c),setTimeout(()=>{const b=new CustomEvent(vd,$y);a.addEventListener(vd,u),a.dispatchEvent(b),b.defaultPrevented||wr(g??document.body,{select:!0}),a.removeEventListener(vd,u),Fy.remove(f)},0)}}},[a,c,u,f]);const v=m.useCallback(g=>{if(!n&&!r||f.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(y&&b){const x=g.currentTarget,[w,_]=P9(x);w&&_?!g.shiftKey&&b===_?(g.preventDefault(),n&&wr(w,{select:!0})):g.shiftKey&&b===w&&(g.preventDefault(),n&&wr(_,{select:!0})):b===x&&g.preventDefault()}},[n,r,f.paused]);return p.jsx(ur.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});yS.displayName=E9;function T9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(wr(r,{select:e}),document.activeElement!==n)return}function P9(t){const e=bS(t),n=Ly(e,t),r=Ly(e.reverse(),t);return[n,r]}function bS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ly(t,e){for(const n of t)if(!A9(n,{upTo:e}))return n}function A9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function R9(t){return t instanceof HTMLInputElement&&"select"in t}function wr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&R9(t)&&e&&t.select()}}var Fy=I9();function I9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=By(t,e),t.unshift(e)},remove(e){var n;t=By(t,e),(n=t[0])==null||n.resume()}}}function By(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function N9(t){return t.filter(e=>e.tagName!=="A")}var j9="Portal",wS=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=m.useState(!1);la(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Tc.createPortal(p.jsx(ur.div,{...r,ref:e}),o):null});wS.displayName=j9;function M9(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var su=t=>{const{present:e,children:n}=t,r=O9(e),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),s=Li(r.ref,D9(i));return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:s}):null};su.displayName="Presence";function O9(t){const[e,n]=m.useState(),r=m.useRef(null),i=m.useRef(t),s=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=M9(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=ol(r.current);s.current=a==="mounted"?c:"none"},[a]),la(()=>{const c=r.current,u=i.current;if(u!==t){const h=s.current,f=ol(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),la(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=f=>{const g=ol(r.current).includes(f.animationName);if(f.target===e&&g&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},h=f=>{f.target===e&&(s.current=ol(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function ol(t){return(t==null?void 0:t.animationName)||"none"}function D9(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var yd=0;function $9(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Uy()),document.body.insertAdjacentElement("beforeend",t[1]??Uy()),yd++,()=>{yd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),yd--}},[])}function Uy(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xe=function(){return Xe=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xe.apply(this,arguments)};function ou(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function lm(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var ws="right-scroll-bar-position",xs="width-before-scroll-bar",L9="with-scroll-bars-hidden",F9="--removed-body-scroll-bar-size";function bd(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function B9(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var U9=typeof window<"u"?m.useLayoutEffect:m.useEffect,Vy=new WeakMap;function cm(t,e){var n=B9(null,function(r){return t.forEach(function(i){return bd(i,r)})});return U9(function(){var r=Vy.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||bd(a,null)}),s.forEach(function(a){i.has(a)||bd(a,o)})}Vy.set(n,t)},[t]),n}function V9(t){return t}function z9(t,e){e===void 0&&(e=V9);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function um(t){t===void 0&&(t={});var e=z9(null);return e.options=Xe({async:!0,ssr:!1},t),e}var xS=function(t){var e=t.sideCar,n=ou(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Xe({},n))};xS.isSideCarExport=!0;function dm(t,e){return t.useMedium(e),xS}var _S=um(),wd=function(){},au=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:wd,onWheelCapture:wd,onTouchMoveCapture:wd}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,f=t.noRelative,v=t.noIsolation,g=t.inert,y=t.allowPinchZoom,b=t.as,x=b===void 0?"div":b,w=t.gapMode,_=ou(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,S=cm([n,e]),k=Xe(Xe({},_),i);return m.createElement(m.Fragment,null,u&&m.createElement(C,{sideCar:_S,removeScrollBar:c,shards:d,noRelative:f,noIsolation:v,inert:g,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:w}),o?m.cloneElement(m.Children.only(a),Xe(Xe({},k),{ref:S})):m.createElement(x,Xe({},k,{className:l,ref:S}),a))});au.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};au.classNames={fullWidth:xs,zeroRight:ws};var H9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function W9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=H9();return e&&t.setAttribute("nonce",e),t}function q9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function K9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var G9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=W9())&&(q9(e,n),K9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Y9=function(){var t=G9();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},lu=function(){var t=Y9(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},X9={left:0,top:0,right:0,gap:0},xd=function(t){return parseInt(t||"",10)||0},J9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[xd(n),xd(r),xd(i)]},Q9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return X9;var e=J9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Z9=lu(),_s="data-scroll-locked",eB=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(L9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(_s,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ws,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(xs,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ws," .").concat(ws,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(xs," .").concat(xs,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(_s,`] {
    `).concat(F9,": ").concat(a,`px;
  }
`)},zy=function(){var t=parseInt(document.body.getAttribute(_s)||"0",10);return isFinite(t)?t:0},tB=function(){m.useEffect(function(){return document.body.setAttribute(_s,(zy()+1).toString()),function(){var t=zy()-1;t<=0?document.body.removeAttribute(_s):document.body.setAttribute(_s,t.toString())}},[])},hm=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;tB();var s=m.useMemo(function(){return Q9(i)},[i]);return m.createElement(Z9,{styles:eB(s,!e,i,n?"":"!important")})},nf=!1;if(typeof window<"u")try{var al=Object.defineProperty({},"passive",{get:function(){return nf=!0,!0}});window.addEventListener("test",al,al),window.removeEventListener("test",al,al)}catch{nf=!1}var Gi=nf?{passive:!1}:!1,nB=function(t){return t.tagName==="TEXTAREA"},SS=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!nB(t)&&n[e]==="visible")},rB=function(t){return SS(t,"overflowY")},iB=function(t){return SS(t,"overflowX")},Hy=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=CS(t,r);if(i){var s=kS(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},sB=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},oB=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},CS=function(t,e){return t==="v"?rB(e):iB(e)},kS=function(t,e){return t==="v"?sB(e):oB(e)},aB=function(t,e){return t==="h"&&e==="rtl"?-1:1},lB=function(t,e,n,r,i){var s=aB(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,h=0;do{if(!a)break;var f=kS(t,a),v=f[0],g=f[1],y=f[2],b=g-y-s*v;(v||b)&&CS(t,a)&&(d+=b,h+=v);var x=a.parentNode;a=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!i)||!u&&(Math.abs(h)<1||!i))&&(c=!0),c},ll=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Wy=function(t){return[t.deltaX,t.deltaY]},qy=function(t){return t&&"current"in t?t.current:t},cB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},uB=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},dB=0,Yi=[];function hB(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(dB++)[0],s=m.useState(lu)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=lm([t.lockRef.current],(t.shards||[]).map(qy),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=ll(g),x=n.current,w="deltaX"in g?g.deltaX:x[0]-b[0],_="deltaY"in g?g.deltaY:x[1]-b[1],C,S=g.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in g&&k==="h"&&S.type==="range")return!1;var T=Hy(k,S);if(!T)return!0;if(T?C=k:(C=k==="v"?"h":"v",T=Hy(k,S)),!T)return!1;if(!r.current&&"changedTouches"in g&&(w||_)&&(r.current=C),!C)return!0;var N=r.current||C;return lB(N,y,g,N==="h"?w:_,!0)},[]),l=m.useCallback(function(g){var y=g;if(!(!Yi.length||Yi[Yi.length-1]!==s)){var b="deltaY"in y?Wy(y):ll(y),x=e.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&cB(C.delta,b)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(qy).filter(Boolean).filter(function(C){return C.contains(y.target)}),_=w.length>0?a(y,w[0]):!o.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),c=m.useCallback(function(g,y,b,x){var w={name:g,delta:y,target:b,should:x,shadowParent:fB(b)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(_){return _!==w})},1)},[]),u=m.useCallback(function(g){n.current=ll(g),r.current=void 0},[]),d=m.useCallback(function(g){c(g.type,Wy(g),g.target,a(g,t.lockRef.current))},[]),h=m.useCallback(function(g){c(g.type,ll(g),g.target,a(g,t.lockRef.current))},[]);m.useEffect(function(){return Yi.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Gi),document.addEventListener("touchmove",l,Gi),document.addEventListener("touchstart",u,Gi),function(){Yi=Yi.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,Gi),document.removeEventListener("touchmove",l,Gi),document.removeEventListener("touchstart",u,Gi)}},[]);var f=t.removeScrollBar,v=t.inert;return m.createElement(m.Fragment,null,v?m.createElement(s,{styles:uB(i)}):null,f?m.createElement(hm,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function fB(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const pB=dm(_S,hB);var ES=m.forwardRef(function(t,e){return m.createElement(au,Xe({},t,{ref:e,sideCar:pB}))});ES.classNames=au.classNames;var mB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xi=new WeakMap,cl=new WeakMap,ul={},_d=0,TS=function(t){return t&&(t.host||TS(t.parentNode))},gB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=TS(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},vB=function(t,e,n,r){var i=gB(e,Array.isArray(t)?t:[t]);ul[n]||(ul[n]=new WeakMap);var s=ul[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var f=h.getAttribute(r),v=f!==null&&f!=="false",g=(Xi.get(h)||0)+1,y=(s.get(h)||0)+1;Xi.set(h,g),s.set(h,y),o.push(h),g===1&&v&&cl.set(h,!0),y===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return u(e),a.clear(),_d++,function(){o.forEach(function(d){var h=Xi.get(d)-1,f=s.get(d)-1;Xi.set(d,h),s.set(d,f),h||(cl.has(d)||d.removeAttribute(r),cl.delete(d)),f||d.removeAttribute(n)}),_d--,_d||(Xi=new WeakMap,Xi=new WeakMap,cl=new WeakMap,ul={})}},fm=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=mB(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),vB(r,i,n,"aria-hidden")):function(){return null}},cu="Dialog",[PS,NJ]=l9(cu),[yB,xn]=PS(cu),AS=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c,u]=f9({prop:r,defaultProp:i??!1,onChange:s,caller:cu});return p.jsx(yB,{scope:e,triggerRef:a,contentRef:l,contentId:md(),titleId:md(),descriptionId:md(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};AS.displayName=cu;var RS="DialogTrigger",IS=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xn(RS,n),s=Li(e,i.triggerRef);return p.jsx(ur.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":gm(i.open),...r,ref:s,onClick:Mr(t.onClick,i.onOpenToggle)})});IS.displayName=RS;var pm="DialogPortal",[bB,NS]=PS(pm,{forceMount:void 0}),jS=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=xn(pm,e);return p.jsx(bB,{scope:e,forceMount:n,children:m.Children.map(r,o=>p.jsx(su,{present:n||s.open,children:p.jsx(wS,{asChild:!0,container:i,children:o})}))})};jS.displayName=pm;var Zl="DialogOverlay",MS=m.forwardRef((t,e)=>{const n=NS(Zl,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=xn(Zl,t.__scopeDialog);return s.modal?p.jsx(su,{present:r||s.open,children:p.jsx(xB,{...i,ref:e})}):null});MS.displayName=Zl;var wB=Vr("DialogOverlay.RemoveScroll"),xB=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xn(Zl,n);return p.jsx(ES,{as:wB,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(ur.div,{"data-state":gm(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ti="DialogContent",OS=m.forwardRef((t,e)=>{const n=NS(Ti,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=xn(Ti,t.__scopeDialog);return p.jsx(su,{present:r||s.open,children:s.modal?p.jsx(_B,{...i,ref:e}):p.jsx(SB,{...i,ref:e})})});OS.displayName=Ti;var _B=m.forwardRef((t,e)=>{const n=xn(Ti,t.__scopeDialog),r=m.useRef(null),i=Li(e,n.contentRef,r);return m.useEffect(()=>{const s=r.current;if(s)return fm(s)},[]),p.jsx(DS,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Mr(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Mr(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Mr(t.onFocusOutside,s=>s.preventDefault())})}),SB=m.forwardRef((t,e)=>{const n=xn(Ti,t.__scopeDialog),r=m.useRef(!1),i=m.useRef(!1);return p.jsx(DS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),DS=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=xn(Ti,n),l=m.useRef(null),c=Li(e,l);return $9(),p.jsxs(p.Fragment,{children:[p.jsx(yS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:p.jsx(gS,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":gm(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(CB,{titleId:a.titleId}),p.jsx(EB,{contentRef:l,descriptionId:a.descriptionId})]})]})}),mm="DialogTitle",$S=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xn(mm,n);return p.jsx(ur.h2,{id:i.titleId,...r,ref:e})});$S.displayName=mm;var LS="DialogDescription",FS=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xn(LS,n);return p.jsx(ur.p,{id:i.descriptionId,...r,ref:e})});FS.displayName=LS;var BS="DialogClose",US=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xn(BS,n);return p.jsx(ur.button,{type:"button",...r,ref:e,onClick:Mr(t.onClick,()=>i.onOpenChange(!1))})});US.displayName=BS;function gm(t){return t?"open":"closed"}var VS="DialogTitleWarning",[jJ,zS]=a9(VS,{contentName:Ti,titleName:mm,docsSlug:"dialog"}),CB=({titleId:t})=>{const e=zS(VS),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},kB="DialogDescriptionWarning",EB=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zS(kB).contentName}}.`;return m.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},TB=AS,PB=IS,AB=jS,HS=MS,WS=OS,qS=$S,KS=FS,RB=US;const ja=TB,vm=PB,IB=AB,GS=m.forwardRef(({className:t,...e},n)=>p.jsx(HS,{ref:n,className:ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));GS.displayName=HS.displayName;const no=m.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(IB,{children:[p.jsx(GS,{}),p.jsxs(WS,{ref:r,className:ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,p.jsxs(RB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(ka,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));no.displayName=WS.displayName;const Ma=({className:t,...e})=>p.jsx("div",{className:ee("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ma.displayName="DialogHeader";const Oa=m.forwardRef(({className:t,...e},n)=>p.jsx(qS,{ref:n,className:ee("text-lg font-semibold leading-none tracking-tight",t),...e}));Oa.displayName=qS.displayName;const Da=m.forwardRef(({className:t,...e},n)=>p.jsx(KS,{ref:n,className:ee("text-sm text-muted-foreground",t),...e}));Da.displayName=KS.displayName;function NB({open:t,onOpenChange:e,onSignup:n,onLogin:r}){return p.jsx(ja,{open:t,onOpenChange:e,children:p.jsxs(no,{className:"sm:max-w-md p-8 bg-white",children:[p.jsx("div",{className:"flex justify-end",children:p.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>e(!1),className:"h-6 w-6 text-gray-400 hover:text-gray-600",children:p.jsx(ka,{className:"h-4 w-4"})})}),p.jsxs("div",{className:"flex flex-col space-y-6 -mt-4",children:[p.jsx("div",{className:"flex justify-start",children:p.jsx("img",{src:"/lovable-uploads/975e116a-7efb-4cb8-b615-b3ca56cacdb7.png",alt:"Frondex",className:"h-16 w-auto"})}),p.jsxs("div",{className:"text-left space-y-2",children:[p.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Join and start building"}),p.jsx("p",{className:"text-gray-600 text-base leading-relaxed",children:"Log in or create a free account to continue your private markets journey"})]}),p.jsxs("div",{className:"w-full space-y-3",children:[p.jsx(Ee,{variant:"outline",className:"w-full h-12 text-base font-medium border-gray-300 hover:bg-gray-50",onClick:r,children:"Log in"}),p.jsx(Ee,{className:"w-full h-12 text-base font-medium bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white",onClick:n,children:"Sign up"})]})]})]})})}const ym=m.createContext({});function bm(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const wm=typeof window<"u",YS=wm?m.useLayoutEffect:m.useEffect,uu=m.createContext(null);function xm(t,e){t.indexOf(e)===-1&&t.push(e)}function _m(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ar=(t,e,n)=>n>e?e:n<t?t:n;let ec=()=>{};const lr={},XS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function JS(t){return typeof t=="object"&&t!==null}const QS=t=>/^0[^.\s]+$/u.test(t);function Sm(t){let e;return()=>(e===void 0&&(e=t()),e)}const rn=t=>t,jB=(t,e)=>n=>e(t(n)),$a=(...t)=>t.reduce(jB),ua=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Cm{constructor(){this.subscriptions=[]}add(e){return xm(this.subscriptions,e),()=>_m(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const jn=t=>t*1e3,Mn=t=>t/1e3;function ZS(t,e){return e?t*(1e3/e):0}const eC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,MB=1e-7,OB=12;function DB(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=eC(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>MB&&++a<OB);return o}function La(t,e,n,r){if(t===e&&n===r)return rn;const i=s=>DB(s,0,1,t,n);return s=>s===0||s===1?s:eC(i(s),e,r)}const tC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,nC=t=>e=>1-t(1-e),rC=La(.33,1.53,.69,.99),km=nC(rC),iC=tC(km),sC=t=>(t*=2)<1?.5*km(t):.5*(2-Math.pow(2,-10*(t-1))),Em=t=>1-Math.sin(Math.acos(t)),oC=nC(Em),aC=tC(Em),$B=La(.42,0,1,1),LB=La(0,0,.58,1),lC=La(.42,0,.58,1),FB=t=>Array.isArray(t)&&typeof t[0]!="number",cC=t=>Array.isArray(t)&&typeof t[0]=="number",Ky={linear:rn,easeIn:$B,easeInOut:lC,easeOut:LB,circIn:Em,circInOut:aC,circOut:oC,backIn:km,backInOut:iC,backOut:rC,anticipate:sC},BB=t=>typeof t=="string",Gy=t=>{if(cC(t)){ec(t.length===4);const[e,n,r,i]=t;return La(e,n,r,i)}else if(BB(t))return ec(Ky[t]!==void 0),Ky[t];return t},dl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Yy={value:null,addProjectionMetrics:null};function UB(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){o.has(d)&&(u.schedule(d),t()),l++,d(a)}const u={schedule:(d,h=!1,f=!1)=>{const g=f&&i?n:r;return h&&o.add(d),g.has(d)||g.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&Yy.value&&Yy.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,u.process(d))}};return u}const VB=40;function uC(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=dl.reduce((w,_)=>(w[_]=UB(s,e?_:void 0),w),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:f,postRender:v}=o,g=()=>{const w=lr.useManualTiming?i.timestamp:performance.now();n=!1,lr.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,VB),1)),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),f.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(g))},y=()=>{n=!0,r=!0,i.isProcessing||t(g)};return{schedule:dl.reduce((w,_)=>{const C=o[_];return w[_]=(S,k=!1,T=!1)=>(n||y(),C.schedule(S,k,T)),w},{}),cancel:w=>{for(let _=0;_<dl.length;_++)o[dl[_]].cancel(w)},state:i,steps:o}}const{schedule:Ve,cancel:zr,state:ht,steps:Sd}=uC(typeof requestAnimationFrame<"u"?requestAnimationFrame:rn,!0);let Ol;function zB(){Ol=void 0}const $t={now:()=>(Ol===void 0&&$t.set(ht.isProcessing||lr.useManualTiming?ht.timestamp:performance.now()),Ol),set:t=>{Ol=t,queueMicrotask(zB)}},dC=t=>e=>typeof e=="string"&&e.startsWith(t),Tm=dC("--"),HB=dC("var(--"),Pm=t=>HB(t)?WB.test(t.split("/*")[0].trim()):!1,WB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ro={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},da={...ro,transform:t=>ar(0,1,t)},hl={...ro,default:1},qo=t=>Math.round(t*1e5)/1e5,Am=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qB(t){return t==null}const KB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Rm=(t,e)=>n=>!!(typeof n=="string"&&KB.test(n)&&n.startsWith(t)||e&&!qB(n)&&Object.prototype.hasOwnProperty.call(n,e)),hC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Am);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},GB=t=>ar(0,255,t),Cd={...ro,transform:t=>Math.round(GB(t))},vi={test:Rm("rgb","red"),parse:hC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Cd.transform(t)+", "+Cd.transform(e)+", "+Cd.transform(n)+", "+qo(da.transform(r))+")"};function YB(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const rf={test:Rm("#"),parse:YB,transform:vi.transform},Fa=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xr=Fa("deg"),On=Fa("%"),ae=Fa("px"),XB=Fa("vh"),JB=Fa("vw"),Xy={...On,parse:t=>On.parse(t)/100,transform:t=>On.transform(t*100)},as={test:Rm("hsl","hue"),parse:hC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+On.transform(qo(e))+", "+On.transform(qo(n))+", "+qo(da.transform(r))+")"},st={test:t=>vi.test(t)||rf.test(t)||as.test(t),parse:t=>vi.test(t)?vi.parse(t):as.test(t)?as.parse(t):rf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vi.transform(t):as.transform(t),getAnimatableNone:t=>{const e=st.parse(t);return e.alpha=0,st.transform(e)}},QB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ZB(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Am))==null?void 0:e.length)||0)+(((n=t.match(QB))==null?void 0:n.length)||0)>0}const fC="number",pC="color",e8="var",t8="var(",Jy="${}",n8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ha(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(n8,l=>(st.test(l)?(r.color.push(s),i.push(pC),n.push(st.parse(l))):l.startsWith(t8)?(r.var.push(s),i.push(e8),n.push(l)):(r.number.push(s),i.push(fC),n.push(parseFloat(l))),++s,Jy)).split(Jy);return{values:n,split:a,indexes:r,types:i}}function mC(t){return ha(t).values}function gC(t){const{split:e,types:n}=ha(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===fC?s+=qo(i[o]):a===pC?s+=st.transform(i[o]):s+=i[o]}return s}}const r8=t=>typeof t=="number"?0:st.test(t)?st.getAnimatableNone(t):t;function i8(t){const e=mC(t);return gC(t)(e.map(r8))}const Hr={test:ZB,parse:mC,createTransformer:gC,getAnimatableNone:i8};function kd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function s8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=kd(l,a,t+1/3),s=kd(l,a,t),o=kd(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function tc(t,e){return n=>n>0?e:t}const ze=(t,e,n)=>t+(e-t)*n,Ed=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},o8=[rf,vi,as],a8=t=>o8.find(e=>e.test(t));function Qy(t){const e=a8(t);if(!e)return!1;let n=e.parse(t);return e===as&&(n=s8(n)),n}const Zy=(t,e)=>{const n=Qy(t),r=Qy(e);if(!n||!r)return tc(t,e);const i={...n};return s=>(i.red=Ed(n.red,r.red,s),i.green=Ed(n.green,r.green,s),i.blue=Ed(n.blue,r.blue,s),i.alpha=ze(n.alpha,r.alpha,s),vi.transform(i))},sf=new Set(["none","hidden"]);function l8(t,e){return sf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function c8(t,e){return n=>ze(t,e,n)}function Im(t){return typeof t=="number"?c8:typeof t=="string"?Pm(t)?tc:st.test(t)?Zy:h8:Array.isArray(t)?vC:typeof t=="object"?st.test(t)?Zy:u8:tc}function vC(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Im(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function u8(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Im(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function d8(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const h8=(t,e)=>{const n=Hr.createTransformer(e),r=ha(t),i=ha(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?sf.has(t)&&!i.values.length||sf.has(e)&&!r.values.length?l8(t,e):$a(vC(d8(r,i),i.values),n):tc(t,e)};function yC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ze(t,e,n):Im(t)(t,e)}const f8=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ve.update(e,n),stop:()=>zr(e),now:()=>ht.isProcessing?ht.timestamp:$t.now()}},bC=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},nc=2e4;function Nm(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<nc;)e+=n,r=t.next(e);return e>=nc?1/0:e}function p8(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Nm(r),nc);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Mn(i)}}const m8=5;function wC(t,e,n){const r=Math.max(e-m8,0);return ZS(n-t(r),e-r)}const Ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Td=.001;function g8({duration:t=Ke.duration,bounce:e=Ke.bounce,velocity:n=Ke.velocity,mass:r=Ke.mass}){let i,s,o=1-e;o=ar(Ke.minDamping,Ke.maxDamping,o),t=ar(Ke.minDuration,Ke.maxDuration,Mn(t)),o<1?(i=c=>{const u=c*o,d=u*t,h=u-n,f=of(c,o),v=Math.exp(-d);return Td-h/f*v},s=c=>{const d=c*o*t,h=d*n+n,f=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-d),g=of(Math.pow(c,2),o);return(-i(c)+Td>0?-1:1)*((h-f)*v)/g}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-Td+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=y8(i,s,a);if(t=jn(t),isNaN(l))return{stiffness:Ke.stiffness,damping:Ke.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const v8=12;function y8(t,e,n){let r=n;for(let i=1;i<v8;i++)r=r-t(r)/e(r);return r}function of(t,e){return t*Math.sqrt(1-e*e)}const b8=["duration","bounce"],w8=["stiffness","damping","mass"];function e0(t,e){return e.some(n=>t[n]!==void 0)}function x8(t){let e={velocity:Ke.velocity,stiffness:Ke.stiffness,damping:Ke.damping,mass:Ke.mass,isResolvedFromDuration:!1,...t};if(!e0(t,w8)&&e0(t,b8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ar(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ke.mass,stiffness:i,damping:s}}else{const n=g8(t);e={...e,...n,mass:Ke.mass},e.isResolvedFromDuration=!0}return e}function rc(t=Ke.visualDuration,e=Ke.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=x8({...n,velocity:-Mn(n.velocity||0)}),v=h||0,g=c/(2*Math.sqrt(l*u)),y=o-s,b=Mn(Math.sqrt(l/u)),x=Math.abs(y)<5;r||(r=x?Ke.restSpeed.granular:Ke.restSpeed.default),i||(i=x?Ke.restDelta.granular:Ke.restDelta.default);let w;if(g<1){const C=of(b,g);w=S=>{const k=Math.exp(-g*b*S);return o-k*((v+g*b*y)/C*Math.sin(C*S)+y*Math.cos(C*S))}}else if(g===1)w=C=>o-Math.exp(-b*C)*(y+(v+b*y)*C);else{const C=b*Math.sqrt(g*g-1);w=S=>{const k=Math.exp(-g*b*S),T=Math.min(C*S,300);return o-k*((v+g*b*y)*Math.sinh(T)+C*y*Math.cosh(T))/C}}const _={calculatedDuration:f&&d||null,next:C=>{const S=w(C);if(f)a.done=C>=d;else{let k=C===0?v:0;g<1&&(k=C===0?jn(v):wC(w,C,S));const T=Math.abs(k)<=r,N=Math.abs(o-S)<=i;a.done=T&&N}return a.value=a.done?o:S,a},toString:()=>{const C=Math.min(Nm(_),nc),S=bC(k=>_.next(C*k).value,C,30);return C+"ms "+S},toTransition:()=>{}};return _}rc.applyToOptions=t=>{const e=p8(t,100,rc);return t.ease=e.ease,t.duration=jn(e.duration),t.type="keyframes",t};function af({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},f=T=>a!==void 0&&T<a||l!==void 0&&T>l,v=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let g=n*e;const y=d+g,b=o===void 0?y:o(y);b!==y&&(g=b-d);const x=T=>-g*Math.exp(-T/r),w=T=>b+x(T),_=T=>{const N=x(T),A=w(T);h.done=Math.abs(N)<=c,h.value=h.done?b:A};let C,S;const k=T=>{f(h.value)&&(C=T,S=rc({keyframes:[h.value,v(h.value)],velocity:wC(w,T,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return k(0),{calculatedDuration:null,next:T=>{let N=!1;return!S&&C===void 0&&(N=!0,_(T),k(T)),C!==void 0&&T>=C?S.next(T-C):(!N&&_(T),h)}}}function _8(t,e,n){const r=[],i=n||lr.mix||yC,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||rn:e;a=$a(l,a)}r.push(a)}return r}function S8(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(ec(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=_8(e,r,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=ua(t[d],t[d+1],u);return a[d](h)};return n?u=>c(ar(t[0],t[s-1],u)):c}function C8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ua(0,e,r);t.push(ze(n,1,i))}}function k8(t){const e=[0];return C8(e,t.length-1),e}function E8(t,e){return t.map(n=>n*e)}function T8(t,e){return t.map(()=>e||lC).splice(0,t.length-1)}function Ko({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=FB(r)?r.map(Gy):Gy(r),s={done:!1,value:e[0]},o=E8(n&&n.length===e.length?n:k8(e),t),a=S8(o,e,{ease:Array.isArray(i)?i:T8(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const P8=t=>t!==null;function jm(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(P8),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const A8={decay:af,inertia:af,tween:Ko,keyframes:Ko,spring:rc};function xC(t){typeof t.type=="string"&&(t.type=A8[t.type])}class Mm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const R8=t=>t/100;class Om extends Mm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==$t.now()&&this.tick($t.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;xC(e);const{type:n=Ko,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Ko;l!==Ko&&typeof a[0]!="number"&&(this.mixKeyframes=$a(R8,yC(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Nm(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:h,repeatDelay:f,type:v,onUpdate:g,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const b=this.currentTime-c*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,_=r;if(d){const T=Math.min(this.currentTime,i)/a;let N=Math.floor(T),A=T%1;!A&&T>=1&&(A=1),A===1&&N--,N=Math.min(N,d+1),!!(N%2)&&(h==="reverse"?(A=1-A,f&&(A-=f/a)):h==="mirror"&&(_=o)),w=ar(0,1,A)*a}const C=x?{done:!1,value:u[0]}:_.next(w);s&&(C.value=s(C.value));let{done:S}=C;!x&&l!==null&&(S=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return k&&v!==af&&(C.value=jm(u,this.options,y,this.speed)),g&&g(C.value),k&&this.finish(),C}then(e,n){return this.finished.then(e,n)}get duration(){return Mn(this.calculatedDuration)}get time(){return Mn(this.currentTime)}set time(e){var n;e=jn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime($t.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Mn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=f8,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($t.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function I8(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const yi=t=>t*180/Math.PI,lf=t=>{const e=yi(Math.atan2(t[1],t[0]));return cf(e)},N8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:lf,rotateZ:lf,skewX:t=>yi(Math.atan(t[1])),skewY:t=>yi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},cf=t=>(t=t%360,t<0&&(t+=360),t),t0=lf,n0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),r0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),j8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:n0,scaleY:r0,scale:t=>(n0(t)+r0(t))/2,rotateX:t=>cf(yi(Math.atan2(t[6],t[5]))),rotateY:t=>cf(yi(Math.atan2(-t[2],t[0]))),rotateZ:t0,rotate:t0,skewX:t=>yi(Math.atan(t[4])),skewY:t=>yi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function uf(t){return t.includes("scale")?1:0}function df(t,e){if(!t||t==="none")return uf(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=j8,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=N8,i=a}if(!i)return uf(e);const s=r[e],o=i[1].split(",").map(O8);return typeof s=="function"?s(o):o[s]}const M8=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return df(n,e)};function O8(t){return parseFloat(t.trim())}const io=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],so=new Set(io),i0=t=>t===ro||t===ae,D8=new Set(["x","y","z"]),$8=io.filter(t=>!D8.has(t));function L8(t){const e=[];return $8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Si={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>df(e,"x"),y:(t,{transform:e})=>df(e,"y")};Si.translateX=Si.x;Si.translateY=Si.y;const Ci=new Set;let hf=!1,ff=!1,pf=!1;function _C(){if(ff){const t=Array.from(Ci).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=L8(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ff=!1,hf=!1,Ci.forEach(t=>t.complete(pf)),Ci.clear()}function SC(){Ci.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ff=!0)})}function F8(){pf=!0,SC(),_C(),pf=!1}class Dm{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ci.add(this),hf||(hf=!0,Ve.read(SC),Ve.resolveKeyframes(_C))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}I8(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ci.delete(this)}cancel(){this.state==="scheduled"&&(Ci.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const B8=t=>t.startsWith("--");function U8(t,e,n){B8(e)?t.style.setProperty(e,n):t.style[e]=n}const V8=Sm(()=>window.ScrollTimeline!==void 0),z8={};function H8(t,e){const n=Sm(t);return()=>z8[e]??n()}const CC=H8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),So=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,s0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:So([0,.65,.55,1]),circOut:So([.55,0,1,.45]),backIn:So([.31,.01,.66,-.59]),backOut:So([.33,1.53,.69,.99])};function kC(t,e){if(t)return typeof t=="function"?CC()?bC(t,e):"ease-out":cC(t)?So(t):Array.isArray(t)?t.map(n=>kC(n,e)||s0.easeOut):s0[t]}function W8(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const d=kC(a,i);Array.isArray(d)&&(u.easing=d);const h={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),t.animate(u,h)}function EC(t){return typeof t=="function"&&"applyToOptions"in t}function q8({type:t,...e}){return EC(t)&&CC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class K8 extends Mm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,ec(typeof e.type!="string");const c=q8(e);this.animation=W8(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=jm(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):U8(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Mn(Number(e))}get time(){return Mn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=jn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&V8()?(this.animation.timeline=e,rn):n(this)}}const TC={anticipate:sC,backInOut:iC,circInOut:aC};function G8(t){return t in TC}function Y8(t){typeof t.ease=="string"&&G8(t.ease)&&(t.ease=TC[t.ease])}const o0=10;class X8 extends K8{constructor(e){Y8(e),xC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Om({...o,autoplay:!1}),l=jn(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-o0).value,a.sample(l).value,o0),a.stop()}}const a0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Hr.test(t)||t==="0")&&!t.startsWith("url("));function J8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Q8(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=a0(i,e),a=a0(s,e);return!o||!a?!1:J8(t)||(n==="spring"||EC(n))&&r}function mf(t){t.duration=0,t.type}const Z8=new Set(["opacity","clipPath","filter","transform"]),e7=Sm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function t7(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return e7()&&n&&Z8.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const n7=40;class r7 extends Mm{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...d}){var v;super(),this.stop=()=>{var g,y;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=$t.now();const h={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:u,...d},f=(u==null?void 0:u.KeyframeResolver)||Dm;this.keyframeResolver=new f(a,(g,y,b)=>this.onKeyframesResolved(g,y,h,!b),l,c,u),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=$t.now(),Q8(e,s,o,a)||((lr.instantAnimations||!l)&&(u==null||u(jm(e,r,n))),e[0]=e[e.length-1],mf(r),r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>n7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},f=!c&&t7(h)?new X8({...h,element:h.motionValue.owner.current}):new Om(h);f.finished.then(()=>this.notifyFinished()).catch(rn),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),F8()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const i7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function s7(t){const e=i7.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function PC(t,e,n=1){const[r,i]=s7(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return XS(o)?parseFloat(o):o}return Pm(i)?PC(i,e,n+1):i}function $m(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const AC=new Set(["width","height","top","left","right","bottom",...io]),o7={test:t=>t==="auto",parse:t=>t},RC=t=>e=>e.test(t),IC=[ro,ae,On,xr,JB,XB,o7],l0=t=>IC.find(RC(t));function a7(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||QS(t):!0}const l7=new Set(["brightness","contrast","saturate","opacity"]);function c7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Am)||[];if(!r)return t;const i=n.replace(r,"");let s=l7.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const u7=/\b([a-z-]*)\(.*?\)/gu,gf={...Hr,getAnimatableNone:t=>{const e=t.match(u7);return e?e.map(c7).join(" "):t}},c0={...ro,transform:Math.round},d7={rotate:xr,rotateX:xr,rotateY:xr,rotateZ:xr,scale:hl,scaleX:hl,scaleY:hl,scaleZ:hl,skew:xr,skewX:xr,skewY:xr,distance:ae,translateX:ae,translateY:ae,translateZ:ae,x:ae,y:ae,z:ae,perspective:ae,transformPerspective:ae,opacity:da,originX:Xy,originY:Xy,originZ:ae},Lm={borderWidth:ae,borderTopWidth:ae,borderRightWidth:ae,borderBottomWidth:ae,borderLeftWidth:ae,borderRadius:ae,radius:ae,borderTopLeftRadius:ae,borderTopRightRadius:ae,borderBottomRightRadius:ae,borderBottomLeftRadius:ae,width:ae,maxWidth:ae,height:ae,maxHeight:ae,top:ae,right:ae,bottom:ae,left:ae,padding:ae,paddingTop:ae,paddingRight:ae,paddingBottom:ae,paddingLeft:ae,margin:ae,marginTop:ae,marginRight:ae,marginBottom:ae,marginLeft:ae,backgroundPositionX:ae,backgroundPositionY:ae,...d7,zIndex:c0,fillOpacity:da,strokeOpacity:da,numOctaves:c0},h7={...Lm,color:st,backgroundColor:st,outlineColor:st,fill:st,stroke:st,borderColor:st,borderTopColor:st,borderRightColor:st,borderBottomColor:st,borderLeftColor:st,filter:gf,WebkitFilter:gf},NC=t=>h7[t];function jC(t,e){let n=NC(t);return n!==gf&&(n=Hr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const f7=new Set(["auto","none","0"]);function p7(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!f7.has(s)&&ha(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=jC(n,i)}class m7 extends Dm{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Pm(c))){const u=PC(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!AC.has(r)||e.length!==2)return;const[i,s]=e,o=l0(i),a=l0(s);if(o!==a)if(i0(o)&&i0(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Si[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||a7(e[i]))&&r.push(i);r.length&&p7(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Si[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Si[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function g7(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const MC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function OC(t){return JS(t)&&"offsetHeight"in t}const u0=30,v7=t=>!isNaN(parseFloat(t));class y7{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=$t.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=$t.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=v7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Cm);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ve.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$t.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>u0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,u0);return ZS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fs(t,e){return new y7(t,e)}const{schedule:Fm,cancel:MJ}=uC(queueMicrotask,!1),dn={x:!1,y:!1};function DC(){return dn.x||dn.y}function b7(t){return t==="x"||t==="y"?dn[t]?null:(dn[t]=!0,()=>{dn[t]=!1}):dn.x||dn.y?null:(dn.x=dn.y=!0,()=>{dn.x=dn.y=!1})}function $C(t,e){const n=g7(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function d0(t){return!(t.pointerType==="touch"||DC())}function w7(t,e,n={}){const[r,i,s]=$C(t,n),o=a=>{if(!d0(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=d=>{d0(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const LC=(t,e)=>e?t===e?!0:LC(t,e.parentElement):!1,Bm=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,x7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _7(t){return x7.has(t.tagName)||t.tabIndex!==-1}const Dl=new WeakSet;function h0(t){return e=>{e.key==="Enter"&&t(e)}}function Pd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const S7=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=h0(()=>{if(Dl.has(n))return;Pd(n,"down");const i=h0(()=>{Pd(n,"up")}),s=()=>Pd(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function f0(t){return Bm(t)&&!DC()}function C7(t,e,n={}){const[r,i,s]=$C(t,n),o=a=>{const l=a.currentTarget;if(!f0(a))return;Dl.add(l);const c=e(l,a),u=(f,v)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),Dl.has(l)&&Dl.delete(l),f0(f)&&typeof c=="function"&&c(f,{success:v})},d=f=>{u(f,l===window||l===document||n.useGlobalTarget||LC(l,f.target))},h=f=>{u(f,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",h,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),OC(a)&&(a.addEventListener("focus",c=>S7(c,i)),!_7(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function FC(t){return JS(t)&&"ownerSVGElement"in t}function k7(t){return FC(t)&&t.tagName==="svg"}const _t=t=>!!(t&&t.getVelocity),E7=[...IC,st,Hr],T7=t=>E7.find(RC(t)),Um=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class P7 extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=OC(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function A7({children:t,isPresent:e,anchorX:n,root:r}){const i=m.useId(),s=m.useRef(null),o=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=m.useContext(Um);return m.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:d,right:h}=o.current;if(e||!s.current||!l||!c)return;const f=n==="left"?`left: ${d}`:`right: ${h}`;s.current.dataset.motionPopId=i;const v=document.createElement("style");a&&(v.nonce=a);const g=r??document.head;return g.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{g.contains(v)&&g.removeChild(v)}},[e]),p.jsx(P7,{isPresent:e,childRef:s,sizeRef:o,children:m.cloneElement(t,{ref:s})})}const R7=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const c=bm(I7),u=m.useId();let d=!0,h=m.useMemo(()=>(d=!1,{id:u,initial:e,isPresent:n,custom:i,onExitComplete:f=>{c.set(f,!0);for(const v of c.values())if(!v)return;r&&r()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[n,c,r]);return s&&d&&(h={...h}),m.useMemo(()=>{c.forEach((f,v)=>c.set(v,!1))},[n]),m.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=p.jsx(A7,{isPresent:n,anchorX:a,root:l,children:t})),p.jsx(uu.Provider,{value:h,children:t})};function I7(){return new Map}function BC(t=!0){const e=m.useContext(uu);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=m.useId();m.useEffect(()=>{if(t)return i(s)},[t]);const o=m.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const fl=t=>t.key||"";function p0(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const N7=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,u]=BC(o),d=m.useMemo(()=>p0(t),[t]),h=o&&!c?[]:d.map(fl),f=m.useRef(!0),v=m.useRef(d),g=bm(()=>new Map),[y,b]=m.useState(d),[x,w]=m.useState(d);YS(()=>{f.current=!1,v.current=d;for(let S=0;S<x.length;S++){const k=fl(x[S]);h.includes(k)?g.delete(k):g.get(k)!==!0&&g.set(k,!1)}},[x,h.length,h.join("-")]);const _=[];if(d!==y){let S=[...d];for(let k=0;k<x.length;k++){const T=x[k],N=fl(T);h.includes(N)||(S.splice(k,0,T),_.push(T))}return s==="wait"&&_.length&&(S=_),w(p0(S)),b(d),null}const{forceRender:C}=m.useContext(ym);return p.jsx(p.Fragment,{children:x.map(S=>{const k=fl(S),T=o&&!c?!1:d===x||h.includes(k),N=()=>{if(g.has(k))g.set(k,!0);else return;let A=!0;g.forEach(j=>{j||(A=!1)}),A&&(C==null||C(),w(v.current),o&&(u==null||u()),r&&r())};return p.jsx(R7,{isPresent:T,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:T?void 0:N,anchorX:a,children:S},k)})})},UC=m.createContext({strict:!1}),m0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bs={};for(const t in m0)Bs[t]={isEnabled:e=>m0[t].some(n=>!!e[n])};function j7(t){for(const e in t)Bs[e]={...Bs[e],...t[e]}}const M7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ic(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||M7.has(t)}let VC=t=>!ic(t);function O7(t){typeof t=="function"&&(VC=e=>e.startsWith("on")?!ic(e):t(e))}try{O7(require("@emotion/is-prop-valid").default)}catch{}function D7(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(VC(i)||n===!0&&ic(i)||!e&&!ic(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const du=m.createContext({});function hu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function fa(t){return typeof t=="string"||Array.isArray(t)}const Vm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zm=["initial",...Vm];function fu(t){return hu(t.animate)||zm.some(e=>fa(t[e]))}function zC(t){return!!(fu(t)||t.variants)}function $7(t,e){if(fu(t)){const{initial:n,animate:r}=t;return{initial:n===!1||fa(n)?n:void 0,animate:fa(r)?r:void 0}}return t.inherit!==!1?e:{}}function L7(t){const{initial:e,animate:n}=$7(t,m.useContext(du));return m.useMemo(()=>({initial:e,animate:n}),[g0(e),g0(n)])}function g0(t){return Array.isArray(t)?t.join(" "):t}const pa={};function F7(t){for(const e in t)pa[e]=t[e],Tm(e)&&(pa[e].isCSSVariable=!0)}function HC(t,{layout:e,layoutId:n}){return so.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!pa[t]||t==="opacity")}const B7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},U7=io.length;function V7(t,e,n){let r="",i=!0;for(let s=0;s<U7;s++){const o=io[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=MC(a,Lm[o]);if(!l){i=!1;const u=B7[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Hm(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(so.has(l)){o=!0;continue}else if(Tm(l)){i[l]=c;continue}else{const u=MC(c,Lm[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=V7(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const Wm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function WC(t,e,n){for(const r in e)!_t(e[r])&&!HC(r,n)&&(t[r]=e[r])}function z7({transformTemplate:t},e){return m.useMemo(()=>{const n=Wm();return Hm(n,e,t),Object.assign({},n.vars,n.style)},[e])}function H7(t,e){const n=t.style||{},r={};return WC(r,n,t),Object.assign(r,z7(t,e)),r}function W7(t,e){const n={},r=H7(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const q7={offset:"stroke-dashoffset",array:"stroke-dasharray"},K7={offset:"strokeDashoffset",array:"strokeDasharray"};function G7(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?q7:K7;t[s.offset]=ae.transform(-r);const o=ae.transform(e),a=ae.transform(n);t[s.array]=`${o} ${a}`}function qC(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,u){if(Hm(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:h}=t;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&G7(d,i,s,o,!1)}const KC=()=>({...Wm(),attrs:{}}),GC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Y7(t,e,n,r){const i=m.useMemo(()=>{const s=KC();return qC(s,e,GC(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};WC(s,t.style,t),i.style={...s,...i.style}}return i}const X7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qm(t){return typeof t!="string"||t.includes("-")?!1:!!(X7.indexOf(t)>-1||/[A-Z]/u.test(t))}function J7(t,e,n,{latestValues:r},i,s=!1){const a=(qm(t)?Y7:W7)(e,r,i,t),l=D7(e,typeof t=="string",s),c=t!==m.Fragment?{...l,...a,ref:n}:{},{children:u}=e,d=m.useMemo(()=>_t(u)?u.get():u,[u]);return m.createElement(t,{...c,children:d})}function v0(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Km(t,e,n,r){if(typeof e=="function"){const[i,s]=v0(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=v0(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function $l(t){return _t(t)?t.get():t}function Q7({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:Z7(n,r,i,t),renderState:e()}}function Z7(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=$l(s[h]);let{initial:o,animate:a}=t;const l=fu(t),c=zC(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!hu(d)){const h=Array.isArray(d)?d:[d];for(let f=0;f<h.length;f++){const v=Km(t,h[f]);if(v){const{transitionEnd:g,transition:y,...b}=v;for(const x in b){let w=b[x];if(Array.isArray(w)){const _=u?w.length-1:0;w=w[_]}w!==null&&(i[x]=w)}for(const x in g)i[x]=g[x]}}}return i}const YC=t=>(e,n)=>{const r=m.useContext(du),i=m.useContext(uu),s=()=>Q7(t,e,r,i);return n?s():bm(s)};function Gm(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(_t(r[o])||e.style&&_t(e.style[o])||HC(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const eU=YC({scrapeMotionValuesFromProps:Gm,createRenderState:Wm});function XC(t,e,n){const r=Gm(t,e,n);for(const i in t)if(_t(t[i])||_t(e[i])){const s=io.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const tU=YC({scrapeMotionValuesFromProps:XC,createRenderState:KC}),nU=Symbol.for("motionComponentSymbol");function ls(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function rU(t,e,n){return m.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ls(n)&&(n.current=r))},[e])}const Ym=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),iU="framerAppearId",JC="data-"+Ym(iU),QC=m.createContext({});function sU(t,e,n,r,i){var g,y;const{visualElement:s}=m.useContext(du),o=m.useContext(UC),a=m.useContext(uu),l=m.useContext(Um).reducedMotion,c=m.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=m.useContext(QC);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&oU(c.current,n,i,d);const h=m.useRef(!1);m.useInsertionEffect(()=>{u&&h.current&&u.update(n,a)});const f=n[JC],v=m.useRef(!!f&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,f))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,f)));return YS(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),v.current&&u.animationState&&u.animationState.animateChanges())}),m.useEffect(()=>{u&&(!v.current&&u.animationState&&u.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,f)}),v.current=!1),u.enteringChildren=void 0)}),u}function oU(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ZC(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&ls(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function ZC(t){if(t)return t.options.allowProjection!==!1?t.projection:ZC(t.parent)}function Ad(t,{forwardMotionProps:e=!1}={},n,r){n&&j7(n);const i=qm(t)?tU:eU;function s(a,l){let c;const u={...m.useContext(Um),...a,layoutId:aU(a)},{isStatic:d}=u,h=L7(a),f=i(a,d);if(!d&&wm){lU();const v=cU(u);c=v.MeasureLayout,h.visualElement=sU(t,f,u,r,v.ProjectionNode)}return p.jsxs(du.Provider,{value:h,children:[c&&h.visualElement?p.jsx(c,{visualElement:h.visualElement,...u}):null,J7(t,a,rU(f,h.visualElement,l),f,d,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=m.forwardRef(s);return o[nU]=t,o}function aU({layoutId:t}){const e=m.useContext(ym).id;return e&&t!==void 0?e+"-"+t:t}function lU(t,e){m.useContext(UC).strict}function cU(t){const{drag:e,layout:n}=Bs;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function uU(t,e){if(typeof Proxy>"u")return Ad;const n=new Map,r=(s,o)=>Ad(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,Ad(o,void 0,t,e)),n.get(o))})}function ek({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function dU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function hU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Rd(t){return t===void 0||t===1}function vf({scale:t,scaleX:e,scaleY:n}){return!Rd(t)||!Rd(e)||!Rd(n)}function hi(t){return vf(t)||tk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function tk(t){return y0(t.x)||y0(t.y)}function y0(t){return t&&t!=="0%"}function sc(t,e,n){const r=t-n,i=e*r;return n+i}function b0(t,e,n,r,i){return i!==void 0&&(t=sc(t,i,r)),sc(t,n,r)+e}function yf(t,e=0,n=1,r,i){t.min=b0(t.min,e,n,r,i),t.max=b0(t.max,e,n,r,i)}function nk(t,{x:e,y:n}){yf(t.x,e.translate,e.scale,e.originPoint),yf(t.y,n.translate,n.scale,n.originPoint)}const w0=.999999999999,x0=1.0000000000001;function fU(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&us(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,nk(t,o)),r&&hi(s.latestValues)&&us(t,s.latestValues))}e.x<x0&&e.x>w0&&(e.x=1),e.y<x0&&e.y>w0&&(e.y=1)}function cs(t,e){t.min=t.min+e,t.max=t.max+e}function _0(t,e,n,r,i=.5){const s=ze(t.min,t.max,i);yf(t,e,n,s,r)}function us(t,e){_0(t.x,e.x,e.scaleX,e.scale,e.originX),_0(t.y,e.y,e.scaleY,e.scale,e.originY)}function rk(t,e){return ek(hU(t.getBoundingClientRect(),e))}function pU(t,e,n){const r=rk(t,n),{scroll:i}=e;return i&&(cs(r.x,i.offset.x),cs(r.y,i.offset.y)),r}const S0=()=>({translate:0,scale:1,origin:0,originPoint:0}),ds=()=>({x:S0(),y:S0()}),C0=()=>({min:0,max:0}),Ze=()=>({x:C0(),y:C0()}),bf={current:null},ik={current:!1};function mU(){if(ik.current=!0,!!wm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>bf.current=t.matches;t.addEventListener("change",e),e()}else bf.current=!1}const gU=new WeakMap;function vU(t,e,n){for(const r in e){const i=e[r],s=n[r];if(_t(i))t.addValue(r,i);else if(_t(s))t.addValue(r,Fs(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Fs(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const k0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class yU{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=$t.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Ve.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=fu(n),this.isVariantNode=zC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const f=d[h];l[h]!==void 0&&_t(f)&&f.set(l[h])}}mount(e){var n;this.current=e,gU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),ik.current||mU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bf.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),zr(this.notifyUpdate),zr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=so.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ve.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bs){const n=Bs[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ze()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<k0.length;r++){const i=k0[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=vU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Fs(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(XS(r)||QS(r))?r=parseFloat(r):!T7(r)&&Hr.test(n)&&(r=jC(e,n)),this.setBaseTarget(e,_t(r)?r.get():r)),_t(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Km(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!_t(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Cm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Fm.render(this.render)}}class sk extends yU{constructor(){super(...arguments),this.KeyframeResolver=m7}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;_t(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ok(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function bU(t){return window.getComputedStyle(t)}class wU extends sk{constructor(){super(...arguments),this.type="html",this.renderInstance=ok}readValueFromInstance(e,n){var r;if(so.has(n))return(r=this.projection)!=null&&r.isProjecting?uf(n):M8(e,n);{const i=bU(e),s=(Tm(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return rk(e,n)}build(e,n,r){Hm(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Gm(e,n,r)}}const ak=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xU(t,e,n,r){ok(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(ak.has(i)?i:Ym(i),e.attrs[i])}class _U extends sk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ze}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(so.has(n)){const r=NC(n);return r&&r.default||0}return n=ak.has(n)?n:Ym(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return XC(e,n,r)}build(e,n,r){qC(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){xU(e,n,r,i)}mount(e){this.isSVGTag=GC(e.tagName),super.mount(e)}}const SU=(t,e)=>qm(t)?new _U(e):new wU(e,{allowProjection:t!==m.Fragment});function Ss(t,e,n){const r=t.getProps();return Km(r,e,n!==void 0?n:r.custom,t)}const wf=t=>Array.isArray(t);function CU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Fs(n))}function kU(t){return wf(t)?t[t.length-1]||0:t}function EU(t,e){const n=Ss(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=kU(s[o]);CU(t,o,a)}}function TU(t){return!!(_t(t)&&t.add)}function xf(t,e){const n=t.getValue("willChange");if(TU(n))return n.add(e);if(!n&&lr.WillChange){const r=new lr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function lk(t){return t.props[JC]}const PU=t=>t!==null;function AU(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(PU),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const RU={type:"spring",stiffness:500,damping:25,restSpeed:10},IU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),NU={type:"keyframes",duration:.8},jU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},MU=(t,{keyframes:e})=>e.length>2?NU:so.has(t)?t.startsWith("scale")?IU(e[1]):RU:jU;function OU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Xm=(t,e,n,r={},i,s)=>o=>{const a=$m(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-jn(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};OU(a)||Object.assign(u,MU(t,u)),u.duration&&(u.duration=jn(u.duration)),u.repeatDelay&&(u.repeatDelay=jn(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(mf(u),u.delay===0&&(d=!0)),(lr.instantAnimations||lr.skipAnimations)&&(d=!0,mf(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const h=AU(u.keyframes,a);if(h!==void 0){Ve.update(()=>{u.onUpdate(h),u.onComplete()});return}}return a.isSync?new Om(u):new r7(u)};function DU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function ck(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in a){const d=t.getValue(u,t.latestValues[u]??null),h=a[u];if(h===void 0||c&&DU(c,u))continue;const f={delay:n,...$m(s||{},u)},v=d.get();if(v!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===v&&!f.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const b=lk(t);if(b){const x=window.MotionHandoffAnimation(b,u,Ve);x!==null&&(f.startTime=x,g=!0)}}xf(t,u),d.start(Xm(u,d,h,t.shouldReduceMotion&&AC.has(u)?{type:!1}:f,t,g));const y=d.animation;y&&l.push(y)}return o&&Promise.all(l).then(()=>{Ve.update(()=>{o&&EU(t,o)})}),l}function uk(t,e,n,r=0,i=1){const s=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function _f(t,e,n={}){var l;const r=Ss(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(ck(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return $U(t,e,c,u,d,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function $U(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(_f(l,e,{...o,delay:n+(typeof r=="function"?0:r)+uk(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function LU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>_f(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=_f(t,e,n);else{const i=typeof e=="function"?Ss(t,e,n.custom):e;r=Promise.all(ck(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function dk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const FU=zm.length;function hk(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?hk(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<FU;n++){const r=zm[n],i=t.props[r];(fa(i)||i===!1)&&(e[r]=i)}return e}const BU=[...Vm].reverse(),UU=Vm.length;function VU(t){return e=>Promise.all(e.map(({animation:n,options:r})=>LU(t,n,r)))}function zU(t){let e=VU(t),n=E0(),r=!0;const i=l=>(c,u)=>{var h;const d=Ss(t,u,l==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:f,transitionEnd:v,...g}=d;c={...c,...g,...v}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=hk(t.parent)||{},d=[],h=new Set;let f={},v=1/0;for(let y=0;y<UU;y++){const b=BU[y],x=n[b],w=c[b]!==void 0?c[b]:u[b],_=fa(w),C=b===l?x.isActive:null;C===!1&&(v=y);let S=w===u[b]&&w!==c[b]&&_;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),x.protectedKeys={...f},!x.isActive&&C===null||!w&&!x.prevProp||hu(w)||typeof w=="boolean")continue;const k=HU(x.prevProp,w);let T=k||b===l&&x.isActive&&!S&&_||y>v&&_,N=!1;const A=Array.isArray(w)?w:[w];let j=A.reduce(i(b),{});C===!1&&(j={});const{prevResolvedValues:M={}}=x,V={...M,...j},D=U=>{T=!0,h.has(U)&&(N=!0,h.delete(U)),x.needsAnimating[U]=!0;const I=t.getValue(U);I&&(I.liveStyle=!1)};for(const U in V){const I=j[U],R=M[U];if(f.hasOwnProperty(U))continue;let E=!1;wf(I)&&wf(R)?E=!dk(I,R):E=I!==R,E?I!=null?D(U):h.add(U):I!==void 0&&h.has(U)?D(U):x.protectedKeys[U]=!0}x.prevProp=w,x.prevResolvedValues=j,x.isActive&&(f={...f,...j}),r&&t.blockInitialAnimation&&(T=!1);const B=S&&k;T&&(!B||N)&&d.push(...A.map(U=>{const I={type:b};if(typeof U=="string"&&r&&!B&&t.manuallyAnimateOnMount&&t.parent){const{parent:R}=t,E=Ss(R,U);if(R.enteringChildren&&E){const{delayChildren:q}=E.transition||{};I.delay=uk(R.enteringChildren,t,q)}}return{animation:U,options:I}}))}if(h.size){const y={};if(typeof c.initial!="boolean"){const b=Ss(t,Array.isArray(c.initial)?c.initial[0]:c.initial);b&&b.transition&&(y.transition=b.transition)}h.forEach(b=>{const x=t.getBaseTarget(b),w=t.getValue(b);w&&(w.liveStyle=!0),y[b]=x??null}),d.push({animation:y})}let g=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(d):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(h=>{var f;return(f=h.animationState)==null?void 0:f.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=E0(),r=!0}}}function HU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!dk(e,t):!1}function si(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function E0(){return{animate:si(!0),whileInView:si(),whileHover:si(),whileTap:si(),whileDrag:si(),whileFocus:si(),exit:si()}}class Yr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class WU extends Yr{constructor(e){super(e),e.animationState||(e.animationState=zU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let qU=0;class KU extends Yr{constructor(){super(...arguments),this.id=qU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const GU={animation:{Feature:WU},exit:{Feature:KU}};function ma(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ba(t){return{point:{x:t.pageX,y:t.pageY}}}const YU=t=>e=>Bm(e)&&t(e,Ba(e));function Go(t,e,n,r){return ma(t,e,YU(n),r)}const fk=1e-4,XU=1-fk,JU=1+fk,pk=.01,QU=0-pk,ZU=0+pk;function Rt(t){return t.max-t.min}function eV(t,e,n){return Math.abs(t-e)<=n}function T0(t,e,n,r=.5){t.origin=r,t.originPoint=ze(e.min,e.max,t.origin),t.scale=Rt(n)/Rt(e),t.translate=ze(n.min,n.max,t.origin)-t.originPoint,(t.scale>=XU&&t.scale<=JU||isNaN(t.scale))&&(t.scale=1),(t.translate>=QU&&t.translate<=ZU||isNaN(t.translate))&&(t.translate=0)}function Yo(t,e,n,r){T0(t.x,e.x,n.x,r?r.originX:void 0),T0(t.y,e.y,n.y,r?r.originY:void 0)}function P0(t,e,n){t.min=n.min+e.min,t.max=t.min+Rt(e)}function tV(t,e,n){P0(t.x,e.x,n.x),P0(t.y,e.y,n.y)}function A0(t,e,n){t.min=e.min-n.min,t.max=t.min+Rt(e)}function Xo(t,e,n){A0(t.x,e.x,n.x),A0(t.y,e.y,n.y)}function en(t){return[t("x"),t("y")]}const mk=({current:t})=>t?t.ownerDocument.defaultView:null,R0=(t,e)=>Math.abs(t-e);function nV(t,e){const n=R0(t.x,e.x),r=R0(t.y,e.y);return Math.sqrt(n**2+r**2)}class gk{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Nd(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,v=nV(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!v)return;const{point:g}=h,{timestamp:y}=ht;this.history.push({...g,timestamp:y});const{onStart:b,onMove:x}=this.handlers;f||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Id(f,this.transformPagePoint),Ve.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:v,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Nd(h.type==="pointercancel"?this.lastMoveEventInfo:Id(f,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,b),g&&g(h,b)},!Bm(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=Ba(e),l=Id(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=ht;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Nd(l,this.history)),this.removeListeners=$a(Go(this.contextWindow,"pointermove",this.handlePointerMove),Go(this.contextWindow,"pointerup",this.handlePointerUp),Go(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zr(this.updatePoint)}}function Id(t,e){return e?{point:e(t.point)}:t}function I0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Nd({point:t},e){return{point:t,delta:I0(t,vk(e)),offset:I0(t,rV(e)),velocity:iV(e,.1)}}function rV(t){return t[0]}function vk(t){return t[t.length-1]}function iV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=vk(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>jn(e)));)n--;if(!r)return{x:0,y:0};const s=Mn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function sV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ze(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ze(n,t,r.max):Math.min(t,n)),t}function N0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function oV(t,{top:e,left:n,bottom:r,right:i}){return{x:N0(t.x,n,i),y:N0(t.y,e,r)}}function j0(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function aV(t,e){return{x:j0(t.x,e.x),y:j0(t.y,e.y)}}function lV(t,e){let n=.5;const r=Rt(t),i=Rt(e);return i>r?n=ua(e.min,e.max-r,t.min):r>i&&(n=ua(t.min,t.max-i,e.min)),ar(0,1,n)}function cV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sf=.35;function uV(t=Sf){return t===!1?t=0:t===!0&&(t=Sf),{x:M0(t,"left","right"),y:M0(t,"top","bottom")}}function M0(t,e,n){return{min:O0(t,e),max:O0(t,n)}}function O0(t,e){return typeof t=="number"?t:t[e]||0}const dV=new WeakMap;class hV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ze(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ba(d).point)},o=(d,h)=>{const{drag:f,dragPropagation:v,onDragStart:g}=this.getProps();if(f&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=b7(f),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),en(b=>{let x=this.getAxisMotionValue(b).get()||0;if(On.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[b];_&&(x=Rt(_)*(parseFloat(x)/100))}}this.originPoint[b]=x}),g&&Ve.postRender(()=>g(d,h)),xf(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h;const{dragPropagation:f,dragDirectionLock:v,onDirectionLock:g,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:b}=h;if(v&&this.currentDirection===null){this.currentDirection=fV(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),y&&y(d,h)},l=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h,this.stop(d,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>en(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new gk(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:mk(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ve.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!pl(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=sV(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&ls(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=oV(r.layoutBox,e):this.constraints=!1,this.elastic=uV(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&en(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=cV(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ls(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=pU(r,i.root,this.visualElement.getTransformPagePoint());let o=aV(i.layout.layoutBox,s);if(n){const a=n(dU(o));this.hasMutatedConstraints=!!a,a&&(o=ek(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=en(u=>{if(!pl(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=i?200:1e6,f=i?40:1e7,v={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return xf(this.visualElement,e),r.start(Xm(e,r,0,n,this.visualElement,!1))}stopAnimation(){en(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){en(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){en(n=>{const{drag:r}=this.getProps();if(!pl(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-ze(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ls(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};en(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=lV({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),en(o=>{if(!pl(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ze(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;dV.set(this.visualElement,this);const e=this.visualElement.current,n=Go(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ls(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ve.read(r);const o=ma(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(en(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Sf,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function pl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function fV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class pV extends Yr{constructor(e){super(e),this.removeGroupControls=rn,this.removeListeners=rn,this.controls=new hV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rn}unmount(){this.removeGroupControls(),this.removeListeners()}}const D0=t=>(e,n)=>{t&&Ve.postRender(()=>t(e,n))};class mV extends Yr{constructor(){super(...arguments),this.removePointerDownListener=rn}onPointerDown(e){this.session=new gk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:D0(e),onStart:D0(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ve.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Go(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ll={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const mo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ae.test(t))t=parseFloat(t);else return t;const n=$0(t,e.target.x),r=$0(t,e.target.y);return`${n}% ${r}%`}},gV={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Hr.parse(t);if(i.length>5)return r;const s=Hr.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=ze(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};let jd=!1;class vV extends m.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;F7(yV),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),jd&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ll.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,jd=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ve.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Fm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;jd=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function yk(t){const[e,n]=BC(),r=m.useContext(ym);return p.jsx(vV,{...t,layoutGroup:r,switchLayoutGroup:m.useContext(QC),isPresent:e,safeToRemove:n})}const yV={borderRadius:{...mo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mo,borderTopRightRadius:mo,borderBottomLeftRadius:mo,borderBottomRightRadius:mo,boxShadow:gV};function bV(t,e,n){const r=_t(t)?t:Fs(t);return r.start(Xm("",r,e,n)),r.animation}const wV=(t,e)=>t.depth-e.depth;class xV{constructor(){this.children=[],this.isDirty=!1}add(e){xm(this.children,e),this.isDirty=!0}remove(e){_m(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wV),this.isDirty=!1,this.children.forEach(e)}}function _V(t,e){const n=$t.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(zr(r),t(s-e))};return Ve.setup(r,!0),()=>zr(r)}const bk=["TopLeft","TopRight","BottomLeft","BottomRight"],SV=bk.length,L0=t=>typeof t=="string"?parseFloat(t):t,F0=t=>typeof t=="number"||ae.test(t);function CV(t,e,n,r,i,s){i?(t.opacity=ze(0,n.opacity??1,kV(r)),t.opacityExit=ze(e.opacity??1,0,EV(r))):s&&(t.opacity=ze(e.opacity??1,n.opacity??1,r));for(let o=0;o<SV;o++){const a=`border${bk[o]}Radius`;let l=B0(e,a),c=B0(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||F0(l)===F0(c)?(t[a]=Math.max(ze(L0(l),L0(c),r),0),(On.test(c)||On.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ze(e.rotate||0,n.rotate||0,r))}function B0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const kV=wk(0,.5,oC),EV=wk(.5,.95,rn);function wk(t,e,n){return r=>r<t?0:r>e?1:n(ua(t,e,r))}function U0(t,e){t.min=e.min,t.max=e.max}function Zt(t,e){U0(t.x,e.x),U0(t.y,e.y)}function V0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function z0(t,e,n,r,i){return t-=e,t=sc(t,1/n,r),i!==void 0&&(t=sc(t,1/i,r)),t}function TV(t,e=0,n=1,r=.5,i,s=t,o=t){if(On.test(e)&&(e=parseFloat(e),e=ze(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ze(s.min,s.max,r);t===s&&(a-=e),t.min=z0(t.min,e,n,a,i),t.max=z0(t.max,e,n,a,i)}function H0(t,e,[n,r,i],s,o){TV(t,e[n],e[r],e[i],e.scale,s,o)}const PV=["x","scaleX","originX"],AV=["y","scaleY","originY"];function W0(t,e,n,r){H0(t.x,e,PV,n?n.x:void 0,r?r.x:void 0),H0(t.y,e,AV,n?n.y:void 0,r?r.y:void 0)}function q0(t){return t.translate===0&&t.scale===1}function xk(t){return q0(t.x)&&q0(t.y)}function K0(t,e){return t.min===e.min&&t.max===e.max}function RV(t,e){return K0(t.x,e.x)&&K0(t.y,e.y)}function G0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _k(t,e){return G0(t.x,e.x)&&G0(t.y,e.y)}function Y0(t){return Rt(t.x)/Rt(t.y)}function X0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class IV{constructor(){this.members=[]}add(e){xm(this.members,e),e.scheduleRender()}remove(e){if(_m(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NV(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:f,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),f&&(r+=`skewX(${f}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Md=["","X","Y","Z"],jV=1e3;let MV=0;function Od(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Sk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=lk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ve,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Sk(r)}function Ck({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=MV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($V),this.nodes.forEach(UV),this.nodes.forEach(VV),this.nodes.forEach(LV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new xV)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Cm),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=FC(o)&&!k7(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u,d=0;const h=()=>this.root.updateBlockedByResize=!1;Ve.read(()=>{d=window.innerWidth}),t(o,()=>{const f=window.innerWidth;f!==d&&(d=f,this.root.updateBlockedByResize=!0,u&&u(),u=_V(h,250),Ll.hasAnimatedSinceResize&&(Ll.hasAnimatedSinceResize=!1,this.nodes.forEach(Z0)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||KV,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=c.getProps(),b=!this.targetLayout||!_k(this.targetLayout,f),x=!d&&h;if(this.options.layoutRoot||this.resumeFrom||x||d&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...$m(v,"layout"),onPlay:g,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(u,x)}else d||Z0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zV),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Sk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(J0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Q0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(BV),this.nodes.forEach(OV),this.nodes.forEach(DV)):this.nodes.forEach(Q0),this.clearAllSnapshots();const a=$t.now();ht.delta=ar(0,1e3/60,a-ht.timestamp),ht.timestamp=a,ht.isProcessing=!0,Sd.update.process(ht),Sd.preRender.process(ht),Sd.render.process(ht),ht.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FV),this.sharedNodes.forEach(HV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rt(this.snapshot.measuredBox.x)&&!Rt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!xk(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||hi(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),GV(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Ze();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(YV))){const{scroll:u}=this.root;u&&(cs(a.x,u.offset.x),cs(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=Ze();if(Zt(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Zt(a,o),cs(a.x,d.offset.x),cs(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Ze();Zt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&us(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),hi(u.latestValues)&&us(l,u.latestValues)}return hi(this.latestValues)&&us(l,this.latestValues),l}removeTransform(o){const a=Ze();Zt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!hi(c.latestValues))continue;vf(c.latestValues)&&c.updateSnapshot();const u=Ze(),d=c.measurePageBox();Zt(u,d),W0(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return hi(this.latestValues)&&W0(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ht.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=ht.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),Xo(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ze(),this.targetWithTransforms=Ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zt(this.target,this.layout.layoutBox),nk(this.target,this.targetDelta)):Zt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),Xo(this.relativeTargetOrigin,this.target,f.target),Zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||vf(this.parent.latestValues)||tk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ht.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Zt(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;fU(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ze());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(V0(this.prevProjectionDelta.x,this.projectionDelta.x),V0(this.prevProjectionDelta.y,this.projectionDelta.y)),Yo(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!X0(this.projectionDelta.x,this.prevProjectionDelta.x)||!X0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ds(),this.projectionDelta=ds(),this.projectionDeltaWithTransform=ds()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=ds();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ze(),f=l?l.source:void 0,v=this.layout?this.layout.source:void 0,g=f!==v,y=this.getStack(),b=!y||y.members.length<=1,x=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(qV));this.animationProgress=0;let w;this.mixTargetDelta=_=>{const C=_/1e3;eb(d.x,o.x,C),eb(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xo(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),WV(this.relativeTarget,this.relativeTargetOrigin,h,C),w&&RV(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ze()),Zt(w,this.relativeTarget)),g&&(this.animationValues=u,CV(u,c,this.latestValues,C,x,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ve.update(()=>{Ll.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fs(0)),this.currentAnimation=bV(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&kk(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ze();const d=Rt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=Rt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Zt(a,l),us(a,u),Yo(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new IV),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Od("z",o,c,this.animationValues);for(let u=0;u<Md.length;u++)Od(`rotate${Md[u]}`,o,c,this.animationValues),Od(`skew${Md[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=$l(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=$l(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!hi(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=NV(this.projectionDeltaWithTransform,this.treeScale,u);l&&(d=l(u,d)),o.transform=d;const{x:h,y:f}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const v in pa){if(u[v]===void 0)continue;const{correct:g,applyTo:y,isCSSVariable:b}=pa[v],x=d==="none"?u[v]:g(u[v],c);if(y){const w=y.length;for(let _=0;_<w;_++)o[y[_]]=x}else b?this.options.visualElement.renderState.vars[v]=x:o[v]=x}this.options.layoutId&&(o.pointerEvents=c===this?$l(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(J0),this.root.sharedNodes.clear()}}}function OV(t){t.updateLayout()}function DV(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?en(d=>{const h=o?e.measuredBox[d]:e.layoutBox[d],f=Rt(h);h.min=r[d].min,h.max=h.min+f}):kk(s,e.layoutBox,r)&&en(d=>{const h=o?e.measuredBox[d]:e.layoutBox[d],f=Rt(r[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=ds();Yo(a,r,e.layoutBox);const l=ds();o?Yo(l,t.applyTransform(i,!0),e.measuredBox):Yo(l,r,e.layoutBox);const c=!xk(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const v=Ze();Xo(v,e.layoutBox,h.layoutBox);const g=Ze();Xo(g,r,f.layoutBox),_k(v,g)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function $V(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function LV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function FV(t){t.clearSnapshot()}function J0(t){t.clearMeasurements()}function Q0(t){t.isLayoutDirty=!1}function BV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Z0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function UV(t){t.resolveTargetDelta()}function VV(t){t.calcProjection()}function zV(t){t.resetSkewAndRotation()}function HV(t){t.removeLeadSnapshot()}function eb(t,e,n){t.translate=ze(e.translate,0,n),t.scale=ze(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function tb(t,e,n,r){t.min=ze(e.min,n.min,r),t.max=ze(e.max,n.max,r)}function WV(t,e,n,r){tb(t.x,e.x,n.x,r),tb(t.y,e.y,n.y,r)}function qV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const KV={duration:.45,ease:[.4,0,.1,1]},nb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),rb=nb("applewebkit/")&&!nb("chrome/")?Math.round:rn;function ib(t){t.min=rb(t.min),t.max=rb(t.max)}function GV(t){ib(t.x),ib(t.y)}function kk(t,e,n){return t==="position"||t==="preserve-aspect"&&!eV(Y0(e),Y0(n),.2)}function YV(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const XV=Ck({attachResizeListener:(t,e)=>ma(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dd={current:void 0},Ek=Ck({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dd.current){const t=new XV({});t.mount(window),t.setOptions({layoutScroll:!0}),Dd.current=t}return Dd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),JV={pan:{Feature:mV},drag:{Feature:pV,ProjectionNode:Ek,MeasureLayout:yk}};function sb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Ve.postRender(()=>s(e,Ba(e)))}class QV extends Yr{mount(){const{current:e}=this.node;e&&(this.unmount=w7(e,(n,r)=>(sb(this.node,r,"Start"),i=>sb(this.node,i,"End"))))}unmount(){}}class ZV extends Yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$a(ma(this.node.current,"focus",()=>this.onFocus()),ma(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ob(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Ve.postRender(()=>s(e,Ba(e)))}class ez extends Yr{mount(){const{current:e}=this.node;e&&(this.unmount=C7(e,(n,r)=>(ob(this.node,r,"Start"),(i,{success:s})=>ob(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Cf=new WeakMap,$d=new WeakMap,tz=t=>{const e=Cf.get(t.target);e&&e(t)},nz=t=>{t.forEach(tz)};function rz({root:t,...e}){const n=t||document;$d.has(n)||$d.set(n,{});const r=$d.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(nz,{root:t,...e})),r[i]}function iz(t,e,n){const r=rz(e);return Cf.set(t,n),r.observe(t),()=>{Cf.delete(t),r.unobserve(t)}}const sz={some:0,all:1};class oz extends Yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:sz[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return iz(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(az(e,n))&&this.startObserver()}unmount(){}}function az({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const lz={inView:{Feature:oz},tap:{Feature:ez},focus:{Feature:ZV},hover:{Feature:QV}},cz={layout:{ProjectionNode:Ek,MeasureLayout:yk}},uz={...GU,...lz,...JV,...cz},Rn=uU(uz,SU),Tk=H.memo(({className:t})=>{const e=["M-380 -189C-380 -189 -312 216 152 343C616 470 684 875 684 875","M-373 -197C-373 -197 -305 208 159 335C623 462 691 867 691 867","M-366 -205C-366 -205 -298 200 166 327C630 454 698 859 698 859","M-359 -213C-359 -213 -291 192 173 319C637 446 705 851 705 851","M-352 -221C-352 -221 -284 184 180 311C644 438 712 843 712 843","M-345 -229C-345 -229 -277 176 187 303C651 430 719 835 719 835","M-338 -237C-338 -237 -270 168 194 295C658 422 726 827 726 827","M-331 -245C-331 -245 -263 160 201 287C665 414 733 819 733 819","M-324 -253C-324 -253 -256 152 208 279C672 406 740 811 740 811","M-317 -261C-317 -261 -249 144 215 271C679 398 747 803 747 803","M-310 -269C-310 -269 -242 136 222 263C686 390 754 795 754 795","M-303 -277C-303 -277 -235 128 229 255C693 382 761 787 761 787","M-296 -285C-296 -285 -228 120 236 247C700 374 768 779 768 779","M-289 -293C-289 -293 -221 112 243 239C707 366 775 771 775 771","M-282 -301C-282 -301 -214 104 250 231C714 358 782 763 782 763","M-275 -309C-275 -309 -207 96 257 223C721 350 789 755 789 755","M-268 -317C-268 -317 -200 88 264 215C728 342 796 747 796 747","M-261 -325C-261 -325 -193 80 271 207C735 334 803 739 803 739","M-254 -333C-254 -333 -186 72 278 199C742 326 810 731 810 731","M-247 -341C-247 -341 -179 64 285 191C749 318 817 723 817 723","M-240 -349C-240 -349 -172 56 292 183C756 310 824 715 824 715","M-233 -357C-233 -357 -165 48 299 175C763 302 831 707 831 707","M-226 -365C-226 -365 -158 40 306 167C770 294 838 699 838 699","M-219 -373C-219 -373 -151 32 313 159C777 286 845 691 845 691","M-212 -381C-212 -381 -144 24 320 151C784 278 852 683 852 683","M-205 -389C-205 -389 -137 16 327 143C791 270 859 675 859 675","M-198 -397C-198 -397 -130 8 334 135C798 262 866 667 866 667","M-191 -405C-191 -405 -123 0 341 127C805 254 873 659 873 659","M-184 -413C-184 -413 -116 -8 348 119C812 246 880 651 880 651","M-177 -421C-177 -421 -109 -16 355 111C819 238 887 643 887 643","M-170 -429C-170 -429 -102 -24 362 103C826 230 894 635 894 635","M-163 -437C-163 -437 -95 -32 369 95C833 222 901 627 901 627","M-156 -445C-156 -445 -88 -40 376 87C840 214 908 619 908 619","M-149 -453C-149 -453 -81 -48 383 79C847 206 915 611 915 611","M-142 -461C-142 -461 -74 -56 390 71C854 198 922 603 922 603","M-135 -469C-135 -469 -67 -64 397 63C861 190 929 595 929 595","M-128 -477C-128 -477 -60 -72 404 55C868 182 936 587 936 587","M-121 -485C-121 -485 -53 -80 411 47C875 174 943 579 943 579","M-114 -493C-114 -493 -46 -88 418 39C882 166 950 571 950 571","M-107 -501C-107 -501 -39 -96 425 31C889 158 957 563 957 563","M-100 -509C-100 -509 -32 -104 432 23C896 150 964 555 964 555","M-93 -517C-93 -517 -25 -112 439 15C903 142 971 547 971 547","M-86 -525C-86 -525 -18 -120 446 7C910 134 978 539 978 539","M-79 -533C-79 -533 -11 -128 453 -1C917 126 985 531 985 531","M-72 -541C-72 -541 -4 -136 460 -9C924 118 992 523 992 523","M-65 -549C-65 -549 3 -144 467 -17C931 110 999 515 999 515","M-58 -557C-58 -557 10 -152 474 -25C938 102 1006 507 1006 507","M-51 -565C-51 -565 17 -160 481 -33C945 94 1013 499 1013 499","M-44 -573C-44 -573 24 -168 488 -41C952 86 1020 491 1020 491","M-37 -581C-37 -581 31 -176 495 -49C959 78 1027 483 1027 483"];return p.jsx("div",{className:ee("absolute  h-full w-full inset-0  [mask-size:40px] [mask-repeat:no-repeat] flex items-center justify-center",t),children:p.jsxs("svg",{className:" z-0 h-full w-full pointer-events-none absolute ",width:"100%",height:"100%",viewBox:"0 0 696 316",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("path",{d:"M-380 -189C-380 -189 -312 216 152 343C616 470 684 875 684 875M-373 -197C-373 -197 -305 208 159 335C623 462 691 867 691 867M-366 -205C-366 -205 -298 200 166 327C630 454 698 859 698 859M-359 -213C-359 -213 -291 192 173 319C637 446 705 851 705 851M-352 -221C-352 -221 -284 184 180 311C644 438 712 843 712 843M-345 -229C-345 -229 -277 176 187 303C651 430 719 835 719 835M-338 -237C-338 -237 -270 168 194 295C658 422 726 827 726 827M-331 -245C-331 -245 -263 160 201 287C665 414 733 819 733 819M-324 -253C-324 -253 -256 152 208 279C672 406 740 811 740 811M-317 -261C-317 -261 -249 144 215 271C679 398 747 803 747 803M-310 -269C-310 -269 -242 136 222 263C686 390 754 795 754 795M-303 -277C-303 -277 -235 128 229 255C693 382 761 787 761 787M-296 -285C-296 -285 -228 120 236 247C700 374 768 779 768 779M-289 -293C-289 -293 -221 112 243 239C707 366 775 771 775 771M-282 -301C-282 -301 -214 104 250 231C714 358 782 763 782 763M-275 -309C-275 -309 -207 96 257 223C721 350 789 755 789 755M-268 -317C-268 -317 -200 88 264 215C728 342 796 747 796 747M-261 -325C-261 -325 -193 80 271 207C735 334 803 739 803 739M-254 -333C-254 -333 -186 72 278 199C742 326 810 731 810 731M-247 -341C-247 -341 -179 64 285 191C749 318 817 723 817 723M-240 -349C-240 -349 -172 56 292 183C756 310 824 715 824 715M-233 -357C-233 -357 -165 48 299 175C763 302 831 707 831 707M-226 -365C-226 -365 -158 40 306 167C770 294 838 699 838 699M-219 -373C-219 -373 -151 32 313 159C777 286 845 691 845 691M-212 -381C-212 -381 -144 24 320 151C784 278 852 683 852 683M-205 -389C-205 -389 -137 16 327 143C791 270 859 675 859 675M-198 -397C-198 -397 -130 8 334 135C798 262 866 667 866 667M-191 -405C-191 -405 -123 0 341 127C805 254 873 659 873 659M-184 -413C-184 -413 -116 -8 348 119C812 246 880 651 880 651M-177 -421C-177 -421 -109 -16 355 111C819 238 887 643 887 643M-170 -429C-170 -429 -102 -24 362 103C826 230 894 635 894 635M-163 -437C-163 -437 -95 -32 369 95C833 222 901 627 901 627M-156 -445C-156 -445 -88 -40 376 87C840 214 908 619 908 619M-149 -453C-149 -453 -81 -48 383 79C847 206 915 611 915 611M-142 -461C-142 -461 -74 -56 390 71C854 198 922 603 922 603M-135 -469C-135 -469 -67 -64 397 63C861 190 929 595 929 595M-128 -477C-128 -477 -60 -72 404 55C868 182 936 587 936 587M-121 -485C-121 -485 -53 -80 411 47C875 174 943 579 943 579M-114 -493C-114 -493 -46 -88 418 39C882 166 950 571 950 571M-107 -501C-107 -501 -39 -96 425 31C889 158 957 563 957 563M-100 -509C-100 -509 -32 -104 432 23C896 150 964 555 964 555M-93 -517C-93 -517 -25 -112 439 15C903 142 971 547 971 547M-86 -525C-86 -525 -18 -120 446 7C910 134 978 539 978 539M-79 -533C-79 -533 -11 -128 453 -1C917 126 985 531 985 531M-72 -541C-72 -541 -4 -136 460 -9C924 118 992 523 992 523M-65 -549C-65 -549 3 -144 467 -17C931 110 999 515 999 515M-58 -557C-58 -557 10 -152 474 -25C938 102 1006 507 1006 507M-51 -565C-51 -565 17 -160 481 -33C945 94 1013 499 1013 499M-44 -573C-44 -573 24 -168 488 -41C952 86 1020 491 1020 491M-37 -581C-37 -581 31 -176 495 -49C959 78 1027 483 1027 483M-30 -589C-30 -589 38 -184 502 -57C966 70 1034 475 1034 475M-23 -597C-23 -597 45 -192 509 -65C973 62 1041 467 1041 467M-16 -605C-16 -605 52 -200 516 -73C980 54 1048 459 1048 459M-9 -613C-9 -613 59 -208 523 -81C987 46 1055 451 1055 451M-2 -621C-2 -621 66 -216 530 -89C994 38 1062 443 1062 443M5 -629C5 -629 73 -224 537 -97C1001 30 1069 435 1069 435M12 -637C12 -637 80 -232 544 -105C1008 22 1076 427 1076 427M19 -645C19 -645 87 -240 551 -113C1015 14 1083 419 1083 419",stroke:"url(#paint0_radial_242_278)",strokeOpacity:"0.05",strokeWidth:"0.5"}),e.map((n,r)=>p.jsx(Rn.path,{d:n,stroke:`url(#linearGradient-${r})`,strokeOpacity:"0.4",strokeWidth:"0.5"},"path-"+r)),p.jsxs("defs",{children:[e.map((n,r)=>p.jsxs(Rn.linearGradient,{id:`linearGradient-${r}`,initial:{x1:"0%",x2:"0%",y1:"0%",y2:"0%"},animate:{x1:["0%","100%"],x2:["0%","95%"],y1:["0%","100%"],y2:["0%",`${93+Math.random()*8}%`]},transition:{duration:Math.random()*10+10,ease:"easeInOut",repeat:1/0,delay:Math.random()*10},children:[p.jsx("stop",{stopColor:"#18CCFC",stopOpacity:"0"}),p.jsx("stop",{stopColor:"#18CCFC"}),p.jsx("stop",{offset:"32.5%",stopColor:"#6344F5"}),p.jsx("stop",{offset:"100%",stopColor:"#AE48FF",stopOpacity:"0"})]},`gradient-${r}`)),p.jsxs("radialGradient",{id:"paint0_radial_242_278",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(352 34) rotate(90) scale(555 1560.62)",children:[p.jsx("stop",{offset:"0.0666667",stopColor:"var(--neutral-300)"}),p.jsx("stop",{offset:"0.243243",stopColor:"var(--neutral-300)"}),p.jsx("stop",{offset:"0.43594",stopColor:"white",stopOpacity:"0"})]})]})]})})});Tk.displayName="BackgroundBeams";const rr=m.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));rr.displayName="Input";const Pk=({open:t,onOpenChange:e})=>{const[n,r]=m.useState(""),{toast:i}=Mi(),s=o=>{o.preventDefault(),n&&(i({title:"Welcome to the waitlist!",description:"We'll notify you when we launch. Thanks for your interest!"}),r(""),e(!1))};return p.jsx(ja,{open:t,onOpenChange:e,children:p.jsxs(no,{className:"max-w-4xl w-full p-0 border-0 bg-transparent shadow-none",children:[p.jsxs(Ma,{className:"sr-only",children:[p.jsx(Oa,{children:"Join Waitlist"}),p.jsx(Da,{children:"Sign up to be notified when we launch"})]}),p.jsxs("div",{className:"relative h-[40rem] w-full rounded-lg bg-background overflow-hidden",children:[p.jsx("button",{onClick:()=>e(!1),className:"absolute top-4 right-4 z-50 p-2 rounded-full bg-background/80 backdrop-blur-sm hover:bg-background/90 transition-colors",children:p.jsx(ka,{className:"w-4 h-4"})}),p.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center h-full px-4",children:p.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[p.jsx("h1",{className:"text-4xl md:text-6xl bg-clip-text text-transparent bg-gradient-to-b from-foreground to-muted-foreground font-bold mb-4",children:"Join the Waitlist"}),p.jsx("p",{className:"text-muted-foreground max-w-lg mx-auto mb-8 text-sm md:text-base",children:"Be the first to hear. Get early access to advanced chat features, agent mode, and exclusive beta testing opportunities."}),p.jsxs("form",{onSubmit:s,className:"space-y-4",children:[p.jsx(rr,{type:"email",placeholder:"Enter your email address",value:n,onChange:o=>r(o.target.value),className:"w-full max-w-md mx-auto",required:!0}),p.jsx(Ee,{type:"submit",size:"lg",className:"w-full max-w-md mx-auto font-semibold",children:"Join Waitlist"})]})]})}),p.jsx(Tk,{})]})]})})},dz=({name:t,description:e,grayscaleImage:n,colorImage:r,detailedDescription:i,link:s})=>p.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"relative w-full h-80 rounded-2xl cursor-pointer overflow-hidden group perspective-1000 block",children:[p.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-all duration-700 ease-out group-hover:scale-110 group-hover:opacity-0 z-10",style:{backgroundImage:`url(${n})`}}),p.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-0 scale-95 transition-all duration-700 ease-out group-hover:opacity-100 group-hover:scale-100 z-20",style:{backgroundImage:`url(${r})`}}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-black/20 group-hover:from-black/80 group-hover:to-black/40 transition-all duration-500 z-30"}),p.jsx("div",{className:"absolute inset-0 border-2 border-white/20 group-hover:border-white/40 rounded-2xl transition-all duration-500 z-40"}),p.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 bg-gradient-to-br from-white/30 to-white/10 rounded-full opacity-0 group-hover:opacity-100 transform rotate-45 transition-all duration-500 z-40"}),p.jsx("div",{className:"absolute bottom-4 left-4 w-6 h-6 bg-gradient-to-tl from-white/30 to-white/10 rounded-full opacity-0 group-hover:opacity-100 transform -rotate-45 transition-all duration-500 z-40"}),p.jsxs("div",{className:"relative w-full h-full flex flex-col justify-end p-6 z-50",children:[p.jsx("p",{className:"text-white/90 text-sm leading-relaxed mb-2 group-hover:opacity-0 transition-opacity duration-300",children:e}),p.jsxs("div",{className:"absolute bottom-6 left-6 right-6 opacity-0 group-hover:opacity-100 transform translate-y-4 group-hover:translate-y-0 transition-all duration-500 delay-200",children:[p.jsx("h3",{className:"text-2xl font-bold text-white mb-3 leading-tight",children:t}),p.jsx("p",{className:"text-white text-sm leading-relaxed font-medium",children:i})]})]}),p.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-20 bg-gradient-to-br from-blue-400/30 via-purple-400/30 to-pink-400/30 transition-opacity duration-700 z-5"})]}),Ak=()=>{const[t,e]=m.useState(0),[n,r]=m.useState([]),[i,s]=m.useState(!0),{user:o}=Qc(),{toast:a}=Mi(),l=async()=>{if(!o){s(!1);return}try{const{data:d,error:h}=await Ae.functions.invoke("get-credits");if(h){console.error("Error fetching credits:",h);return}const f=await d;e(f.credits||0),r(f.transactions||[])}catch(d){console.error("Error fetching credits:",d)}finally{s(!1)}},c=async(d,h="Chat usage",f)=>{if(!o)return a({title:"Authentication required",description:"Please sign in to use credits.",variant:"destructive"}),!1;try{const{data:v,error:g}=await Ae.functions.invoke("use-credits",{body:{amount:d,description:h,chat_session_id:f}});if(g)return console.error("Error using credits:",g),a({title:"Credit usage failed",description:"Failed to deduct credits. Please try again.",variant:"destructive"}),!1;const y=await v;return y.error?(y.error==="Insufficient credits"?a({title:"Insufficient credits",description:"You don't have enough credits for this action.",variant:"destructive"}):a({title:"Error",description:y.error,variant:"destructive"}),!1):(e(y.remaining_credits),await l(),!0)}catch(v){return console.error("Error using credits:",v),a({title:"Credit usage failed",description:"An unexpected error occurred.",variant:"destructive"}),!1}},u=async()=>{await l()};return m.useEffect(()=>{l()},[o]),m.useEffect(()=>{if(!o)return;const d=Ae.channel("credits-changes").on("postgres_changes",{event:"*",schema:"public",table:"user_credits",filter:`user_id=eq.${o.id}`},h=>{console.log("Credits updated:",h),l()}).subscribe();return()=>{Ae.removeChannel(d)}},[o]),{credits:t,transactions:n,loading:i,useCredits:c,refreshCredits:u}},hz=()=>{const[t,e]=m.useState("user"),[n,r]=m.useState(!0),{user:i}=Qc(),s=async()=>{if(!i){e("user"),r(!1);return}try{const{data:o,error:a}=await Ae.from("user_roles").select("role").eq("user_id",i.id).single();a&&a.code!=="PGRST116"?(console.error("Error fetching user role:",a),e("user")):e((o==null?void 0:o.role)||"user")}catch(o){console.error("Error fetching user role:",o),e("user")}finally{r(!1)}};return m.useEffect(()=>{s()},[i]),{role:t,isAdmin:t==="admin",loading:n}};var fz=m.createContext(void 0);function pu(t){const e=m.useContext(fz);return t||e||"ltr"}var Ld=0;function pz(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ab()),document.body.insertAdjacentElement("beforeend",t[1]??ab()),Ld++,()=>{Ld===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ld--}},[])}function ab(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Fd="focusScope.autoFocusOnMount",Bd="focusScope.autoFocusOnUnmount",lb={bubbles:!1,cancelable:!0},mz="FocusScope",Rk=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=m.useState(null),c=Ye(i),u=Ye(s),d=m.useRef(null),h=Re(e,g=>l(g)),f=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let g=function(w){if(f.paused||!a)return;const _=w.target;a.contains(_)?d.current=_:_r(d.current,{select:!0})},y=function(w){if(f.paused||!a)return;const _=w.relatedTarget;_!==null&&(a.contains(_)||_r(d.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const C of w)C.removedNodes.length>0&&_r(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const x=new MutationObserver(b);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),x.disconnect()}}},[r,a,f.paused]),m.useEffect(()=>{if(a){ub.add(f);const g=document.activeElement;if(!a.contains(g)){const b=new CustomEvent(Fd,lb);a.addEventListener(Fd,c),a.dispatchEvent(b),b.defaultPrevented||(gz(xz(Ik(a)),{select:!0}),document.activeElement===g&&_r(a))}return()=>{a.removeEventListener(Fd,c),setTimeout(()=>{const b=new CustomEvent(Bd,lb);a.addEventListener(Bd,u),a.dispatchEvent(b),b.defaultPrevented||_r(g??document.body,{select:!0}),a.removeEventListener(Bd,u),ub.remove(f)},0)}}},[a,c,u,f]);const v=m.useCallback(g=>{if(!n&&!r||f.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(y&&b){const x=g.currentTarget,[w,_]=vz(x);w&&_?!g.shiftKey&&b===_?(g.preventDefault(),n&&_r(w,{select:!0})):g.shiftKey&&b===w&&(g.preventDefault(),n&&_r(_,{select:!0})):b===x&&g.preventDefault()}},[n,r,f.paused]);return p.jsx(Ce.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});Rk.displayName=mz;function gz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(_r(r,{select:e}),document.activeElement!==n)return}function vz(t){const e=Ik(t),n=cb(e,t),r=cb(e.reverse(),t);return[n,r]}function Ik(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function cb(t,e){for(const n of t)if(!yz(n,{upTo:e}))return n}function yz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function bz(t){return t instanceof HTMLInputElement&&"select"in t}function _r(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&bz(t)&&e&&t.select()}}var ub=wz();function wz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=db(t,e),t.unshift(e)},remove(e){var n;t=db(t,e),(n=t[0])==null||n.resume()}}}function db(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function xz(t){return t.filter(e=>e.tagName!=="A")}function _z(t,e=[]){let n=[];function r(s,o){const a=m.createContext(o),l=n.length;n=[...n,o];function c(d){const{scope:h,children:f,...v}=d,g=(h==null?void 0:h[t][l])||a,y=m.useMemo(()=>v,Object.values(v));return p.jsx(g.Provider,{value:y,children:f})}function u(d,h){const f=(h==null?void 0:h[t][l])||a,v=m.useContext(f);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Sz(i,...e)]}function Sz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Ud="rovingFocusGroup.onEntryFocus",Cz={bubbles:!1,cancelable:!0},mu="RovingFocusGroup",[kf,Nk,kz]=Ac(mu),[Ez,jk]=_z(mu,[kz]),[Tz,Pz]=Ez(mu),Mk=m.forwardRef((t,e)=>p.jsx(kf.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(kf.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(Az,{...t,ref:e})})}));Mk.displayName=mu;var Az=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,h=m.useRef(null),f=Re(e,h),v=pu(s),[g=null,y]=Ic({prop:o,defaultProp:a,onChange:l}),[b,x]=m.useState(!1),w=Ye(c),_=Nk(n),C=m.useRef(!1),[S,k]=m.useState(0);return m.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(Ud,w),()=>T.removeEventListener(Ud,w)},[w]),p.jsx(Tz,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:g,onItemFocus:m.useCallback(T=>y(T),[y]),onItemShiftTab:m.useCallback(()=>x(!0),[]),onFocusableItemAdd:m.useCallback(()=>k(T=>T+1),[]),onFocusableItemRemove:m.useCallback(()=>k(T=>T-1),[]),children:p.jsx(Ce.div,{tabIndex:b||S===0?-1:0,"data-orientation":r,...d,ref:f,style:{outline:"none",...t.style},onMouseDown:te(t.onMouseDown,()=>{C.current=!0}),onFocus:te(t.onFocus,T=>{const N=!C.current;if(T.target===T.currentTarget&&N&&!b){const A=new CustomEvent(Ud,Cz);if(T.currentTarget.dispatchEvent(A),!A.defaultPrevented){const j=_().filter(F=>F.focusable),M=j.find(F=>F.active),V=j.find(F=>F.id===g),B=[M,V,...j].filter(Boolean).map(F=>F.ref.current);$k(B,u)}}C.current=!1}),onBlur:te(t.onBlur,()=>x(!1))})})}),Ok="RovingFocusGroupItem",Dk=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=Ch(),l=s||a,c=Pz(Ok,n),u=c.currentTabStopId===l,d=Nk(n),{onFocusableItemAdd:h,onFocusableItemRemove:f}=c;return m.useEffect(()=>{if(r)return h(),()=>f()},[r,h,f]),p.jsx(kf.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:p.jsx(Ce.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:te(t.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:te(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:te(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const g=Nz(v,c.orientation,c.dir);if(g!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=d().filter(x=>x.focusable).map(x=>x.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const x=b.indexOf(v.currentTarget);b=c.loop?jz(b,x+1):b.slice(x+1)}setTimeout(()=>$k(b))}})})})});Dk.displayName=Ok;var Rz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Iz(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Nz(t,e,n){const r=Iz(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Rz[r]}function $k(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function jz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Mz=Mk,Oz=Dk,Lk=m.forwardRef((t,e)=>{const{children:n,...r}=t,i=m.Children.toArray(n),s=i.find($z);if(s){const o=s.props.children,a=i.map(l=>l===s?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return p.jsx(Ef,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return p.jsx(Ef,{...r,ref:e,children:n})});Lk.displayName="Slot";var Ef=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const i=Fz(n);return m.cloneElement(n,{...Lz(r,n.props),ref:e?Oi(e,i):i})}return m.Children.count(n)>1?m.Children.only(null):null});Ef.displayName="SlotClone";var Dz=({children:t})=>p.jsx(p.Fragment,{children:t});function $z(t){return m.isValidElement(t)&&t.type===Dz}function Lz(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Fz(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Fk=um(),Vd=function(){},gu=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Vd,onWheelCapture:Vd,onTouchMoveCapture:Vd}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,f=t.noIsolation,v=t.inert,g=t.allowPinchZoom,y=t.as,b=y===void 0?"div":y,x=t.gapMode,w=ou(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,C=cm([n,e]),S=Xe(Xe({},w),i);return m.createElement(m.Fragment,null,u&&m.createElement(_,{sideCar:Fk,removeScrollBar:c,shards:d,noIsolation:f,inert:v,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:x}),o?m.cloneElement(m.Children.only(a),Xe(Xe({},S),{ref:C})):m.createElement(b,Xe({},S,{className:l,ref:C}),a))});gu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gu.classNames={fullWidth:xs,zeroRight:ws};var Tf=!1;if(typeof window<"u")try{var ml=Object.defineProperty({},"passive",{get:function(){return Tf=!0,!0}});window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{Tf=!1}var Ji=Tf?{passive:!1}:!1,Bz=function(t){return t.tagName==="TEXTAREA"},Bk=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Bz(t)&&n[e]==="visible")},Uz=function(t){return Bk(t,"overflowY")},Vz=function(t){return Bk(t,"overflowX")},hb=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Uk(t,r);if(i){var s=Vk(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},zz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Hz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Uk=function(t,e){return t==="v"?Uz(e):Vz(e)},Vk=function(t,e){return t==="v"?zz(e):Hz(e)},Wz=function(t,e){return t==="h"&&e==="rtl"?-1:1},qz=function(t,e,n,r,i){var s=Wz(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,h=0;do{var f=Vk(t,a),v=f[0],g=f[1],y=f[2],b=g-y-s*v;(v||b)&&Uk(t,a)&&(d+=b,h+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!i)||!u&&(Math.abs(h)<1||!i))&&(c=!0),c},gl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},fb=function(t){return[t.deltaX,t.deltaY]},pb=function(t){return t&&"current"in t?t.current:t},Kz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Gz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Yz=0,Qi=[];function Xz(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(Yz++)[0],s=m.useState(lu)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=lm([t.lockRef.current],(t.shards||[]).map(pb),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=gl(g),x=n.current,w="deltaX"in g?g.deltaX:x[0]-b[0],_="deltaY"in g?g.deltaY:x[1]-b[1],C,S=g.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in g&&k==="h"&&S.type==="range")return!1;var T=hb(k,S);if(!T)return!0;if(T?C=k:(C=k==="v"?"h":"v",T=hb(k,S)),!T)return!1;if(!r.current&&"changedTouches"in g&&(w||_)&&(r.current=C),!C)return!0;var N=r.current||C;return qz(N,y,g,N==="h"?w:_,!0)},[]),l=m.useCallback(function(g){var y=g;if(!(!Qi.length||Qi[Qi.length-1]!==s)){var b="deltaY"in y?fb(y):gl(y),x=e.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&Kz(C.delta,b)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(pb).filter(Boolean).filter(function(C){return C.contains(y.target)}),_=w.length>0?a(y,w[0]):!o.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),c=m.useCallback(function(g,y,b,x){var w={name:g,delta:y,target:b,should:x,shadowParent:Jz(b)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(_){return _!==w})},1)},[]),u=m.useCallback(function(g){n.current=gl(g),r.current=void 0},[]),d=m.useCallback(function(g){c(g.type,fb(g),g.target,a(g,t.lockRef.current))},[]),h=m.useCallback(function(g){c(g.type,gl(g),g.target,a(g,t.lockRef.current))},[]);m.useEffect(function(){return Qi.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ji),document.addEventListener("touchmove",l,Ji),document.addEventListener("touchstart",u,Ji),function(){Qi=Qi.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,Ji),document.removeEventListener("touchmove",l,Ji),document.removeEventListener("touchstart",u,Ji)}},[]);var f=t.removeScrollBar,v=t.inert;return m.createElement(m.Fragment,null,v?m.createElement(s,{styles:Gz(i)}):null,f?m.createElement(hm,{gapMode:t.gapMode}):null)}function Jz(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Qz=dm(Fk,Xz);var zk=m.forwardRef(function(t,e){return m.createElement(gu,Xe({},t,{ref:e,sideCar:Qz}))});zk.classNames=gu.classNames;var Pf=["Enter"," "],Zz=["ArrowDown","PageUp","Home"],Hk=["ArrowUp","PageDown","End"],eH=[...Zz,...Hk],tH={ltr:[...Pf,"ArrowRight"],rtl:[...Pf,"ArrowLeft"]},nH={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ua="Menu",[ga,rH,iH]=Ac(Ua),[Fi,Wk]=Gs(Ua,[iH,Bc,jk]),vu=Bc(),qk=jk(),[sH,Bi]=Fi(Ua),[oH,Va]=Fi(Ua),Kk=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=vu(e),[l,c]=m.useState(null),u=m.useRef(!1),d=Ye(s),h=pu(i);return m.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),p.jsx(Yj,{...a,children:p.jsx(sH,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:p.jsx(oH,{scope:e,onClose:m.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:h,modal:o,children:r})})})};Kk.displayName=Ua;var aH="MenuAnchor",Jm=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=vu(n);return p.jsx(w_,{...i,...r,ref:e})});Jm.displayName=aH;var Qm="MenuPortal",[lH,Gk]=Fi(Qm,{forceMount:void 0}),Yk=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Bi(Qm,e);return p.jsx(lH,{scope:e,forceMount:n,children:p.jsx(wn,{present:n||s.open,children:p.jsx(xp,{asChild:!0,container:i,children:r})})})};Yk.displayName=Qm;var sn="MenuContent",[cH,Zm]=Fi(sn),Xk=m.forwardRef((t,e)=>{const n=Gk(sn,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Bi(sn,t.__scopeMenu),o=Va(sn,t.__scopeMenu);return p.jsx(ga.Provider,{scope:t.__scopeMenu,children:p.jsx(wn,{present:r||s.open,children:p.jsx(ga.Slot,{scope:t.__scopeMenu,children:o.modal?p.jsx(uH,{...i,ref:e}):p.jsx(dH,{...i,ref:e})})})})}),uH=m.forwardRef((t,e)=>{const n=Bi(sn,t.__scopeMenu),r=m.useRef(null),i=Re(e,r);return m.useEffect(()=>{const s=r.current;if(s)return fm(s)},[]),p.jsx(eg,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:te(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),dH=m.forwardRef((t,e)=>{const n=Bi(sn,t.__scopeMenu);return p.jsx(eg,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),eg=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:f,disableOutsideScroll:v,...g}=t,y=Bi(sn,n),b=Va(sn,n),x=vu(n),w=qk(n),_=rH(n),[C,S]=m.useState(null),k=m.useRef(null),T=Re(e,k,y.onContentChange),N=m.useRef(0),A=m.useRef(""),j=m.useRef(0),M=m.useRef(null),V=m.useRef("right"),D=m.useRef(0),B=v?zk:m.Fragment,F=v?{as:Lk,allowPinchZoom:!0}:void 0,U=R=>{var Q,oe;const E=A.current+R,q=_().filter(de=>!de.disabled),z=document.activeElement,P=(Q=q.find(de=>de.ref.current===z))==null?void 0:Q.textValue,Z=q.map(de=>de.textValue),pe=SH(Z,E,P),ne=(oe=q.find(de=>de.textValue===pe))==null?void 0:oe.ref.current;(function de(re){A.current=re,window.clearTimeout(N.current),re!==""&&(N.current=window.setTimeout(()=>de(""),1e3))})(E),ne&&setTimeout(()=>ne.focus())};m.useEffect(()=>()=>window.clearTimeout(N.current),[]),pz();const I=m.useCallback(R=>{var q,z;return V.current===((q=M.current)==null?void 0:q.side)&&kH(R,(z=M.current)==null?void 0:z.area)},[]);return p.jsx(cH,{scope:n,searchRef:A,onItemEnter:m.useCallback(R=>{I(R)&&R.preventDefault()},[I]),onItemLeave:m.useCallback(R=>{var E;I(R)||((E=k.current)==null||E.focus(),S(null))},[I]),onTriggerLeave:m.useCallback(R=>{I(R)&&R.preventDefault()},[I]),pointerGraceTimerRef:j,onPointerGraceIntentChange:m.useCallback(R=>{M.current=R},[]),children:p.jsx(B,{...F,children:p.jsx(Rk,{asChild:!0,trapped:i,onMountAutoFocus:te(s,R=>{var E;R.preventDefault(),(E=k.current)==null||E.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:p.jsx(Rc,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,onDismiss:f,children:p.jsx(Mz,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:S,onEntryFocus:te(l,R=>{b.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(x_,{role:"menu","aria-orientation":"vertical","data-state":hE(y.open),"data-radix-menu-content":"",dir:b.dir,...x,...g,ref:T,style:{outline:"none",...g.style},onKeyDown:te(g.onKeyDown,R=>{const q=R.target.closest("[data-radix-menu-content]")===R.currentTarget,z=R.ctrlKey||R.altKey||R.metaKey,P=R.key.length===1;q&&(R.key==="Tab"&&R.preventDefault(),!z&&P&&U(R.key));const Z=k.current;if(R.target!==Z||!eH.includes(R.key))return;R.preventDefault();const ne=_().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);Hk.includes(R.key)&&ne.reverse(),xH(ne)}),onBlur:te(t.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(N.current),A.current="")}),onPointerMove:te(t.onPointerMove,va(R=>{const E=R.target,q=D.current!==R.clientX;if(R.currentTarget.contains(E)&&q){const z=R.clientX>D.current?"right":"left";V.current=z,D.current=R.clientX}}))})})})})})})});Xk.displayName=sn;var hH="MenuGroup",tg=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Ce.div,{role:"group",...r,ref:e})});tg.displayName=hH;var fH="MenuLabel",Jk=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Ce.div,{...r,ref:e})});Jk.displayName=fH;var oc="MenuItem",mb="menu.itemSelect",yu=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=m.useRef(null),o=Va(oc,t.__scopeMenu),a=Zm(oc,t.__scopeMenu),l=Re(e,s),c=m.useRef(!1),u=()=>{const d=s.current;if(!n&&d){const h=new CustomEvent(mb,{bubbles:!0,cancelable:!0});d.addEventListener(mb,f=>r==null?void 0:r(f),{once:!0}),wp(d,h),h.defaultPrevented?c.current=!1:o.onClose()}};return p.jsx(Qk,{...i,ref:l,disabled:n,onClick:te(t.onClick,u),onPointerDown:d=>{var h;(h=t.onPointerDown)==null||h.call(t,d),c.current=!0},onPointerUp:te(t.onPointerUp,d=>{var h;c.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:te(t.onKeyDown,d=>{const h=a.searchRef.current!=="";n||h&&d.key===" "||Pf.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});yu.displayName=oc;var Qk=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=Zm(oc,n),a=qk(n),l=m.useRef(null),c=Re(e,l),[u,d]=m.useState(!1),[h,f]=m.useState("");return m.useEffect(()=>{const v=l.current;v&&f((v.textContent??"").trim())},[s.children]),p.jsx(ga.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:p.jsx(Oz,{asChild:!0,...a,focusable:!r,children:p.jsx(Ce.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:te(t.onPointerMove,va(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:te(t.onPointerLeave,va(v=>o.onItemLeave(v))),onFocus:te(t.onFocus,()=>d(!0)),onBlur:te(t.onBlur,()=>d(!1))})})})}),pH="MenuCheckboxItem",Zk=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return p.jsx(iE,{scope:t.__scopeMenu,checked:n,children:p.jsx(yu,{role:"menuitemcheckbox","aria-checked":ac(n)?"mixed":n,...i,ref:e,"data-state":rg(n),onSelect:te(i.onSelect,()=>r==null?void 0:r(ac(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Zk.displayName=pH;var eE="MenuRadioGroup",[mH,gH]=Fi(eE,{value:void 0,onValueChange:()=>{}}),tE=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Ye(r);return p.jsx(mH,{scope:t.__scopeMenu,value:n,onValueChange:s,children:p.jsx(tg,{...i,ref:e})})});tE.displayName=eE;var nE="MenuRadioItem",rE=m.forwardRef((t,e)=>{const{value:n,...r}=t,i=gH(nE,t.__scopeMenu),s=n===i.value;return p.jsx(iE,{scope:t.__scopeMenu,checked:s,children:p.jsx(yu,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":rg(s),onSelect:te(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});rE.displayName=nE;var ng="MenuItemIndicator",[iE,vH]=Fi(ng,{checked:!1}),sE=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=vH(ng,n);return p.jsx(wn,{present:r||ac(s.checked)||s.checked===!0,children:p.jsx(Ce.span,{...i,ref:e,"data-state":rg(s.checked)})})});sE.displayName=ng;var yH="MenuSeparator",oE=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Ce.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});oE.displayName=yH;var bH="MenuArrow",aE=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=vu(n);return p.jsx(__,{...i,...r,ref:e})});aE.displayName=bH;var wH="MenuSub",[DJ,lE]=Fi(wH),Co="MenuSubTrigger",cE=m.forwardRef((t,e)=>{const n=Bi(Co,t.__scopeMenu),r=Va(Co,t.__scopeMenu),i=lE(Co,t.__scopeMenu),s=Zm(Co,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),p.jsx(Jm,{asChild:!0,...c,children:p.jsx(Qk,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":hE(n.open),...t,ref:Oi(e,i.onTriggerChange),onClick:d=>{var h;(h=t.onClick)==null||h.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:te(t.onPointerMove,va(d=>{s.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:te(t.onPointerLeave,va(d=>{var f,v;u();const h=(f=n.content)==null?void 0:f.getBoundingClientRect();if(h){const g=(v=n.content)==null?void 0:v.dataset.side,y=g==="right",b=y?-5:5,x=h[y?"left":"right"],w=h[y?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+b,y:d.clientY},{x,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x,y:h.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:te(t.onKeyDown,d=>{var f;const h=s.searchRef.current!=="";t.disabled||h&&d.key===" "||tH[r.dir].includes(d.key)&&(n.onOpenChange(!0),(f=n.content)==null||f.focus(),d.preventDefault())})})})});cE.displayName=Co;var uE="MenuSubContent",dE=m.forwardRef((t,e)=>{const n=Gk(sn,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Bi(sn,t.__scopeMenu),o=Va(sn,t.__scopeMenu),a=lE(uE,t.__scopeMenu),l=m.useRef(null),c=Re(e,l);return p.jsx(ga.Provider,{scope:t.__scopeMenu,children:p.jsx(wn,{present:r||s.open,children:p.jsx(ga.Slot,{scope:t.__scopeMenu,children:p.jsx(eg,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;o.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:te(t.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:te(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:te(t.onKeyDown,u=>{var f;const d=u.currentTarget.contains(u.target),h=nH[o.dir].includes(u.key);d&&h&&(s.onOpenChange(!1),(f=a.trigger)==null||f.focus(),u.preventDefault())})})})})})});dE.displayName=uE;function hE(t){return t?"open":"closed"}function ac(t){return t==="indeterminate"}function rg(t){return ac(t)?"indeterminate":t?"checked":"unchecked"}function xH(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function _H(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function SH(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=_H(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function CH(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function kH(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return CH(n,e)}function va(t){return e=>e.pointerType==="mouse"?t(e):void 0}var EH=Kk,TH=Jm,PH=Yk,AH=Xk,RH=tg,IH=Jk,NH=yu,jH=Zk,MH=tE,OH=rE,DH=sE,$H=oE,LH=aE,FH=cE,BH=dE,ig="DropdownMenu",[UH,$J]=Gs(ig,[Wk]),It=Wk(),[VH,fE]=UH(ig),pE=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=It(e),c=m.useRef(null),[u=!1,d]=Ic({prop:i,defaultProp:s,onChange:o});return p.jsx(VH,{scope:e,triggerId:Ch(),triggerRef:c,contentId:Ch(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:a,children:p.jsx(EH,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};pE.displayName=ig;var mE="DropdownMenuTrigger",gE=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=fE(mE,n),o=It(n);return p.jsx(TH,{asChild:!0,...o,children:p.jsx(Ce.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Oi(e,s.triggerRef),onPointerDown:te(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:te(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});gE.displayName=mE;var zH="DropdownMenuPortal",vE=t=>{const{__scopeDropdownMenu:e,...n}=t,r=It(e);return p.jsx(PH,{...r,...n})};vE.displayName=zH;var yE="DropdownMenuContent",bE=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=fE(yE,n),s=It(n),o=m.useRef(!1);return p.jsx(AH,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:te(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:te(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bE.displayName=yE;var HH="DropdownMenuGroup",WH=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=It(n);return p.jsx(RH,{...i,...r,ref:e})});WH.displayName=HH;var qH="DropdownMenuLabel",wE=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=It(n);return p.jsx(IH,{...i,...r,ref:e})});wE.displayName=qH;var KH="DropdownMenuItem",xE=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=It(n);return p.jsx(NH,{...i,...r,ref:e})});xE.displayName=KH;var GH="DropdownMenuCheckboxItem",_E=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=It(n);return p.jsx(jH,{...i,...r,ref:e})});_E.displayName=GH;var YH="DropdownMenuRadioGroup",XH=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=It(n);return p.jsx(MH,{...i,...r,ref:e})});XH.displayName=YH;var JH="DropdownMenuRadioItem",SE=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=It(n);return p.jsx(OH,{...i,...r,ref:e})});SE.displayName=JH;var QH="DropdownMenuItemIndicator",CE=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=It(n);return p.jsx(DH,{...i,...r,ref:e})});CE.displayName=QH;var ZH="DropdownMenuSeparator",kE=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=It(n);return p.jsx($H,{...i,...r,ref:e})});kE.displayName=ZH;var eW="DropdownMenuArrow",tW=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=It(n);return p.jsx(LH,{...i,...r,ref:e})});tW.displayName=eW;var nW="DropdownMenuSubTrigger",EE=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=It(n);return p.jsx(FH,{...i,...r,ref:e})});EE.displayName=nW;var rW="DropdownMenuSubContent",TE=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=It(n);return p.jsx(BH,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});TE.displayName=rW;var iW=pE,sW=gE,oW=vE,PE=bE,AE=wE,RE=xE,IE=_E,NE=SE,jE=CE,ME=kE,OE=EE,DE=TE;const $E=iW,LE=sW,aW=m.forwardRef(({className:t,inset:e,children:n,...r},i)=>p.jsxs(OE,{ref:i,className:ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,p.jsx(T2,{className:"ml-auto h-4 w-4"})]}));aW.displayName=OE.displayName;const lW=m.forwardRef(({className:t,...e},n)=>p.jsx(DE,{ref:n,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));lW.displayName=DE.displayName;const sg=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(oW,{children:p.jsx(PE,{ref:r,sideOffset:e,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));sg.displayName=PE.displayName;const Tr=m.forwardRef(({className:t,inset:e,...n},r)=>p.jsx(RE,{ref:r,className:ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Tr.displayName=RE.displayName;const cW=m.forwardRef(({className:t,children:e,checked:n,...r},i)=>p.jsxs(IE,{ref:i,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(jE,{children:p.jsx(Nx,{className:"h-4 w-4"})})}),e]}));cW.displayName=IE.displayName;const uW=m.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(NE,{ref:r,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(jE,{children:p.jsx(j2,{className:"h-2 w-2 fill-current"})})}),e]}));uW.displayName=NE.displayName;const FE=m.forwardRef(({className:t,inset:e,...n},r)=>p.jsx(AE,{ref:r,className:ee("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));FE.displayName=AE.displayName;const Fl=m.forwardRef(({className:t,...e},n)=>p.jsx(ME,{ref:n,className:ee("-mx-1 my-1 h-px bg-muted",t),...e}));Fl.displayName=ME.displayName;const dW=Ca("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function og({className:t,variant:e,...n}){return p.jsx("div",{className:ee(dW({variant:e}),t),...n})}const gb=({user:t,onUpgradeClick:e})=>{const{credits:n}=Ak(),r=async()=>{await Ae.auth.signOut(),window.location.href="/auth"},i=()=>{var o,a,l;return((o=t.user_metadata)==null?void 0:o.full_name)||((a=t.user_metadata)==null?void 0:a.name)||((l=t.email)==null?void 0:l.split("@")[0])||"User"},s=()=>i().split(" ").map(a=>a[0]).join("").toUpperCase().substring(0,2);return p.jsxs($E,{children:[p.jsx(LE,{asChild:!0,children:p.jsxs(Ee,{variant:"ghost",className:"flex items-center gap-3 h-10 px-3 bg-white/90 backdrop-blur-sm border shadow-sm hover:bg-gray-50 transition-all duration-200",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white text-sm font-medium",children:s()}),p.jsxs("div",{className:"flex flex-col items-start min-w-0",children:[p.jsx("span",{className:"text-sm font-medium text-gray-900 truncate max-w-32",children:i()}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx($2,{className:"w-3 h-3 text-amber-500"}),p.jsxs("span",{className:"text-xs text-gray-600",children:[n," credits"]})]})]})]})}),p.jsxs(sg,{className:"w-80 bg-white border shadow-lg z-50",align:"end",sideOffset:8,children:[p.jsx(FE,{className:"p-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white font-medium",children:s()}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"font-medium text-gray-900",children:i()}),p.jsx("span",{className:"text-sm text-gray-500",children:t.email})]})]})}),p.jsx(Fl,{}),p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Credits"}),p.jsx("span",{className:"text-lg font-bold text-gray-900",children:n})]}),p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-3",children:p.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all",style:{width:`${Math.min(n/100*100,100)}%`}})}),n<20&&p.jsx(og,{variant:"destructive",className:"mb-2",children:"Low balance"}),p.jsxs(Ee,{size:"sm",className:"w-full bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600",onClick:e,children:[p.jsx(wh,{className:"w-4 h-4 mr-2"}),"Upgrade to Pro"]})]}),p.jsx(Fl,{}),p.jsxs(Tr,{className:"cursor-pointer p-3 hover:bg-gray-50",children:[p.jsx(K2,{className:"w-4 h-4 mr-3 text-gray-500"}),p.jsx("span",{children:"Get free credits"})]}),p.jsxs(Tr,{className:"cursor-pointer p-3 hover:bg-gray-50",children:[p.jsx(Ox,{className:"w-4 h-4 mr-3 text-gray-500"}),p.jsx("span",{children:"Profile settings"})]}),p.jsxs(Tr,{className:"cursor-pointer p-3 hover:bg-gray-50",children:[p.jsx(Dc,{className:"w-4 h-4 mr-3 text-gray-500"}),p.jsx("span",{children:"Account settings"})]}),p.jsxs(Tr,{className:"cursor-pointer p-3 hover:bg-gray-50",children:[p.jsx(I2,{className:"w-4 h-4 mr-3 text-gray-500"}),p.jsx("span",{children:"Help Center"})]}),p.jsx(Fl,{}),p.jsxs(Tr,{className:"cursor-pointer p-3 hover:bg-gray-50 text-red-600 focus:text-red-600",onClick:r,children:[p.jsx(iI,{className:"w-4 h-4 mr-3"}),p.jsx("span",{children:"Sign out"})]})]})]})},hW=({className:t})=>p.jsx("div",{className:ee("flex items-center gap-1",t),children:p.jsxs("div",{className:"flex space-x-1",children:[p.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms",animationDuration:"1.4s"}}),p.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"160ms",animationDuration:"1.4s"}}),p.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"320ms",animationDuration:"1.4s"}})]})}),BE=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(!0),{toast:i}=Mi(),s=async()=>{try{const{data:{user:c}}=await Ae.auth.getUser();if(!c){r(!1);return}const{data:u,error:d}=await Ae.from("chat_sessions").select(`
          id,
          title,
          created_at,
          updated_at,
          chat_messages(count)
        `).order("updated_at",{ascending:!1});if(d)throw d;const h=(u==null?void 0:u.map(f=>{var v,g;return{...f,messageCount:((g=(v=f.chat_messages)==null?void 0:v[0])==null?void 0:g.count)||0}}))||[];e(h)}catch(c){console.error("Error fetching chat sessions:",c),i({title:"Error",description:"Failed to load chat history",variant:"destructive"})}finally{r(!1)}},o=async c=>{try{const{data:{user:u}}=await Ae.auth.getUser();if(!u)throw new Error("User not authenticated");const{data:d,error:h}=await Ae.from("chat_sessions").insert({title:c,user_id:u.id}).select().single();if(h)throw h;return await s(),d}catch(u){return console.error("Error creating chat session:",u),i({title:"Error",description:"Failed to create new chat session",variant:"destructive"}),null}},a=async c=>{try{const{error:u}=await Ae.from("chat_sessions").delete().eq("id",c);if(u)throw u;e(d=>d.filter(h=>h.id!==c)),i({title:"Success",description:"Chat session deleted"})}catch(u){console.error("Error deleting chat session:",u),i({title:"Error",description:"Failed to delete chat session",variant:"destructive"})}},l=c=>{const u=`${window.location.origin}/chat/${c}`;navigator.clipboard.writeText(u),i({title:"Copied!",description:"Chat link copied to clipboard"})};return m.useEffect(()=>{s()},[]),{sessions:t,loading:n,createSession:o,deleteSession:a,copySessionLink:l,refreshSessions:s}},UE=m.createContext(void 0),ag=()=>{const t=m.useContext(UE);if(!t)throw new Error("useSidebar must be used within a SidebarProvider");return t},fW=({children:t,open:e,setOpen:n,animate:r=!0})=>{const[i,s]=m.useState(!1),o=e!==void 0?e:i,a=n!==void 0?n:s;return p.jsx(UE.Provider,{value:{open:o,setOpen:a,animate:r},children:t})},pW=({children:t,open:e,setOpen:n,animate:r})=>p.jsx(fW,{open:e,setOpen:n,animate:r,children:t}),mW=t=>p.jsxs(p.Fragment,{children:[p.jsx(gW,{...t}),p.jsx(vW,{className:t.className})]}),gW=({className:t,children:e,...n})=>{const{open:r,setOpen:i,animate:s}=ag();return p.jsx(Rn.div,{className:ee("h-full px-4 py-4 hidden md:flex md:flex-col bg-background border-r border-border w-[300px] flex-shrink-0",t),animate:{width:s?r?"300px":"80px":"300px"},...n,children:e})},vW=({className:t,children:e,...n})=>{const{open:r,setOpen:i}=ag();return p.jsx(p.Fragment,{children:p.jsxs("div",{className:ee("h-10 px-4 py-4 flex flex-row md:hidden items-center justify-between bg-background border-b border-border w-full"),...n,children:[p.jsx("div",{className:"flex justify-end z-20 w-full",children:p.jsx(aI,{className:"text-foreground cursor-pointer",onClick:()=>i(!r)})}),p.jsx(N7,{children:r&&p.jsxs(Rn.div,{initial:{x:"-100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"-100%",opacity:0},transition:{duration:.3,ease:"easeInOut"},className:ee("fixed h-full w-full inset-0 bg-background p-10 z-[100] flex flex-col justify-between",t),children:[p.jsx("div",{className:"absolute right-10 top-10 z-50 text-foreground cursor-pointer",onClick:()=>i(!r),children:p.jsx(ka,{})}),e]})})]})})},yW=({link:t,className:e,isActive:n,...r})=>{const{open:i,animate:s}=ag(),o=()=>{t.onClick&&t.onClick()},a=p.jsxs(p.Fragment,{children:[t.icon,p.jsx(Rn.span,{animate:{display:s?i?"inline-block":"none":"inline-block",opacity:s?i?1:0:1},className:"text-foreground text-sm group-hover/sidebar:translate-x-1 transition duration-150 whitespace-pre inline-block !p-0 !m-0",children:t.label})]});return t.onClick?p.jsx("button",{onClick:o,className:ee("flex items-center justify-start gap-2 group/sidebar py-2 px-2 rounded-lg transition-colors w-full text-left",n&&"bg-muted","hover:bg-muted/50",e),...r,children:a}):p.jsx("div",{className:ee("flex items-center justify-start gap-2 group/sidebar py-2 px-2 rounded-lg transition-colors cursor-pointer",n&&"bg-muted","hover:bg-muted/50",e),onClick:o,children:a})};function lg(t,[e,n]){return Math.min(n,Math.max(e,t))}function bW(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var cg="ScrollArea",[VE,LJ]=Gs(cg),[wW,cn]=VE(cg),zE=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[a,l]=m.useState(null),[c,u]=m.useState(null),[d,h]=m.useState(null),[f,v]=m.useState(null),[g,y]=m.useState(null),[b,x]=m.useState(0),[w,_]=m.useState(0),[C,S]=m.useState(!1),[k,T]=m.useState(!1),N=Re(e,j=>l(j)),A=pu(i);return p.jsx(wW,{scope:n,type:r,dir:A,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:h,scrollbarX:f,onScrollbarXChange:v,scrollbarXEnabled:C,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:k,onScrollbarYEnabledChange:T,onCornerWidthChange:x,onCornerHeightChange:_,children:p.jsx(Ce.div,{dir:A,...o,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});zE.displayName=cg;var HE="ScrollAreaViewport",WE=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:s,...o}=t,a=cn(HE,n),l=m.useRef(null),c=Re(e,l,a.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),p.jsx(Ce.div,{"data-radix-scroll-area-viewport":"",...o,asChild:i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:RW({asChild:i,children:r},u=>p.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});WE.displayName=HE;var Vn="ScrollAreaScrollbar",ug=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=cn(Vn,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return m.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?p.jsx(xW,{...r,ref:e,forceMount:n}):i.type==="scroll"?p.jsx(_W,{...r,ref:e,forceMount:n}):i.type==="auto"?p.jsx(qE,{...r,ref:e,forceMount:n}):i.type==="always"?p.jsx(dg,{...r,ref:e}):null});ug.displayName=Vn;var xW=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=cn(Vn,t.__scopeScrollArea),[s,o]=m.useState(!1);return m.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),p.jsx(wn,{present:n||s,children:p.jsx(qE,{"data-state":s?"visible":"hidden",...r,ref:e})})}),_W=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=cn(Vn,t.__scopeScrollArea),s=t.orientation==="horizontal",o=wu(()=>l("SCROLL_END"),100),[a,l]=bW("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),m.useEffect(()=>{const c=i.viewport,u=s?"scrollLeft":"scrollTop";if(c){let d=c[u];const h=()=>{const f=c[u];d!==f&&(l("SCROLL"),o()),d=f};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,s,l,o]),p.jsx(wn,{present:n||a!=="hidden",children:p.jsx(dg,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:te(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:te(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),qE=m.forwardRef((t,e)=>{const n=cn(Vn,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=m.useState(!1),a=t.orientation==="horizontal",l=wu(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:u)}},10);return Us(n.viewport,l),Us(n.content,l),p.jsx(wn,{present:r||s,children:p.jsx(dg,{"data-state":s?"visible":"hidden",...i,ref:e})})}),dg=m.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=cn(Vn,t.__scopeScrollArea),s=m.useRef(null),o=m.useRef(0),[a,l]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=JE(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function d(h,f){return PW(h,o.current,a,f)}return n==="horizontal"?p.jsx(SW,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,f=vb(h,a,i.dir);s.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=d(h,i.dir))}}):n==="vertical"?p.jsx(CW,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,f=vb(h,a);s.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=d(h))}}):null}),SW=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=cn(Vn,t.__scopeScrollArea),[o,a]=m.useState(),l=m.useRef(null),c=Re(e,l,s.onScrollbarXChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(GE,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":bu(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(s.viewport){const h=s.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),ZE(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:cc(o.paddingLeft),paddingEnd:cc(o.paddingRight)}})}})}),CW=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=cn(Vn,t.__scopeScrollArea),[o,a]=m.useState(),l=m.useRef(null),c=Re(e,l,s.onScrollbarYChange);return m.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(GE,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":bu(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(s.viewport){const h=s.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),ZE(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:cc(o.paddingTop),paddingEnd:cc(o.paddingBottom)}})}})}),[kW,KE]=VE(Vn),GE=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...h}=t,f=cn(Vn,n),[v,g]=m.useState(null),y=Re(e,N=>g(N)),b=m.useRef(null),x=m.useRef(""),w=f.viewport,_=r.content-r.viewport,C=Ye(u),S=Ye(l),k=wu(d,10);function T(N){if(b.current){const A=N.clientX-b.current.left,j=N.clientY-b.current.top;c({x:A,y:j})}}return m.useEffect(()=>{const N=A=>{const j=A.target;(v==null?void 0:v.contains(j))&&C(A,_)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[w,v,_,C]),m.useEffect(S,[r,S]),Us(v,k),Us(f.content,k),p.jsx(kW,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:Ye(s),onThumbPointerUp:Ye(o),onThumbPositionChange:S,onThumbPointerDown:Ye(a),children:p.jsx(Ce.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:te(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),b.current=v.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),T(N))}),onPointerMove:te(t.onPointerMove,T),onPointerUp:te(t.onPointerUp,N=>{const A=N.target;A.hasPointerCapture(N.pointerId)&&A.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=x.current,f.viewport&&(f.viewport.style.scrollBehavior=""),b.current=null})})})}),lc="ScrollAreaThumb",YE=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=KE(lc,t.__scopeScrollArea);return p.jsx(wn,{present:n||i.hasThumb,children:p.jsx(EW,{ref:e,...r})})}),EW=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=cn(lc,n),o=KE(lc,n),{onThumbPositionChange:a}=o,l=Re(e,d=>o.onThumbChange(d)),c=m.useRef(),u=wu(()=>{c.current&&(c.current(),c.current=void 0)},100);return m.useEffect(()=>{const d=s.viewport;if(d){const h=()=>{if(u(),!c.current){const f=AW(d,a);c.current=f,a()}};return a(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[s.viewport,u,a]),p.jsx(Ce.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:te(t.onPointerDownCapture,d=>{const f=d.target.getBoundingClientRect(),v=d.clientX-f.left,g=d.clientY-f.top;o.onThumbPointerDown({x:v,y:g})}),onPointerUp:te(t.onPointerUp,o.onThumbPointerUp)})});YE.displayName=lc;var hg="ScrollAreaCorner",XE=m.forwardRef((t,e)=>{const n=cn(hg,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(TW,{...t,ref:e}):null});XE.displayName=hg;var TW=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=cn(hg,n),[s,o]=m.useState(0),[a,l]=m.useState(0),c=!!(s&&a);return Us(i.scrollbarX,()=>{var d;const u=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),Us(i.scrollbarY,()=>{var d;const u=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),c?p.jsx(Ce.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function cc(t){return t?parseInt(t,10):0}function JE(t,e){const n=t/e;return isNaN(n)?0:n}function bu(t){const e=JE(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function PW(t,e,n,r="ltr"){const i=bu(n),s=i/2,o=e||s,a=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return QE([l,c],d)(t)}function vb(t,e,n="ltr"){const r=bu(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],c=lg(t,l);return QE([0,o],[0,a])(c)}function QE(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function ZE(t,e){return t>0&&t<e}var AW=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function wu(t,e){const n=Ye(t),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Us(t,e){const n=Ye(e);ir(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function RW(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const i=m.Children.only(r);return m.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var eT=zE,IW=WE,NW=XE;const tT=m.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(eT,{ref:r,className:ee("relative overflow-hidden",t),...n,children:[p.jsx(IW,{className:"h-full w-full rounded-[inherit]",children:e}),p.jsx(nT,{}),p.jsx(NW,{})]}));tT.displayName=eT.displayName;const nT=m.forwardRef(({className:t,orientation:e="vertical",...n},r)=>p.jsx(ug,{ref:r,orientation:e,className:ee("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:p.jsx(YE,{className:"relative flex-1 rounded-full bg-border"})}));nT.displayName=ug.displayName;const jW=({onNewChat:t,onSelectChat:e,currentChatId:n,className:r,onBackToHome:i})=>{const[s,o]=m.useState(!0),a=bp(),{sessions:l,loading:c,createSession:u,deleteSession:d,copySessionLink:h}=BE(),f=async()=>{await u("New Chat")&&t()},v=b=>{const x=new Date(b),_=new Date().getTime()-x.getTime(),C=Math.floor(_/(1e3*60)),S=Math.floor(_/(1e3*60*60)),k=Math.floor(_/(1e3*60*60*24));return C<60?`${C}m ago`:S<24?`${S}h ago`:`${k}d ago`},g=()=>p.jsx("button",{onClick:b=>{b.preventDefault(),b.stopPropagation(),console.log("Logo clicked - going back to home"),i?i():a("/")},className:"font-normal flex space-x-2 items-center text-sm relative z-50 cursor-pointer hover:opacity-80 transition-opacity -mt-8",type:"button",children:p.jsx("img",{src:"/lovable-uploads/29ff1713-d01d-40e9-8e7d-a9a5dfade80d.png",alt:"Frondex",className:"h-32 w-auto flex-shrink-0 pointer-events-none",loading:"eager",style:{imageRendering:"auto"}})}),y=()=>p.jsx("button",{onClick:b=>{b.preventDefault(),b.stopPropagation(),console.log("Logo icon clicked - going back to home"),i?i():a("/")},className:"font-normal flex items-center justify-start text-sm py-2 relative z-50 cursor-pointer hover:opacity-80 transition-opacity",type:"button",children:p.jsx("div",{className:"text-4xl font-bold bg-gradient-to-r from-green-500 via-teal-500 to-blue-600 bg-clip-text text-transparent pointer-events-none",children:"f"})});return p.jsx(pW,{open:s,setOpen:o,animate:!0,children:p.jsxs(mW,{className:"justify-between gap-1",children:[p.jsxs("div",{className:"flex flex-col flex-1 overflow-y-auto overflow-x-hidden min-h-0",children:[p.jsx("div",{className:"mb-0 relative",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{className:`transition-all duration-200 ease-in-out ${s?"opacity-100":"opacity-0 pointer-events-none absolute"}`,children:p.jsx(g,{})}),p.jsx("div",{className:`transition-all duration-200 ease-in-out ${s?"opacity-0 pointer-events-none absolute":"opacity-100"}`,children:p.jsx(y,{})}),p.jsx("button",{onClick:()=>o(!s),className:`p-2 hover:bg-muted rounded-md transition-colors flex-shrink-0 ${s?"mt-1":"mt-0"}`,children:s?p.jsx(dI,{className:"h-5 w-5 text-muted-foreground -mt-6"}):p.jsx(fI,{className:"h-5 w-5 text-muted-foreground"})})]})}),p.jsxs("div",{className:"mb-0 relative z-10 mt-2",children:[p.jsx(Rn.div,{animate:{opacity:s?1:0,display:s?"block":"none"},children:p.jsxs(Ee,{onClick:f,className:"w-full gap-2 bg-blue-500 hover:bg-blue-600 text-white -mt-4 text-sm sm:text-base py-2 sm:py-3",children:[p.jsx(xh,{className:"h-4 w-4"}),"New Task"]})}),p.jsx(Rn.div,{animate:{opacity:s?0:1,display:s?"none":"block"},children:p.jsx(Ee,{onClick:f,size:"icon",className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-500 hover:bg-blue-600 text-white",children:p.jsx(xh,{className:"h-4 w-4"})})})]}),p.jsxs("div",{className:"flex-1 overflow-hidden mt-2",children:[p.jsx(Rn.div,{animate:{opacity:s?1:0,display:s?"block":"none"},className:"mb-2 mt-4",children:p.jsxs("div",{className:"flex items-center gap-2 px-2",children:[p.jsx(O2,{className:"h-4 w-4 text-muted-foreground"}),p.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Task History"})]})}),p.jsx(tT,{className:"flex-1 min-h-0",children:p.jsx("div",{className:"space-y-1 pb-4",children:c?p.jsx("div",{className:"p-3 sm:p-4 text-center text-muted-foreground text-sm",children:"Loading..."}):l.length===0?p.jsx("div",{className:"p-3 sm:p-4 text-center text-muted-foreground text-sm",children:"No chat history yet"}):l.map(b=>p.jsxs("div",{className:`group flex items-center gap-2 p-2 rounded-lg cursor-pointer transition-colors ${n===b.id?"bg-muted":"hover:bg-muted/50"}`,children:[p.jsx(cI,{className:"h-4 w-4 text-muted-foreground flex-shrink-0",onClick:()=>e(b.id)}),p.jsxs(Rn.div,{animate:{display:s?"block":"none",opacity:s?1:0},className:"flex flex-col min-w-0 flex-1",onClick:()=>e(b.id),children:[p.jsx("p",{className:"text-xs sm:text-sm font-medium text-foreground truncate leading-tight",children:b.title}),p.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mt-1",children:[p.jsx("span",{className:"text-xs text-muted-foreground",children:v(b.updated_at)}),p.jsxs("span",{className:"text-xs text-muted-foreground",children:[b.messageCount||0," msgs"]})]})]}),s&&p.jsxs($E,{children:[p.jsx(LE,{asChild:!0,children:p.jsx(Ee,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",children:p.jsx(z2,{className:"h-3 w-3"})})}),p.jsxs(sg,{align:"end",children:[p.jsxs(Tr,{onClick:()=>h(b.id),children:[p.jsx(Z2,{className:"h-4 w-4 mr-2"}),"Copy Link"]}),p.jsxs(Tr,{onClick:()=>d(b.id),className:"text-red-600 focus:text-red-600",children:[p.jsx(AI,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]},b.id))})})]})]}),p.jsx("div",{children:p.jsx(yW,{link:{label:"Settings",icon:p.jsx(Dc,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),onClick:()=>console.log("Settings clicked")}})})]})})},MW="/assets/long-short-color-DFD9qRxe.jpg",OW="/assets/infraledger-color-g3KoDHqq.jpg",DW="/assets/allocator-color-CmTwYUNJ.jpg",$W="/assets/natural-currency-color-DHKU0maZ.jpg",LW="/assets/debt-capital-color-DEddPGco.jpg",FW="/assets/carry-conquer-color-xrOCdzfo.jpg",BW="/assets/landlord-ledger-color-CzdCB7Yw.jpg",UW=({user:t})=>{const e=bp(),[n,r]=m.useState(!1),[i,s]=m.useState(""),[o,a]=m.useState(!1),[l,c]=m.useState(!1),[u,d]=m.useState([]),[h,f]=m.useState(!1);m.useState(null),m.useState(0);const[v,g]=m.useState("private-markets"),[y,b]=m.useState(null),[x,w]=m.useState(null),{credits:_,useCredits:C}=Ak(),{isAdmin:S}=hz(),{createSession:k,refreshSessions:T}=BE(),{toast:N}=Mi(),A=m.useCallback(async I=>{if(t)try{f(!0),r(!0),w(I);const{data:R,error:E}=await Ae.from("chat_messages").select("*").eq("chat_session_id",I).order("created_at",{ascending:!0});if(E)throw E;const q=(R==null?void 0:R.map((z,P)=>({id:P,type:z.role,content:z.content,timestamp:new Date(z.created_at)})))||[];d(q)}catch(R){console.error("Error loading chat session:",R),N({title:"Error",description:"Failed to load chat session",variant:"destructive"})}finally{f(!1)}},[t,N]),j=m.useCallback(()=>{d([]),w(null),r(!1),s("")},[]),M=m.useCallback(async I=>{if(!I.trim())return;if(!t){window.location.href="/auth";return}if(_<1){N({title:"Insufficient credits",description:"You need at least 1 credit to send a message. Please upgrade your plan or purchase more credits.",variant:"destructive"});return}r(!0),f(!0),s(I);let R=x;if(!R&&u.length===0){const z=I.length>50?I.substring(0,47)+"...":I,P=await k(z);P&&(R=P.id,w(R),T())}const E={id:Date.now(),type:"user",content:I,timestamp:new Date};if(d(z=>[...z,E]),R)try{await Ae.from("chat_messages").insert({chat_session_id:R,user_id:t.id,content:I,role:"user"})}catch(z){console.error("Error saving user message:",z)}if(!await C(1,"Chat message",R)){N({title:"Credit deduction failed",description:"Unable to process your message. Please try again.",variant:"destructive"}),f(!1);return}try{if(v==="private-markets"){if(!y){const Z=nr.getSettings(),pe=new nr(Z);await pe.initSession(),b(pe)}const z=await(y||new nr(nr.getSettings())).sendMessage(I),P={id:Date.now()+1,type:"assistant",content:z.message,timestamp:new Date,entities:z.entities,suggestions:z.suggestions,visualizations:z.visualizations};if(d(Z=>[...Z,P]),R)try{await Ae.from("chat_messages").insert({chat_session_id:R,user_id:t.id,content:z.message,role:"assistant"}),await Ae.from("chat_sessions").update({updated_at:new Date().toISOString()}).eq("id",R),T()}catch(Z){console.error("Error saving assistant message:",Z)}}else{const z=[{role:"user",content:I}],P=await ys.sendMessage(z),Z={id:Date.now()+1,type:"assistant",content:P,timestamp:new Date};if(d(pe=>[...pe,Z]),R)try{await Ae.from("chat_messages").insert({chat_session_id:R,user_id:t.id,content:P,role:"assistant"}),await Ae.from("chat_sessions").update({updated_at:new Date().toISOString()}).eq("id",R),T()}catch(pe){console.error("Error saving assistant message:",pe)}}}catch(z){console.error("Chat error:",z);const P={id:Date.now()+1,type:"assistant",content:`I'm sorry, I encountered an error: ${z instanceof Error?z.message:"Unknown error"}`,timestamp:new Date};d(Z=>[...Z,P])}finally{f(!1)}},[v,y,t,_,C,N,x,u.length,k,T,S]),V=()=>{a(!1),N({title:"Sign Up",description:"Redirecting to sign up page..."})},D=()=>{a(!1),N({title:"Log In",description:"Redirecting to login page..."})},B=()=>{e("/subscription")},F=(I,R)=>{console.log(`Action: ${I} for message: ${R}`)},U=()=>{const I=document.getElementById("brands-section");I&&I.scrollIntoView({behavior:"smooth"})};return n?p.jsxs("div",{className:"flex h-screen bg-background",children:[p.jsx(jW,{onNewChat:j,onSelectChat:A,currentChatId:x||void 0,onBackToHome:()=>r(!1)}),p.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[p.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-4 p-2 sm:p-4 bg-white border-b",children:[p.jsx("div",{className:"flex items-center gap-2 sm:gap-4",children:p.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>r(!1),className:"md:hidden",children:p.jsx(Oc,{className:"w-4 h-4"})})}),p.jsx("div",{className:"flex items-center",children:t?p.jsx(gb,{user:t,onUpgradeClick:()=>c(!0)}):p.jsx(Ee,{asChild:!0,variant:"outline",size:"sm",className:"gap-1 sm:gap-2 border-purple-200 text-purple-700 hover:bg-purple-50 text-xs sm:text-sm",children:p.jsxs(Vg,{to:"/auth",children:[p.jsx(wh,{className:"w-3 h-3 sm:w-4 sm:h-4"}),p.jsx("span",{className:"hidden sm:inline",children:"Log In"}),p.jsx("span",{className:"sm:hidden",children:"Sign In"})]})})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 md:p-6 bg-white",children:p.jsxs("div",{className:"max-w-4xl mx-auto space-y-4 sm:space-y-6",children:[u.map(I=>p.jsx("div",{className:`flex ${I.type==="user"?"justify-end":"justify-start"}`,children:p.jsx("div",{className:`max-w-[85%] sm:max-w-[80%] ${I.type==="user"?"order-2":"order-1"}`,children:I.type==="user"?p.jsx("div",{className:"bg-gray-100 rounded-2xl px-3 sm:px-4 py-2 sm:py-3 text-right",children:p.jsx("div",{className:"text-gray-900 text-sm sm:text-base break-words",children:I.content})}):p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"text-gray-900 text-base leading-relaxed prose prose-gray max-w-none",children:[I.type==="assistant"?p.jsx(qF,{remarkPlugins:[s9],components:{p:({children:R})=>p.jsx("p",{className:"mb-4 last:mb-0",children:R}),h1:({children:R})=>p.jsx("h1",{className:"text-xl font-semibold mb-3 text-gray-900",children:R}),h2:({children:R})=>p.jsx("h2",{className:"text-lg font-semibold mb-2 text-gray-900",children:R}),h3:({children:R})=>p.jsx("h3",{className:"text-base font-semibold mb-2 text-gray-900",children:R}),ul:({children:R})=>p.jsx("ul",{className:"list-disc pl-6 mb-4 space-y-1",children:R}),ol:({children:R})=>p.jsx("ol",{className:"list-decimal pl-6 mb-4 space-y-1",children:R}),li:({children:R})=>p.jsx("li",{className:"text-gray-900",children:R}),strong:({children:R})=>p.jsx("strong",{className:"font-semibold text-gray-900",children:R}),em:({children:R})=>p.jsx("em",{className:"italic text-gray-700",children:R}),code:({children:R})=>p.jsx("code",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-sm font-mono text-gray-800",children:R}),pre:({children:R})=>p.jsx("pre",{className:"bg-gray-100 p-3 rounded-lg overflow-x-auto mb-4",children:R}),blockquote:({children:R})=>p.jsx("blockquote",{className:"border-l-4 border-gray-300 pl-4 italic text-gray-700 mb-4",children:R})},children:I.content}):p.jsx("p",{className:"mb-0",children:I.content}),I.isStreaming&&p.jsx("span",{className:"inline-block w-2 h-5 bg-gray-800 ml-1 animate-pulse"})]}),I.entities&&I.entities.length>0&&p.jsxs("div",{className:"mt-4 space-y-3",children:[p.jsx("h4",{className:"font-semibold text-gray-900",children:"Key Information:"}),p.jsx("div",{className:"grid gap-3",children:I.entities.map((R,E)=>p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-blue-500",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h5",{className:"font-semibold text-gray-900",children:R.name}),p.jsx("p",{className:"text-sm text-gray-600",children:R.type}),R.location&&p.jsx("p",{className:"text-sm text-gray-500",children:R.location})]}),p.jsxs("div",{className:"text-right",children:[R.aumFormatted&&p.jsx("div",{className:"text-lg font-bold text-gray-900",children:R.aumFormatted}),R.rank&&p.jsxs("div",{className:"text-sm text-gray-500",children:["Rank #",R.rank]})]})]}),R.highlight&&p.jsx("p",{className:"mt-2 text-sm text-gray-700 font-medium",children:R.highlight})]},R.id||E))})]}),I.suggestions&&I.suggestions.length>0&&p.jsxs("div",{className:"mt-4",children:[p.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Suggested follow-ups:"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:I.suggestions.map((R,E)=>p.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>M(R.text),className:"text-sm",children:R.text},E))})]}),I.visualizations&&I.visualizations.length>0&&p.jsxs("div",{className:"mt-4",children:[p.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Suggested Charts:"}),p.jsx("div",{className:"space-y-2",children:I.visualizations.map((R,E)=>p.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-lg",children:""}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-amber-900",children:R.title}),p.jsx("p",{className:"text-sm text-amber-700",children:R.description})]})]})},E))})]}),!I.isStreaming&&p.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[p.jsx("button",{onClick:()=>{navigator.clipboard.writeText(I.content),N({title:"Copied to clipboard"})},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors group",title:"Copy",children:p.jsx(F2,{className:"h-4 w-4 text-gray-500 group-hover:text-gray-700"})}),p.jsx("button",{onClick:()=>F("thumbsUp",I.id),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors group",title:"Good response",children:p.jsx(TI,{className:"h-4 w-4 text-gray-500 group-hover:text-gray-700"})}),p.jsx("button",{onClick:()=>F("thumbsDown",I.id),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors group",title:"Bad response",children:p.jsx(kI,{className:"h-4 w-4 text-gray-500 group-hover:text-gray-700"})}),p.jsx("button",{onClick:()=>F("regenerate",I.id),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors group",title:"Regenerate",children:p.jsx(wI,{className:"h-4 w-4 text-gray-500 group-hover:text-gray-700"})}),p.jsx("button",{onClick:()=>F("speak",I.id),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors group",title:"Read aloud",children:p.jsx(MI,{className:"h-4 w-4 text-gray-500 group-hover:text-gray-700"})}),p.jsx("button",{onClick:()=>F("share",I.id),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors group",title:"Share",children:p.jsx(SI,{className:"h-4 w-4 text-gray-500 group-hover:text-gray-700"})})]})]})})},I.id)),h&&p.jsx("div",{className:"flex justify-start",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:p.jsx(S2,{className:"h-4 w-4 text-gray-500"})})}),p.jsx("div",{className:"bg-gray-50 rounded-2xl px-4 py-3",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(hW,{}),p.jsx("span",{className:"text-sm text-gray-500",children:"Thinking..."})]})})]})})]})}),p.jsx("div",{className:"border-t bg-white p-2 sm:p-3 md:p-4",children:p.jsx("div",{className:"max-w-4xl mx-auto",children:p.jsx($v,{onSubmit:M})})})]}),p.jsx(NB,{open:o,onOpenChange:a,onSignup:V,onLogin:D}),p.jsx(Pk,{open:l,onOpenChange:c})]}):p.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 sm:px-6 bg-gray-50 relative",children:[p.jsx("div",{className:"fixed top-3 right-3 sm:top-4 sm:right-4 z-10",children:t?p.jsx(gb,{user:t,onUpgradeClick:B}):p.jsx(Ee,{asChild:!0,variant:"outline",size:"sm",className:"gap-1 sm:gap-2 border-purple-200 text-purple-700 hover:bg-purple-50 bg-white/90 backdrop-blur-sm shadow-sm text-xs sm:text-sm",children:p.jsxs(Vg,{to:"/auth",children:[p.jsx(wh,{className:"w-3 h-3 sm:w-4 sm:h-4"}),p.jsx("span",{className:"hidden sm:inline",children:"Log In or Sign Up"}),p.jsx("span",{className:"sm:hidden",children:"Sign In"})]})})}),p.jsx("div",{className:"mb-1 sm:mb-6 md:-mb-16 lg:-mb-20",children:p.jsx("img",{src:"/lovable-uploads/160f2a0f-b791-4f94-8817-0cd61d047a14.png",alt:"Frondex",className:"h-32 sm:h-40 md:h-54 lg:h-72 w-auto mx-auto object-contain"})}),p.jsxs("div",{className:"text-center mb-8 sm:mb-12 md:mb-16 max-w-3xl px-2",children:[p.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 sm:mb-6 text-gray-900 leading-tight",children:"What can I help with?"}),p.jsx("p",{className:"text-gray-600 text-sm sm:text-base md:text-lg leading-relaxed",children:"Your business copilot for smarter insights, sharper strategy, seamless execution."})]}),p.jsx("div",{className:"w-full max-w-4xl mb-8 sm:mb-12 md:mb-16 px-2",children:p.jsx($v,{onSubmit:M})}),p.jsx("div",{className:"flex flex-col items-center mb-32",children:p.jsxs("button",{onClick:U,className:"group flex flex-col items-center gap-2 text-gray-500 hover:text-gray-700 transition-colors duration-200","aria-label":"Scroll to brands section",children:[p.jsx("span",{className:"text-sm font-medium",children:"Explore Our Brands"}),p.jsx(kp,{className:"h-6 w-6 animate-bounce group-hover:translate-y-1 transition-transform duration-200"})]})}),p.jsxs("section",{id:"brands-section",className:"w-full max-w-7xl px-4 sm:px-6",children:[p.jsxs("div",{className:"text-center mb-8 sm:mb-12 md:mb-16",children:[p.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-3 sm:mb-4 text-gray-900",children:"Our Brands"}),p.jsx("p",{className:"text-gray-600 text-base sm:text-lg md:text-xl max-w-3xl mx-auto px-2",children:"Discover the innovative companies and visionary brands that shape tomorrow's markets"})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 md:gap-8",children:[{name:"Landlord Ledger",description:"",grayscaleImage:"/lovable-uploads/aef212a4-3d8f-4d55-848b-f4038a325eb7.png",colorImage:BW,detailedDescription:"Insights and analysis on real estate, covering market trends, key deals, and investment strategies shaping the industry.",link:"https://thelandlordledger.github.io/"},{name:"Carry and Conquer",description:"",grayscaleImage:"/lovable-uploads/3f43d804-c779-497c-84af-f344445d637e.png",colorImage:FW,detailedDescription:"Analysis and insights on private equity, covering key transactions, market trends, and firm strategies.",link:"https://carryandconquer.github.io/"},{name:"InfraLedger",description:"",grayscaleImage:"/lovable-uploads/b4ce8e3a-c44e-4bf9-8709-8d3175ceac17.png",colorImage:OW,detailedDescription:"Insights and analysis on infrastructure investing, covering key projects, capital flows, and market trends shaping global development.",link:"https://infraledger.github.io/"},{name:"The Long & Short",description:"",grayscaleImage:"/lovable-uploads/f74daaa2-426f-4449-a037-75ae04104ef6.png",colorImage:MW,detailedDescription:"Insights and analysis on hedge funds, covering market trends, fund strategies, and key moves shaping the industry.",link:"https://thelongshort.github.io/"},{name:"Natural Currency",description:"",grayscaleImage:"/lovable-uploads/b71bf268-6fe7-4ed4-b3e0-4a604f452fd0.png",colorImage:$W,detailedDescription:"Explores the dynamic world of natural resource transactions, delving into the value, trade, and sustainability of earth's most precious assets.",link:"https://naturalcurrency.github.io/"},{name:"Debt Capital Chronicles",description:"",grayscaleImage:"/lovable-uploads/2f36adb1-6c20-470c-a2c8-3eb23c28f831.png",colorImage:LW,detailedDescription:"Insights and analysis on private debt, covering credit markets, direct lending, and key trends shaping the industry.",link:"https://debtcapitalchronicles.github.io/"},{name:"The Allocator's Almanac",description:"",grayscaleImage:"/lovable-uploads/efc117d7-1c03-438b-b3db-b0a9c3e78fcc.png",colorImage:DW,detailedDescription:"Providing in-depth insights into institutional investors' transactions, market movements, and capital allocation strategies.",link:"https://allocatorsalmanac.github.io/"},{name:"Dividenz",description:"",grayscaleImage:"/lovable-uploads/7e131ed6-c038-487d-8493-87b5caf06016.png",colorImage:"/lovable-uploads/7e131ed6-c038-487d-8493-87b5caf06016.png",detailedDescription:"Insights on the global public markets",link:"https://dividenz.github.io/"}].map((I,R)=>{const E=async()=>{if(!t){N({title:"Authentication required",description:"Please sign in to explore brands.",variant:"destructive"});return}window.open(I.link,"_blank"),N({title:"Brand Explored!",description:`You've successfully explored ${I.name}.`})};return p.jsx("div",{onClick:E,className:"cursor-pointer",children:p.jsx(dz,{name:I.name,description:I.description,grayscaleImage:I.grayscaleImage,colorImage:I.colorImage,detailedDescription:I.detailedDescription,link:I.link})},R)})})]}),p.jsx("div",{className:"text-center text-sm text-gray-600 max-w-lg",children:p.jsxs("p",{children:["Frondex can make mistakes. ",p.jsx("a",{href:"/admin",className:"text-gray-600 hover:text-gray-800",children:"Please"})," double-check responses."]})})]})},VW=()=>{const{user:t,loading:e}=Qc();return e?p.jsx("div",{className:"min-h-screen bg-background font-sans flex items-center justify-center",children:p.jsx("div",{children:"Loading..."})}):p.jsx("div",{className:"min-h-screen bg-background font-sans",children:p.jsx("div",{className:"max-w-7xl mx-auto p-6 space-y-8",children:p.jsx(UW,{user:t})})})},zW=()=>{const t=rR();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),p.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},HW=({onSuccess:t})=>{const[e,n]=m.useState(""),[r,i]=m.useState(""),[s,o]=m.useState(""),[a,l]=m.useState(""),[c,u]=m.useState(!1),[d,h]=m.useState(!1),[f,v]=m.useState(!1),[g,y]=m.useState(!1),{toast:b}=Mi(),x=T=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(T);m.useEffect(()=>{(()=>{window.location.hash.includes("type=recovery")&&v(!0)})()},[]);const w=()=>{try{Object.keys(localStorage).forEach(T=>{(T.startsWith("supabase.auth.")||T.includes("sb-"))&&localStorage.removeItem(T)}),Object.keys(sessionStorage||{}).forEach(T=>{(T.startsWith("supabase.auth.")||T.includes("sb-"))&&sessionStorage.removeItem(T)})}catch{}},_=async()=>{if(!e){b({title:"Error",description:"Please enter your email address.",variant:"destructive"});return}if(!x(e)){b({title:"Error",description:"Please enter a valid email address.",variant:"destructive"});return}y(!0);try{const{error:T}=await Ae.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/auth`});if(T)throw T;b({title:"Password reset sent",description:"Check your email for the password reset link."}),h(!1)}catch(T){b({title:"Reset failed",description:T.message,variant:"destructive"})}finally{y(!1)}},C=async()=>{if(!s||!a){b({title:"Error",description:"Please fill in both password fields.",variant:"destructive"});return}if(s!==a){b({title:"Error",description:"Passwords do not match.",variant:"destructive"});return}if(s.length<6){b({title:"Error",description:"Password must be at least 6 characters long.",variant:"destructive"});return}y(!0);try{const{error:T}=await Ae.auth.updateUser({password:s});if(T)throw T;b({title:"Password updated",description:"Your password has been successfully updated."}),window.history.replaceState({},document.title,"/auth"),v(!1),o(""),l("")}catch(T){b({title:"Update failed",description:T.message,variant:"destructive"})}finally{y(!1)}},S=async()=>{if(!e||!r){b({title:"Error",description:"Please enter both email and password.",variant:"destructive"});return}if(!x(e)){b({title:"Error",description:"Please enter a valid email address.",variant:"destructive"});return}y(!0);try{w();try{await Ae.auth.signOut({scope:"global"})}catch{}if(c){const T=`${window.location.origin}/`,{error:N}=await Ae.auth.signUp({email:e,password:r,options:{emailRedirectTo:T}});if(N)throw N;b({title:"Check your email",description:"We sent you a confirmation link."})}else{const{error:T}=await Ae.auth.signInWithPassword({email:e,password:r});if(T)throw T;t==null||t()}}catch(T){b({title:c?"Sign up failed":"Sign in failed",description:T.message,variant:"destructive"})}finally{y(!1)}},k=async()=>{y(!0);try{w();try{await Ae.auth.signOut({scope:"global"})}catch{}const{error:T}=await Ae.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});if(T)throw T}catch(T){b({title:"Google sign in failed",description:T.message,variant:"destructive"}),y(!1)}};return d?p.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background",children:p.jsxs("div",{className:"w-full max-w-sm bg-gradient-to-b from-sky-50/50 to-white rounded-3xl shadow-xl p-8 flex flex-col items-center border border-blue-100 text-foreground",children:[p.jsx("div",{className:"flex items-center justify-center w-14 h-14 rounded-2xl bg-white mb-6 shadow-lg",children:p.jsx(J2,{className:"w-7 h-7 text-foreground"})}),p.jsx("h2",{className:"text-2xl font-semibold mb-2 text-center",children:"Reset your password"}),p.jsx("p",{className:"text-muted-foreground text-sm mb-6 text-center",children:"Enter your email address and we'll send you a link to reset your password"}),p.jsx("div",{className:"w-full flex flex-col gap-3 mb-4",children:p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:p.jsx(Qg,{className:"w-4 h-4"})}),p.jsx("input",{placeholder:"Email",type:"email",value:e,disabled:g,className:"w-full pl-10 pr-3 py-2 rounded-xl border border-input focus:outline-none focus:ring-2 focus:ring-primary/20 bg-background text-foreground text-sm disabled:opacity-50",onChange:T=>n(T.target.value)})]})}),p.jsx("button",{onClick:_,disabled:g,className:"w-full bg-gradient-to-b from-gray-700 to-gray-900 text-white font-medium py-2 rounded-xl shadow hover:brightness-105 cursor-pointer transition mb-4 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Sending...":"Send Reset Link"}),p.jsxs("button",{onClick:()=>h(!1),disabled:g,className:"flex items-center gap-2 text-sm text-primary hover:underline font-medium disabled:opacity-50",children:[p.jsx(Oc,{className:"w-4 h-4"}),"Back to sign in"]})]})}):f?p.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background",children:p.jsxs("div",{className:"w-full max-w-sm bg-gradient-to-b from-sky-50/50 to-white rounded-3xl shadow-xl p-8 flex flex-col items-center border border-blue-100 text-foreground",children:[p.jsx("div",{className:"flex items-center justify-center w-14 h-14 rounded-2xl bg-white mb-6 shadow-lg",children:p.jsx(Ga,{className:"w-7 h-7 text-foreground"})}),p.jsx("h2",{className:"text-2xl font-semibold mb-2 text-center",children:"Set new password"}),p.jsx("p",{className:"text-muted-foreground text-sm mb-6 text-center",children:"Enter your new password below"}),p.jsxs("div",{className:"w-full flex flex-col gap-3 mb-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:p.jsx(Ga,{className:"w-4 h-4"})}),p.jsx("input",{placeholder:"New password",type:"password",value:s,disabled:g,className:"w-full pl-10 pr-3 py-2 rounded-xl border border-input focus:outline-none focus:ring-2 focus:ring-primary/20 bg-background text-foreground text-sm disabled:opacity-50",onChange:T=>o(T.target.value)})]}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:p.jsx(Ga,{className:"w-4 h-4"})}),p.jsx("input",{placeholder:"Confirm new password",type:"password",value:a,disabled:g,className:"w-full pl-10 pr-3 py-2 rounded-xl border border-input focus:outline-none focus:ring-2 focus:ring-primary/20 bg-background text-foreground text-sm disabled:opacity-50",onChange:T=>l(T.target.value)})]})]}),p.jsx("button",{onClick:C,disabled:g,className:"w-full bg-gradient-to-b from-gray-700 to-gray-900 text-white font-medium py-2 rounded-xl shadow hover:brightness-105 cursor-pointer transition mb-4 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Updating...":"Update Password"})]})}):p.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background",children:p.jsxs("div",{className:"w-full max-w-sm bg-gradient-to-b from-sky-50/50 to-white rounded-3xl shadow-xl p-8 flex flex-col items-center border border-blue-100 text-foreground",children:[p.jsx("div",{className:"flex items-center justify-center w-14 h-14 rounded-2xl bg-white mb-6 shadow-lg",children:c?p.jsx(II,{className:"w-7 h-7 text-foreground"}):p.jsx(nI,{className:"w-7 h-7 text-foreground"})}),p.jsx("h2",{className:"text-2xl font-semibold mb-2 text-center",children:c?"Create your account":"Sign in to Frondex"}),p.jsx("p",{className:"text-muted-foreground text-sm mb-6 text-center",children:c?"Get started with your Frondex account and access premium features":"Access your account to manage subscriptions and premium features"}),p.jsxs("div",{className:"w-full flex flex-col gap-3 mb-2",children:[p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:p.jsx(Qg,{className:"w-4 h-4"})}),p.jsx("input",{placeholder:"Email",type:"email",value:e,disabled:g,className:"w-full pl-10 pr-3 py-2 rounded-xl border border-input focus:outline-none focus:ring-2 focus:ring-primary/20 bg-background text-foreground text-sm disabled:opacity-50",onChange:T=>n(T.target.value)})]}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:p.jsx(Ga,{className:"w-4 h-4"})}),p.jsx("input",{placeholder:"Password",type:"password",value:r,disabled:g,className:"w-full pl-10 pr-3 py-2 rounded-xl border border-input focus:outline-none focus:ring-2 focus:ring-primary/20 bg-background text-foreground text-sm disabled:opacity-50",onChange:T=>i(T.target.value)})]}),!c&&p.jsx("div",{className:"w-full flex justify-end",children:p.jsx("button",{type:"button",onClick:()=>h(!0),className:"text-xs hover:underline font-medium text-primary",children:"Forgot password?"})})]}),p.jsx("button",{onClick:S,disabled:g,className:"w-full bg-gradient-to-b from-gray-700 to-gray-900 text-white font-medium py-2 rounded-xl shadow hover:brightness-105 cursor-pointer transition mb-4 mt-2 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Loading...":c?"Create Account":"Sign In"}),p.jsxs("div",{className:"flex items-center w-full my-4",children:[p.jsx("div",{className:"flex-grow border-t border-dashed border-border"}),p.jsx("span",{className:"mx-3 text-xs text-muted-foreground",children:"or"}),p.jsx("div",{className:"flex-grow border-t border-dashed border-border"})]}),p.jsxs("button",{onClick:k,disabled:g,className:"w-full bg-white border border-input text-foreground font-medium py-2 rounded-xl shadow hover:bg-gray-50 cursor-pointer transition mb-4 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:[p.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[p.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),p.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),p.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),p.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),p.jsxs("div",{className:"flex items-center w-full my-2",children:[p.jsx("div",{className:"flex-grow border-t border-dashed border-border"}),p.jsx("span",{className:"mx-2 text-xs text-muted-foreground",children:c?"Already have an account?":"Don't have an account?"}),p.jsx("div",{className:"flex-grow border-t border-dashed border-border"})]}),p.jsx("button",{onClick:()=>u(!c),disabled:g,className:"text-sm text-primary hover:underline font-medium disabled:opacity-50",children:c?"Sign in instead":"Create account"})]})})},WW=()=>(m.useEffect(()=>{const{data:t}=Ae.auth.onAuthStateChange((e,n)=>{e==="SIGNED_IN"&&(n!=null&&n.user)&&setTimeout(()=>{window.location.href="/"},100)});return()=>t.subscription.unsubscribe()},[]),p.jsx(HW,{}));var qW="Label",rT=m.forwardRef((t,e)=>p.jsx(Ce.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));rT.displayName=qW;var iT=rT;const KW=Ca("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Kt=m.forwardRef(({className:t,...e},n)=>p.jsx(iT,{ref:n,className:ee(KW(),t),...e}));Kt.displayName=iT.displayName;const hs=m.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:ee("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));hs.displayName="Card";const ko=m.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:ee("flex flex-col space-y-1.5 p-6",t),...e}));ko.displayName="CardHeader";const Eo=m.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:ee("text-2xl font-semibold leading-none tracking-tight",t),...e}));Eo.displayName="CardTitle";const To=m.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:ee("text-sm text-muted-foreground",t),...e}));To.displayName="CardDescription";const Po=m.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:ee("p-6 pt-0",t),...e}));Po.displayName="CardContent";const GW=m.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:ee("flex items-center p-6 pt-0",t),...e}));GW.displayName="CardFooter";function YW(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function yb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function XW(...t){return e=>{let n=!1;const r=t.map(i=>{const s=yb(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():yb(t[i],null)}}}}function sT(...t){return m.useCallback(XW(...t),t)}function JW(t,e=[]){let n=[];function r(s,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var b;const{scope:h,children:f,...v}=d,g=((b=h==null?void 0:h[t])==null?void 0:b[l])||a,y=m.useMemo(()=>v,Object.values(v));return p.jsx(g.Provider,{value:y,children:f})};c.displayName=s+"Provider";function u(d,h){var g;const f=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,v=m.useContext(f);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,QW(i,...e)]}function QW(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var oT=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},ZW=Ks[" useInsertionEffect ".trim().toString()]||oT;function eq({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=tq({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=m.useRef(t!==void 0);m.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=m.useCallback(u=>{var d;if(a){const h=nq(u)?u(t):u;h!==t&&((d=o.current)==null||d.call(o,h))}else s(u)},[a,t,s,o]);return[l,c]}function tq({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),i=m.useRef(n),s=m.useRef(e);return ZW(()=>{s.current=e},[e]),m.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function nq(t){return typeof t=="function"}function rq(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function iq(t){const[e,n]=m.useState(void 0);return oT(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var sq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],aT=sq.reduce((t,e)=>{const n=Vr(`Primitive.${e}`),r=m.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),xu="Switch",[oq,FJ]=JW(xu),[aq,lq]=oq(xu),lT=m.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=t,[h,f]=m.useState(null),v=sT(e,w=>f(w)),g=m.useRef(!1),y=h?u||!!h.closest("form"):!0,[b,x]=eq({prop:i,defaultProp:s??!1,onChange:c,caller:xu});return p.jsxs(aq,{scope:n,checked:b,disabled:a,children:[p.jsx(aT.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":hT(b),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:v,onClick:YW(t.onClick,w=>{x(_=>!_),y&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),y&&p.jsx(dT,{control:h,bubbles:!g.current,name:r,value:l,checked:b,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});lT.displayName=xu;var cT="SwitchThumb",uT=m.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=lq(cT,n);return p.jsx(aT.span,{"data-state":hT(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});uT.displayName=cT;var cq="SwitchBubbleInput",dT=m.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const o=m.useRef(null),a=sT(o,s),l=rq(n),c=iq(e);return m.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==n&&f){const v=new Event("click",{bubbles:r});f.call(u,n),u.dispatchEvent(v)}},[l,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});dT.displayName=cq;function hT(t){return t?"checked":"unchecked"}var fT=lT,uq=uT;const fg=m.forwardRef(({className:t,...e},n)=>p.jsx(fT,{className:ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:p.jsx(uq,{className:ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));fg.displayName=fT.displayName;function bb(t,[e,n]){return Math.min(n,Math.max(e,t))}function ot(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function pg(t,e=[]){let n=[];function r(s,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var b;const{scope:h,children:f,...v}=d,g=((b=h==null?void 0:h[t])==null?void 0:b[l])||a,y=m.useMemo(()=>v,Object.values(v));return p.jsx(g.Provider,{value:y,children:f})};c.displayName=s+"Provider";function u(d,h){var g;const f=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,v=m.useContext(f);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,dq(i,...e)]}function dq(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function wb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function hq(...t){return e=>{let n=!1;const r=t.map(i=>{const s=wb(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():wb(t[i],null)}}}}function pt(...t){return m.useCallback(hq(...t),t)}function fq(t){const e=t+"CollectionProvider",[n,r]=pg(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:b}=g,x=H.useRef(null),w=H.useRef(new Map).current;return p.jsx(i,{scope:y,itemMap:w,collectionRef:x,children:b})};o.displayName=e;const a=t+"CollectionSlot",l=Vr(a),c=H.forwardRef((g,y)=>{const{scope:b,children:x}=g,w=s(a,b),_=pt(y,w.collectionRef);return p.jsx(l,{ref:_,children:x})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=Vr(u),f=H.forwardRef((g,y)=>{const{scope:b,children:x,...w}=g,_=H.useRef(null),C=pt(y,_),S=s(u,b);return H.useEffect(()=>(S.itemMap.set(_,{ref:_,...w}),()=>void S.itemMap.delete(_))),p.jsx(h,{[d]:"",ref:C,children:x})});f.displayName=u;function v(g){const y=s(t+"CollectionConsumer",g);return H.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((S,k)=>w.indexOf(S.ref.current)-w.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},v,r]}var pq=m.createContext(void 0);function mq(t){const e=m.useContext(pq);return t||e||"ltr"}var gq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tt=gq.reduce((t,e)=>{const n=Vr(`Primitive.${e}`),r=m.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function vq(t,e){t&&qr.flushSync(()=>t.dispatchEvent(e))}function Pi(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function yq(t,e=globalThis==null?void 0:globalThis.document){const n=Pi(t);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var bq="DismissableLayer",Af="dismissableLayer.update",wq="dismissableLayer.pointerDownOutside",xq="dismissableLayer.focusOutside",xb,pT=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mT=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(pT),[u,d]=m.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=m.useState({}),v=pt(e,k=>d(k)),g=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(y),x=u?g.indexOf(u):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,_=x>=b,C=Cq(k=>{const T=k.target,N=[...c.branches].some(A=>A.contains(T));!_||N||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},h),S=kq(k=>{const T=k.target;[...c.branches].some(A=>A.contains(T))||(s==null||s(k),o==null||o(k),k.defaultPrevented||a==null||a())},h);return yq(k=>{x===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(xb=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),_b(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=xb)}},[u,h,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),_b())},[u,c]),m.useEffect(()=>{const k=()=>f({});return document.addEventListener(Af,k),()=>document.removeEventListener(Af,k)},[]),p.jsx(tt.div,{...l,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...t.style},onFocusCapture:ot(t.onFocusCapture,S.onFocusCapture),onBlurCapture:ot(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ot(t.onPointerDownCapture,C.onPointerDownCapture)})});mT.displayName=bq;var _q="DismissableLayerBranch",Sq=m.forwardRef((t,e)=>{const n=m.useContext(pT),r=m.useRef(null),i=pt(e,r);return m.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx(tt.div,{...t,ref:i})});Sq.displayName=_q;function Cq(t,e=globalThis==null?void 0:globalThis.document){const n=Pi(t),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){gT(wq,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function kq(t,e=globalThis==null?void 0:globalThis.document){const n=Pi(t),r=m.useRef(!1);return m.useEffect(()=>{const i=s=>{s.target&&!r.current&&gT(xq,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function _b(){const t=new CustomEvent(Af);document.dispatchEvent(t)}function gT(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?vq(i,s):i.dispatchEvent(s)}var zd=0;function Eq(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Sb()),document.body.insertAdjacentElement("beforeend",t[1]??Sb()),zd++,()=>{zd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),zd--}},[])}function Sb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Hd="focusScope.autoFocusOnMount",Wd="focusScope.autoFocusOnUnmount",Cb={bubbles:!1,cancelable:!0},Tq="FocusScope",vT=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=m.useState(null),c=Pi(i),u=Pi(s),d=m.useRef(null),h=pt(e,g=>l(g)),f=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let g=function(w){if(f.paused||!a)return;const _=w.target;a.contains(_)?d.current=_:Sr(d.current,{select:!0})},y=function(w){if(f.paused||!a)return;const _=w.relatedTarget;_!==null&&(a.contains(_)||Sr(d.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const C of w)C.removedNodes.length>0&&Sr(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const x=new MutationObserver(b);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),x.disconnect()}}},[r,a,f.paused]),m.useEffect(()=>{if(a){Eb.add(f);const g=document.activeElement;if(!a.contains(g)){const b=new CustomEvent(Hd,Cb);a.addEventListener(Hd,c),a.dispatchEvent(b),b.defaultPrevented||(Pq(jq(yT(a)),{select:!0}),document.activeElement===g&&Sr(a))}return()=>{a.removeEventListener(Hd,c),setTimeout(()=>{const b=new CustomEvent(Wd,Cb);a.addEventListener(Wd,u),a.dispatchEvent(b),b.defaultPrevented||Sr(g??document.body,{select:!0}),a.removeEventListener(Wd,u),Eb.remove(f)},0)}}},[a,c,u,f]);const v=m.useCallback(g=>{if(!n&&!r||f.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(y&&b){const x=g.currentTarget,[w,_]=Aq(x);w&&_?!g.shiftKey&&b===_?(g.preventDefault(),n&&Sr(w,{select:!0})):g.shiftKey&&b===w&&(g.preventDefault(),n&&Sr(_,{select:!0})):b===x&&g.preventDefault()}},[n,r,f.paused]);return p.jsx(tt.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});vT.displayName=Tq;function Pq(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Sr(r,{select:e}),document.activeElement!==n)return}function Aq(t){const e=yT(t),n=kb(e,t),r=kb(e.reverse(),t);return[n,r]}function yT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kb(t,e){for(const n of t)if(!Rq(n,{upTo:e}))return n}function Rq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Iq(t){return t instanceof HTMLInputElement&&"select"in t}function Sr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Iq(t)&&e&&t.select()}}var Eb=Nq();function Nq(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Tb(t,e),t.unshift(e)},remove(e){var n;t=Tb(t,e),(n=t[0])==null||n.resume()}}}function Tb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function jq(t){return t.filter(e=>e.tagName!=="A")}var Bt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},Mq=Ks[" useId ".trim().toString()]||(()=>{}),Oq=0;function mg(t){const[e,n]=m.useState(Mq());return Bt(()=>{n(r=>r??String(Oq++))},[t]),e?`radix-${e}`:""}var Dq="Arrow",bT=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return p.jsx(tt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});bT.displayName=Dq;var $q=bT;function Lq(t){const[e,n]=m.useState(void 0);return Bt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var gg="Popper",[wT,xT]=pg(gg),[Fq,_T]=wT(gg),ST=t=>{const{__scopePopper:e,children:n}=t,[r,i]=m.useState(null);return p.jsx(Fq,{scope:e,anchor:r,onAnchorChange:i,children:n})};ST.displayName=gg;var CT="PopperAnchor",kT=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=_T(CT,n),o=m.useRef(null),a=pt(e,o);return m.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(tt.div,{...i,ref:a})});kT.displayName=CT;var vg="PopperContent",[Bq,Uq]=wT(vg),ET=m.forwardRef((t,e)=>{var Q,oe,de,re,ve,ye;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:v,...g}=t,y=_T(vg,n),[b,x]=m.useState(null),w=pt(e,Ne=>x(Ne)),[_,C]=m.useState(null),S=Lq(_),k=(S==null?void 0:S.width)??0,T=(S==null?void 0:S.height)??0,N=r+(s!=="center"?"-"+s:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},j=Array.isArray(c)?c:[c],M=j.length>0,V={padding:A,boundary:j.filter(zq),altBoundary:M},{refs:D,floatingStyles:B,placement:F,isPositioned:U,middlewareData:I}=t_({strategy:"fixed",placement:N,whileElementsMounted:(...Ne)=>Zx(...Ne,{animationFrame:f==="always"}),elements:{reference:y.anchor},middleware:[n_({mainAxis:i+T,alignmentAxis:o}),l&&r_({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?i_():void 0,...V}),l&&s_({...V}),o_({...V,apply:({elements:Ne,rects:Qe,availableWidth:mt,availableHeight:nt})=>{const{width:gt,height:Zr}=Qe.reference,$e=Ne.floating.style;$e.setProperty("--radix-popper-available-width",`${mt}px`),$e.setProperty("--radix-popper-available-height",`${nt}px`),$e.setProperty("--radix-popper-anchor-width",`${gt}px`),$e.setProperty("--radix-popper-anchor-height",`${Zr}px`)}}),_&&l_({element:_,padding:a}),Hq({arrowWidth:k,arrowHeight:T}),h&&a_({strategy:"referenceHidden",...V})]}),[R,E]=AT(F),q=Pi(v);Bt(()=>{U&&(q==null||q())},[U,q]);const z=(Q=I.arrow)==null?void 0:Q.x,P=(oe=I.arrow)==null?void 0:oe.y,Z=((de=I.arrow)==null?void 0:de.centerOffset)!==0,[pe,ne]=m.useState();return Bt(()=>{b&&ne(window.getComputedStyle(b).zIndex)},[b]),p.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:U?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[(re=I.transformOrigin)==null?void 0:re.x,(ve=I.transformOrigin)==null?void 0:ve.y].join(" "),...((ye=I.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(Bq,{scope:n,placedSide:R,onArrowChange:C,arrowX:z,arrowY:P,shouldHideArrow:Z,children:p.jsx(tt.div,{"data-side":R,"data-align":E,...g,ref:w,style:{...g.style,animation:U?void 0:"none"}})})})});ET.displayName=vg;var TT="PopperArrow",Vq={top:"bottom",right:"left",bottom:"top",left:"right"},PT=m.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Uq(TT,r),o=Vq[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx($q,{...i,ref:n,style:{...i.style,display:"block"}})})});PT.displayName=TT;function zq(t){return t!==null}var Hq=t=>({name:"transformOrigin",options:t,fn(e){var y,b,x;const{placement:n,rects:r,middlewareData:i}=e,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=AT(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((b=i.arrow)==null?void 0:b.x)??0)+a/2,f=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let v="",g="";return c==="bottom"?(v=o?d:`${h}px`,g=`${-l}px`):c==="top"?(v=o?d:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,g=o?d:`${f}px`):c==="left"&&(v=`${r.floating.width+l}px`,g=o?d:`${f}px`),{data:{x:v,y:g}}}});function AT(t){const[e,n="center"]=t.split("-");return[e,n]}var Wq=ST,qq=kT,Kq=ET,Gq=PT,Yq="Portal",RT=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=m.useState(!1);Bt(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Tc.createPortal(p.jsx(tt.div,{...r,ref:e}),o):null});RT.displayName=Yq;var Xq=Ks[" useInsertionEffect ".trim().toString()]||Bt;function Pb({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=Jq({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=m.useRef(t!==void 0);m.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=m.useCallback(u=>{var d;if(a){const h=Qq(u)?u(t):u;h!==t&&((d=o.current)==null||d.call(o,h))}else s(u)},[a,t,s,o]);return[l,c]}function Jq({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),i=m.useRef(n),s=m.useRef(e);return Xq(()=>{s.current=e},[e]),m.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function Qq(t){return typeof t=="function"}function Zq(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var IT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),eK="VisuallyHidden",tK=m.forwardRef((t,e)=>p.jsx(tt.span,{...t,ref:e,style:{...IT,...t.style}}));tK.displayName=eK;var NT=um(),qd=function(){},_u=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:qd,onWheelCapture:qd,onTouchMoveCapture:qd}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,f=t.noRelative,v=t.noIsolation,g=t.inert,y=t.allowPinchZoom,b=t.as,x=b===void 0?"div":b,w=t.gapMode,_=ou(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,S=cm([n,e]),k=Xe(Xe({},_),i);return m.createElement(m.Fragment,null,u&&m.createElement(C,{sideCar:NT,removeScrollBar:c,shards:d,noRelative:f,noIsolation:v,inert:g,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:w}),o?m.cloneElement(m.Children.only(a),Xe(Xe({},k),{ref:S})):m.createElement(x,Xe({},k,{className:l,ref:S}),a))});_u.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_u.classNames={fullWidth:xs,zeroRight:ws};var Rf=!1;if(typeof window<"u")try{var vl=Object.defineProperty({},"passive",{get:function(){return Rf=!0,!0}});window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{Rf=!1}var Zi=Rf?{passive:!1}:!1,nK=function(t){return t.tagName==="TEXTAREA"},jT=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!nK(t)&&n[e]==="visible")},rK=function(t){return jT(t,"overflowY")},iK=function(t){return jT(t,"overflowX")},Ab=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=MT(t,r);if(i){var s=OT(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},sK=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},oK=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},MT=function(t,e){return t==="v"?rK(e):iK(e)},OT=function(t,e){return t==="v"?sK(e):oK(e)},aK=function(t,e){return t==="h"&&e==="rtl"?-1:1},lK=function(t,e,n,r,i){var s=aK(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,h=0;do{if(!a)break;var f=OT(t,a),v=f[0],g=f[1],y=f[2],b=g-y-s*v;(v||b)&&MT(t,a)&&(d+=b,h+=v);var x=a.parentNode;a=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!i)||!u&&(Math.abs(h)<1||!i))&&(c=!0),c},yl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Rb=function(t){return[t.deltaX,t.deltaY]},Ib=function(t){return t&&"current"in t?t.current:t},cK=function(t,e){return t[0]===e[0]&&t[1]===e[1]},uK=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},dK=0,es=[];function hK(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(dK++)[0],s=m.useState(lu)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=lm([t.lockRef.current],(t.shards||[]).map(Ib),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=yl(g),x=n.current,w="deltaX"in g?g.deltaX:x[0]-b[0],_="deltaY"in g?g.deltaY:x[1]-b[1],C,S=g.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in g&&k==="h"&&S.type==="range")return!1;var T=Ab(k,S);if(!T)return!0;if(T?C=k:(C=k==="v"?"h":"v",T=Ab(k,S)),!T)return!1;if(!r.current&&"changedTouches"in g&&(w||_)&&(r.current=C),!C)return!0;var N=r.current||C;return lK(N,y,g,N==="h"?w:_,!0)},[]),l=m.useCallback(function(g){var y=g;if(!(!es.length||es[es.length-1]!==s)){var b="deltaY"in y?Rb(y):yl(y),x=e.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&cK(C.delta,b)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(Ib).filter(Boolean).filter(function(C){return C.contains(y.target)}),_=w.length>0?a(y,w[0]):!o.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),c=m.useCallback(function(g,y,b,x){var w={name:g,delta:y,target:b,should:x,shadowParent:fK(b)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(_){return _!==w})},1)},[]),u=m.useCallback(function(g){n.current=yl(g),r.current=void 0},[]),d=m.useCallback(function(g){c(g.type,Rb(g),g.target,a(g,t.lockRef.current))},[]),h=m.useCallback(function(g){c(g.type,yl(g),g.target,a(g,t.lockRef.current))},[]);m.useEffect(function(){return es.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Zi),document.addEventListener("touchmove",l,Zi),document.addEventListener("touchstart",u,Zi),function(){es=es.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,Zi),document.removeEventListener("touchmove",l,Zi),document.removeEventListener("touchstart",u,Zi)}},[]);var f=t.removeScrollBar,v=t.inert;return m.createElement(m.Fragment,null,v?m.createElement(s,{styles:uK(i)}):null,f?m.createElement(hm,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function fK(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const pK=dm(NT,hK);var DT=m.forwardRef(function(t,e){return m.createElement(_u,Xe({},t,{ref:e,sideCar:pK}))});DT.classNames=_u.classNames;var mK=[" ","Enter","ArrowUp","ArrowDown"],gK=[" ","Enter"],Ai="Select",[Su,Cu,vK]=fq(Ai),[oo,BJ]=pg(Ai,[vK,xT]),ku=xT(),[yK,Xr]=oo(Ai),[bK,wK]=oo(Ai),$T=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:f,form:v}=t,g=ku(e),[y,b]=m.useState(null),[x,w]=m.useState(null),[_,C]=m.useState(!1),S=mq(c),[k,T]=Pb({prop:r,defaultProp:i??!1,onChange:s,caller:Ai}),[N,A]=Pb({prop:o,defaultProp:a,onChange:l,caller:Ai}),j=m.useRef(null),M=y?v||!!y.closest("form"):!0,[V,D]=m.useState(new Set),B=Array.from(V).map(F=>F.props.value).join(";");return p.jsx(Wq,{...g,children:p.jsxs(yK,{required:f,scope:e,trigger:y,onTriggerChange:b,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:C,contentId:mg(),value:N,onValueChange:A,open:k,onOpenChange:T,dir:S,triggerPointerDownPosRef:j,disabled:h,children:[p.jsx(Su.Provider,{scope:e,children:p.jsx(bK,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(F=>{D(U=>new Set(U).add(F))},[]),onNativeOptionRemove:m.useCallback(F=>{D(U=>{const I=new Set(U);return I.delete(F),I})},[]),children:n})}),M?p.jsxs(aP,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:d,value:N,onChange:F=>A(F.target.value),disabled:h,form:v,children:[N===void 0?p.jsx("option",{value:""}):null,Array.from(V)]},B):null]})})};$T.displayName=Ai;var LT="SelectTrigger",FT=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=ku(n),o=Xr(LT,n),a=o.disabled||r,l=pt(e,o.onTriggerChange),c=Cu(n),u=m.useRef("touch"),[d,h,f]=cP(g=>{const y=c().filter(w=>!w.disabled),b=y.find(w=>w.value===o.value),x=uP(y,g,b);x!==void 0&&o.onValueChange(x.value)}),v=g=>{a||(o.onOpenChange(!0),f()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return p.jsx(qq,{asChild:!0,...s,children:p.jsx(tt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":lP(o.value)?"":void 0,...i,ref:l,onClick:ot(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&v(g)}),onPointerDown:ot(i.onPointerDown,g=>{u.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:ot(i.onKeyDown,g=>{const y=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(y&&g.key===" ")&&mK.includes(g.key)&&(v(),g.preventDefault())})})})});FT.displayName=LT;var BT="SelectValue",UT=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=Xr(BT,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,d=pt(e,l.onValueNodeChange);return Bt(()=>{c(u)},[c,u]),p.jsx(tt.span,{...a,ref:d,style:{pointerEvents:"none"},children:lP(l.value)?p.jsx(p.Fragment,{children:o}):s})});UT.displayName=BT;var xK="SelectIcon",VT=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return p.jsx(tt.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});VT.displayName=xK;var _K="SelectPortal",zT=t=>p.jsx(RT,{asChild:!0,...t});zT.displayName=_K;var Ri="SelectContent",HT=m.forwardRef((t,e)=>{const n=Xr(Ri,t.__scopeSelect),[r,i]=m.useState();if(Bt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?qr.createPortal(p.jsx(WT,{scope:t.__scopeSelect,children:p.jsx(Su.Slot,{scope:t.__scopeSelect,children:p.jsx("div",{children:t.children})})}),s):null}return p.jsx(qT,{...t,ref:e})});HT.displayName=Ri;var hn=10,[WT,Jr]=oo(Ri),SK="SelectContentImpl",CK=Vr("SelectContent.RemoveScroll"),qT=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:v,hideWhenDetached:g,avoidCollisions:y,...b}=t,x=Xr(Ri,n),[w,_]=m.useState(null),[C,S]=m.useState(null),k=pt(e,Q=>_(Q)),[T,N]=m.useState(null),[A,j]=m.useState(null),M=Cu(n),[V,D]=m.useState(!1),B=m.useRef(!1);m.useEffect(()=>{if(w)return fm(w)},[w]),Eq();const F=m.useCallback(Q=>{const[oe,...de]=M().map(ye=>ye.ref.current),[re]=de.slice(-1),ve=document.activeElement;for(const ye of Q)if(ye===ve||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===oe&&C&&(C.scrollTop=0),ye===re&&C&&(C.scrollTop=C.scrollHeight),ye==null||ye.focus(),document.activeElement!==ve))return},[M,C]),U=m.useCallback(()=>F([T,w]),[F,T,w]);m.useEffect(()=>{V&&U()},[V,U]);const{onOpenChange:I,triggerPointerDownPosRef:R}=x;m.useEffect(()=>{if(w){let Q={x:0,y:0};const oe=re=>{var ve,ye;Q={x:Math.abs(Math.round(re.pageX)-(((ve=R.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(re.pageY)-(((ye=R.current)==null?void 0:ye.y)??0))}},de=re=>{Q.x<=10&&Q.y<=10?re.preventDefault():w.contains(re.target)||I(!1),document.removeEventListener("pointermove",oe),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",de,{capture:!0})}}},[w,I,R]),m.useEffect(()=>{const Q=()=>I(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[I]);const[E,q]=cP(Q=>{const oe=M().filter(ve=>!ve.disabled),de=oe.find(ve=>ve.ref.current===document.activeElement),re=uP(oe,Q,de);re&&setTimeout(()=>re.ref.current.focus())}),z=m.useCallback((Q,oe,de)=>{const re=!B.current&&!de;(x.value!==void 0&&x.value===oe||re)&&(N(Q),re&&(B.current=!0))},[x.value]),P=m.useCallback(()=>w==null?void 0:w.focus(),[w]),Z=m.useCallback((Q,oe,de)=>{const re=!B.current&&!de;(x.value!==void 0&&x.value===oe||re)&&j(Q)},[x.value]),pe=r==="popper"?If:KT,ne=pe===If?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:v,hideWhenDetached:g,avoidCollisions:y}:{};return p.jsx(WT,{scope:n,content:w,viewport:C,onViewportChange:S,itemRefCallback:z,selectedItem:T,onItemLeave:P,itemTextRefCallback:Z,focusSelectedItem:U,selectedItemText:A,position:r,isPositioned:V,searchRef:E,children:p.jsx(DT,{as:CK,allowPinchZoom:!0,children:p.jsx(vT,{asChild:!0,trapped:x.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:ot(i,Q=>{var oe;(oe=x.trigger)==null||oe.focus({preventScroll:!0}),Q.preventDefault()}),children:p.jsx(mT,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:p.jsx(pe,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Q=>Q.preventDefault(),...b,...ne,onPlaced:()=>D(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ot(b.onKeyDown,Q=>{const oe=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!oe&&Q.key.length===1&&q(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let re=M().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const ve=Q.target,ye=re.indexOf(ve);re=re.slice(ye+1)}setTimeout(()=>F(re)),Q.preventDefault()}})})})})})})});qT.displayName=SK;var kK="SelectItemAlignedPosition",KT=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Xr(Ri,n),o=Jr(Ri,n),[a,l]=m.useState(null),[c,u]=m.useState(null),d=pt(e,k=>u(k)),h=Cu(n),f=m.useRef(!1),v=m.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:b,focusSelectedItem:x}=o,w=m.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&g&&y&&b){const k=s.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),N=s.valueNode.getBoundingClientRect(),A=b.getBoundingClientRect();if(s.dir!=="rtl"){const ve=A.left-T.left,ye=N.left-ve,Ne=k.left-ye,Qe=k.width+Ne,mt=Math.max(Qe,T.width),nt=window.innerWidth-hn,gt=bb(ye,[hn,Math.max(hn,nt-mt)]);a.style.minWidth=Qe+"px",a.style.left=gt+"px"}else{const ve=T.right-A.right,ye=window.innerWidth-N.right-ve,Ne=window.innerWidth-k.right-ye,Qe=k.width+Ne,mt=Math.max(Qe,T.width),nt=window.innerWidth-hn,gt=bb(ye,[hn,Math.max(hn,nt-mt)]);a.style.minWidth=Qe+"px",a.style.right=gt+"px"}const j=h(),M=window.innerHeight-hn*2,V=g.scrollHeight,D=window.getComputedStyle(c),B=parseInt(D.borderTopWidth,10),F=parseInt(D.paddingTop,10),U=parseInt(D.borderBottomWidth,10),I=parseInt(D.paddingBottom,10),R=B+F+V+I+U,E=Math.min(y.offsetHeight*5,R),q=window.getComputedStyle(g),z=parseInt(q.paddingTop,10),P=parseInt(q.paddingBottom,10),Z=k.top+k.height/2-hn,pe=M-Z,ne=y.offsetHeight/2,Q=y.offsetTop+ne,oe=B+F+Q,de=R-oe;if(oe<=Z){const ve=j.length>0&&y===j[j.length-1].ref.current;a.style.bottom="0px";const ye=c.clientHeight-g.offsetTop-g.offsetHeight,Ne=Math.max(pe,ne+(ve?P:0)+ye+U),Qe=oe+Ne;a.style.height=Qe+"px"}else{const ve=j.length>0&&y===j[0].ref.current;a.style.top="0px";const Ne=Math.max(Z,B+g.offsetTop+(ve?z:0)+ne)+de;a.style.height=Ne+"px",g.scrollTop=oe-Z+g.offsetTop}a.style.margin=`${hn}px 0`,a.style.minHeight=E+"px",a.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>f.current=!0)}},[h,s.trigger,s.valueNode,a,c,g,y,b,s.dir,r]);Bt(()=>w(),[w]);const[_,C]=m.useState();Bt(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const S=m.useCallback(k=>{k&&v.current===!0&&(w(),x==null||x(),v.current=!1)},[w,x]);return p.jsx(TK,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:S,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:p.jsx(tt.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});KT.displayName=kK;var EK="SelectPopperPosition",If=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=hn,...s}=t,o=ku(n);return p.jsx(Kq,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});If.displayName=EK;var[TK,yg]=oo(Ri,{}),Nf="SelectViewport",GT=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Jr(Nf,n),o=yg(Nf,n),a=pt(e,s.onViewportChange),l=m.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(Su.Slot,{scope:n,children:p.jsx(tt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ot(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const f=Math.abs(l.current-u.scrollTop);if(f>0){const v=window.innerHeight-hn*2,g=parseFloat(d.style.minHeight),y=parseFloat(d.style.height),b=Math.max(g,y);if(b<v){const x=b+f,w=Math.min(v,x),_=x-w;d.style.height=w+"px",d.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});GT.displayName=Nf;var YT="SelectGroup",[PK,AK]=oo(YT),RK=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=mg();return p.jsx(PK,{scope:n,id:i,children:p.jsx(tt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});RK.displayName=YT;var XT="SelectLabel",JT=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=AK(XT,n);return p.jsx(tt.div,{id:i.id,...r,ref:e})});JT.displayName=XT;var uc="SelectItem",[IK,QT]=oo(uc),ZT=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=Xr(uc,n),l=Jr(uc,n),c=a.value===r,[u,d]=m.useState(s??""),[h,f]=m.useState(!1),v=pt(e,x=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,x,r,i)}),g=mg(),y=m.useRef("touch"),b=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(IK,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:m.useCallback(x=>{d(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:p.jsx(Su.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:p.jsx(tt.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:ot(o.onFocus,()=>f(!0)),onBlur:ot(o.onBlur,()=>f(!1)),onClick:ot(o.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:ot(o.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:ot(o.onPointerDown,x=>{y.current=x.pointerType}),onPointerMove:ot(o.onPointerMove,x=>{var w;y.current=x.pointerType,i?(w=l.onItemLeave)==null||w.call(l):y.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ot(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:ot(o.onKeyDown,x=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(gK.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});ZT.displayName=uc;var Ao="SelectItemText",eP=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Xr(Ao,n),a=Jr(Ao,n),l=QT(Ao,n),c=wK(Ao,n),[u,d]=m.useState(null),h=pt(e,b=>d(b),l.onItemTextChange,b=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,b,l.value,l.disabled)}),f=u==null?void 0:u.textContent,v=m.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=c;return Bt(()=>(g(v),()=>y(v)),[g,y,v]),p.jsxs(p.Fragment,{children:[p.jsx(tt.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?qr.createPortal(s.children,o.valueNode):null]})});eP.displayName=Ao;var tP="SelectItemIndicator",nP=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return QT(tP,n).isSelected?p.jsx(tt.span,{"aria-hidden":!0,...r,ref:e}):null});nP.displayName=tP;var jf="SelectScrollUpButton",rP=m.forwardRef((t,e)=>{const n=Jr(jf,t.__scopeSelect),r=yg(jf,t.__scopeSelect),[i,s]=m.useState(!1),o=pt(e,r.onScrollButtonChange);return Bt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?p.jsx(sP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});rP.displayName=jf;var Mf="SelectScrollDownButton",iP=m.forwardRef((t,e)=>{const n=Jr(Mf,t.__scopeSelect),r=yg(Mf,t.__scopeSelect),[i,s]=m.useState(!1),o=pt(e,r.onScrollButtonChange);return Bt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?p.jsx(sP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});iP.displayName=Mf;var sP=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Jr("SelectScrollButton",n),o=m.useRef(null),a=Cu(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),Bt(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),p.jsx(tt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ot(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ot(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ot(i.onPointerLeave,()=>{l()})})}),NK="SelectSeparator",oP=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return p.jsx(tt.div,{"aria-hidden":!0,...r,ref:e})});oP.displayName=NK;var Of="SelectArrow",jK=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ku(n),s=Xr(Of,n),o=Jr(Of,n);return s.open&&o.position==="popper"?p.jsx(Gq,{...i,...r,ref:e}):null});jK.displayName=Of;var MK="SelectBubbleInput",aP=m.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=m.useRef(null),s=pt(r,i),o=Zq(e);return m.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const d=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(d)}},[o,e]),p.jsx(tt.select,{...n,style:{...IT,...n.style},ref:s,defaultValue:e})});aP.displayName=MK;function lP(t){return t===""||t===void 0}function cP(t){const e=Pi(t),n=m.useRef(""),r=m.useRef(0),i=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function uP(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=OK(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function OK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var DK=$T,dP=FT,$K=UT,LK=VT,FK=zT,hP=HT,BK=GT,fP=JT,pP=ZT,UK=eP,VK=nP,mP=rP,gP=iP,vP=oP;const yP=DK,bP=$K,bg=m.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(dP,{ref:r,className:ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,p.jsx(LK,{asChild:!0,children:p.jsx(kp,{className:"h-4 w-4 opacity-50"})})]}));bg.displayName=dP.displayName;const wP=m.forwardRef(({className:t,...e},n)=>p.jsx(mP,{ref:n,className:ee("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(A2,{className:"h-4 w-4"})}));wP.displayName=mP.displayName;const xP=m.forwardRef(({className:t,...e},n)=>p.jsx(gP,{ref:n,className:ee("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(kp,{className:"h-4 w-4"})}));xP.displayName=gP.displayName;const wg=m.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>p.jsx(FK,{children:p.jsxs(hP,{ref:i,className:ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[p.jsx(wP,{}),p.jsx(BK,{className:ee("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(xP,{})]})}));wg.displayName=hP.displayName;const zK=m.forwardRef(({className:t,...e},n)=>p.jsx(fP,{ref:n,className:ee("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));zK.displayName=fP.displayName;const xg=m.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(pP,{ref:r,className:ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(VK,{children:p.jsx(Nx,{className:"h-4 w-4"})})}),p.jsx(UK,{children:e})]}));xg.displayName=pP.displayName;const HK=m.forwardRef(({className:t,...e},n)=>p.jsx(vP,{ref:n,className:ee("-mx-1 my-1 h-px bg-muted",t),...e}));HK.displayName=vP.displayName;const WK=Ca("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Eu=m.forwardRef(({className:t,variant:e,...n},r)=>p.jsx("div",{ref:r,role:"alert",className:ee(WK({variant:e}),t),...n}));Eu.displayName="Alert";const qK=m.forwardRef(({className:t,...e},n)=>p.jsx("h5",{ref:n,className:ee("mb-1 font-medium leading-none tracking-tight",t),...e}));qK.displayName="AlertTitle";const Tu=m.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:ee("text-sm [&_p]:leading-relaxed",t),...e}));Tu.displayName="AlertDescription";function KK({onSettingsChange:t}){const[e,n]=m.useState(!1),[r,i]=m.useState(ys.getSettings()),[s,o]=m.useState(!1),[a,l]=m.useState(!1),c=async()=>{l(!0);try{ys.saveSettings(r),t==null||t(),n(!1)}catch(h){console.error("Error saving settings:",h)}finally{l(!1)}},u=(h,f)=>{i(v=>({...v,[h]:f}))},d=ys.getAvailableModels();return p.jsxs(ja,{open:e,onOpenChange:n,children:[p.jsx(vm,{asChild:!0,children:p.jsx(Ee,{variant:"outline",size:"icon",children:p.jsx(Dc,{className:"w-4 h-4"})})}),p.jsxs(no,{className:"sm:max-w-[425px]",children:[p.jsxs(Ma,{children:[p.jsx(Oa,{children:"OpenAI Settings"}),p.jsx(Da,{children:"Configure your OpenAI API key and preferences for the chatbot."})]}),p.jsxs("div",{className:"grid gap-4 py-4",children:[p.jsxs("div",{className:"grid gap-2",children:[p.jsx(Kt,{htmlFor:"apiKey",children:"OpenAI API Key"}),p.jsxs("div",{className:"relative",children:[p.jsx(rr,{id:"apiKey",type:s?"text":"password",placeholder:"sk-...",value:r.apiKey,onChange:h=>u("apiKey",h.target.value),className:"pr-10"}),p.jsx(Ee,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full w-10",onClick:()=>o(!s),children:s?p.jsx(jx,{className:"w-4 h-4"}):p.jsx(Mx,{className:"w-4 h-4"})})]}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Your API key is stored locally and never sent to our servers."})]}),p.jsxs("div",{className:"grid gap-2",children:[p.jsx(Kt,{htmlFor:"model",children:"Model"}),p.jsxs(yP,{value:r.model,onValueChange:h=>u("model",h),children:[p.jsx(bg,{children:p.jsx(bP,{placeholder:"Select a model"})}),p.jsx(wg,{children:d.map(h=>p.jsx(xg,{value:h.id,children:h.name},h.id))})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(Kt,{htmlFor:"streaming",children:"Streaming"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable real-time response streaming"})]}),p.jsx(fg,{id:"streaming",checked:r.streaming,onCheckedChange:h=>u("streaming",h)})]}),p.jsx(Eu,{children:p.jsxs(Tu,{children:["Get your API key from"," ",p.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"OpenAI Platform"}),". Usage will be charged to your OpenAI account."]})})]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(Ee,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),p.jsx(Ee,{onClick:c,disabled:a||!r.apiKey.trim(),children:a?"Saving...":"Save Settings"})]})]})]})}class Df{static getSettings(){const e=localStorage.getItem(this.STORAGE_KEY);if(e)try{return JSON.parse(e)}catch(n){console.error("Error parsing Anam settings:",n)}return{sessionToken:""}}static saveSettings(e){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}}ti(Df,"STORAGE_KEY","anam_settings");function GK({onSettingsChange:t}){const[e,n]=m.useState(!1),[r,i]=m.useState(Df.getSettings()),[s,o]=m.useState(!1),[a,l]=m.useState(!1),c=async()=>{l(!0);try{Df.saveSettings(r),t==null||t(),n(!1)}catch(d){console.error("Error saving settings:",d)}finally{l(!1)}},u=(d,h)=>{i(f=>({...f,[d]:h}))};return p.jsxs(ja,{open:e,onOpenChange:n,children:[p.jsx(vm,{asChild:!0,children:p.jsx(Ee,{variant:"outline",size:"icon",children:p.jsx(Dc,{className:"w-4 h-4"})})}),p.jsxs(no,{className:"sm:max-w-[425px]",children:[p.jsxs(Ma,{children:[p.jsx(Oa,{children:"Anam Settings"}),p.jsx(Da,{children:"Configure your Anam session token for video chat functionality."})]}),p.jsxs("div",{className:"grid gap-4 py-4",children:[p.jsxs("div",{className:"grid gap-2",children:[p.jsx(Kt,{htmlFor:"sessionToken",children:"Session Token"}),p.jsxs("div",{className:"relative",children:[p.jsx(rr,{id:"sessionToken",type:s?"text":"password",placeholder:"eyJhbGciOiJIUzI1NiJ9...",value:r.sessionToken,onChange:d=>u("sessionToken",d.target.value),className:"pr-10"}),p.jsx(Ee,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full w-10",onClick:()=>o(!s),children:s?p.jsx(jx,{className:"w-4 h-4"}):p.jsx(Mx,{className:"w-4 h-4"})})]}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Your session token is stored locally and used for Anam video chat sessions."})]}),p.jsx(Eu,{children:p.jsx(Tu,{children:"Get your session token from your Anam dashboard or API endpoint. This token is required for video chat functionality."})})]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(Ee,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),p.jsx(Ee,{onClick:c,disabled:a||!r.sessionToken.trim(),children:a?"Saving...":"Save Settings"})]})]})]})}function YK(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var _P=["PageUp","PageDown"],SP=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],CP={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ao="Slider",[$f,XK,JK]=Ac(ao),[kP,UJ]=Gs(ao,[JK]),[QK,Pu]=kP(ao),EP=m.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:u,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:f=!1,form:v,...g}=t,y=m.useRef(new Set),b=m.useRef(0),w=o==="horizontal"?ZK:eG,[_=[],C]=Ic({prop:u,defaultProp:c,onChange:j=>{var V;(V=[...y.current][b.current])==null||V.focus(),d(j)}}),S=m.useRef(_);function k(j){const M=sG(_,j);A(j,M)}function T(j){A(j,b.current)}function N(){const j=S.current[b.current];_[b.current]!==j&&h(_)}function A(j,M,{commit:V}={commit:!1}){const D=cG(s),B=uG(Math.round((j-r)/s)*s+r,D),F=lg(B,[r,i]);C((U=[])=>{const I=rG(U,F,M);if(lG(I,l*s)){b.current=I.indexOf(F);const R=String(I)!==String(U);return R&&V&&h(I),R?I:U}else return U})}return p.jsx(QK,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:b,thumbs:y.current,values:_,orientation:o,form:v,children:p.jsx($f.Provider,{scope:t.__scopeSlider,children:p.jsx($f.Slot,{scope:t.__scopeSlider,children:p.jsx(w,{"aria-disabled":a,"data-disabled":a?"":void 0,...g,ref:e,onPointerDown:te(g.onPointerDown,()=>{a||(S.current=_)}),min:r,max:i,inverted:f,onSlideStart:a?void 0:k,onSlideMove:a?void 0:T,onSlideEnd:a?void 0:N,onHomeKeyDown:()=>!a&&A(r,0,{commit:!0}),onEndKeyDown:()=>!a&&A(i,_.length-1,{commit:!0}),onStepKeyDown:({event:j,direction:M})=>{if(!a){const B=_P.includes(j.key)||j.shiftKey&&SP.includes(j.key)?10:1,F=b.current,U=_[F],I=s*B*M;A(U+I,F,{commit:!0})}}})})})})});EP.displayName=ao;var[TP,PP]=kP(ao,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ZK=m.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=t,[d,h]=m.useState(null),f=Re(e,w=>h(w)),v=m.useRef(),g=pu(i),y=g==="ltr",b=y&&!s||!y&&s;function x(w){const _=v.current||d.getBoundingClientRect(),C=[0,_.width],k=_g(C,b?[n,r]:[r,n]);return v.current=_,k(w-_.left)}return p.jsx(TP,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:p.jsx(AP,{dir:g,"data-orientation":"horizontal",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const _=x(w.clientX);o==null||o(_)},onSlideMove:w=>{const _=x(w.clientX);a==null||a(_)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:w=>{const C=CP[b?"from-left":"from-right"].includes(w.key);c==null||c({event:w,direction:C?-1:1})}})})}),eG=m.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=t,u=m.useRef(null),d=Re(e,u),h=m.useRef(),f=!i;function v(g){const y=h.current||u.current.getBoundingClientRect(),b=[0,y.height],w=_g(b,f?[r,n]:[n,r]);return h.current=y,w(g-y.top)}return p.jsx(TP,{scope:t.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:p.jsx(AP,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const y=v(g.clientY);s==null||s(y)},onSlideMove:g=>{const y=v(g.clientY);o==null||o(y)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:g=>{const b=CP[f?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:b?-1:1})}})})}),AP=m.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=t,u=Pu(ao,n);return p.jsx(Ce.span,{...c,ref:e,onKeyDown:te(t.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(a(d),d.preventDefault()):_P.concat(SP).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:te(t.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),u.thumbs.has(h)?h.focus():r(d)}),onPointerMove:te(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&i(d)}),onPointerUp:te(t.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),s(d))})})}),RP="SliderTrack",IP=m.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Pu(RP,n);return p.jsx(Ce.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});IP.displayName=RP;var Lf="SliderRange",NP=m.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Pu(Lf,n),s=PP(Lf,n),o=m.useRef(null),a=Re(e,o),l=i.values.length,c=i.values.map(h=>MP(h,i.min,i.max)),u=l>1?Math.min(...c):0,d=100-Math.max(...c);return p.jsx(Ce.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[s.startEdge]:u+"%",[s.endEdge]:d+"%"}})});NP.displayName=Lf;var Ff="SliderThumb",jP=m.forwardRef((t,e)=>{const n=XK(t.__scopeSlider),[r,i]=m.useState(null),s=Re(e,a=>i(a)),o=m.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return p.jsx(tG,{...t,ref:s,index:o})}),tG=m.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,o=Pu(Ff,n),a=PP(Ff,n),[l,c]=m.useState(null),u=Re(e,x=>c(x)),d=l?o.form||!!l.closest("form"):!0,h=u_(l),f=o.values[r],v=f===void 0?0:MP(f,o.min,o.max),g=iG(r,o.values.length),y=h==null?void 0:h[a.size],b=y?oG(y,v,a.direction):0;return m.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${b}px)`},children:[p.jsx($f.ItemSlot,{scope:t.__scopeSlider,children:p.jsx(Ce.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:u,style:f===void 0?{display:"none"}:t.style,onFocus:te(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),d&&p.jsx(nG,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},r)]})});jP.displayName=Ff;var nG=t=>{const{value:e,...n}=t,r=m.useRef(null),i=YK(e);return m.useEffect(()=>{const s=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&l){const c=new Event("input",{bubbles:!0});l.call(s,e),s.dispatchEvent(c)}},[i,e]),p.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function rG(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function MP(t,e,n){const s=100/(n-e)*(t-e);return lg(s,[0,100])}function iG(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function sG(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function oG(t,e,n){const r=t/2,s=_g([0,50],[0,r]);return(r-s(e)*n)*n}function aG(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function lG(t,e){if(e>0){const n=aG(t);return Math.min(...n)>=e}return!0}function _g(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function cG(t){return(String(t).split(".")[1]||"").length}function uG(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var OP=EP,dG=IP,hG=NP,fG=jP;const DP=m.forwardRef(({className:t,...e},n)=>p.jsxs(OP,{ref:n,className:ee("relative flex w-full touch-none select-none items-center",t),...e,children:[p.jsx(dG,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:p.jsx(hG,{className:"absolute h-full bg-primary"})}),p.jsx(fG,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));DP.displayName=OP.displayName;function pG({onSettingsChange:t}){const[e,n]=m.useState(!1),[r,i]=m.useState(nr.getSettings()),[s,o]=m.useState(!1),[a,l]=m.useState(null),c=async()=>{o(!0);try{nr.saveSettings(r),t==null||t(),n(!1)}catch(f){console.error("Error saving settings:",f)}finally{o(!1)}},u=(f,v)=>{i(g=>({...g,[f]:v}))},d=async()=>{l(null);const f=await nr.checkHealth(r.apiUrl);l(f)},h=[{id:"conversational",name:"Conversational",description:"Natural, detailed responses"},{id:"structured",name:"Structured",description:"Organized data format"},{id:"brief",name:"Brief",description:"Concise, quick answers"}];return p.jsxs(ja,{open:e,onOpenChange:n,children:[p.jsx(vm,{asChild:!0,children:p.jsx(Ee,{variant:"outline",size:"icon",children:p.jsx(Jg,{className:"w-4 h-4"})})}),p.jsxs(no,{className:"sm:max-w-[500px] max-h-[80vh] overflow-y-auto",children:[p.jsxs(Ma,{children:[p.jsxs(Oa,{className:"flex items-center gap-2",children:[p.jsx(Jg,{className:"w-5 h-5"}),"Private Markets Intelligence Settings"]}),p.jsx(Da,{children:"Configure your connection to the Private Markets Intelligence Agent for specialized financial data."})]}),p.jsxs("div",{className:"grid gap-4 py-4",children:[p.jsxs("div",{className:"grid gap-2",children:[p.jsxs(Kt,{htmlFor:"apiUrl",className:"flex items-center gap-2",children:[p.jsx(Y2,{className:"w-4 h-4"}),"API URL"]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(rr,{id:"apiUrl",type:"url",value:r.apiUrl,onChange:f=>u("apiUrl",f.target.value),placeholder:"https://merry-creativity-production.up.railway.app"}),p.jsx(Ee,{variant:"outline",size:"sm",onClick:d,children:"Test"})]}),a!==null&&p.jsx("p",{className:`text-xs ${a?"text-green-600":"text-red-600"}`,children:a?" API is healthy":" API is not responding"})]}),p.jsxs("div",{className:"grid gap-2",children:[p.jsxs(Kt,{htmlFor:"userId",className:"flex items-center gap-2",children:[p.jsx(Ox,{className:"w-4 h-4"}),"User ID"]}),p.jsx(rr,{id:"userId",value:r.userId,onChange:f=>u("userId",f.target.value),placeholder:"user-123"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique identifier for your conversations and session management."})]}),p.jsxs("div",{className:"grid gap-2",children:[p.jsx(Kt,{htmlFor:"appId",children:"App ID"}),p.jsx(rr,{id:"appId",value:r.appId,onChange:f=>u("appId",f.target.value),placeholder:"frondex-chat"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Application identifier for multi-app support."})]}),p.jsxs("div",{className:"grid gap-2",children:[p.jsx(Kt,{htmlFor:"responseFormat",children:"Response Format"}),p.jsxs(yP,{value:r.responseFormat,onValueChange:f=>u("responseFormat",f),children:[p.jsx(bg,{children:p.jsx(bP,{placeholder:"Select response format"})}),p.jsx(wg,{children:h.map(f=>p.jsx(xg,{value:f.id,children:p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:f.name}),p.jsx("div",{className:"text-xs text-muted-foreground",children:f.description})]})},f.id))})]})]}),p.jsxs("div",{className:"grid gap-2",children:[p.jsxs(Kt,{htmlFor:"maxResults",children:["Max Results: ",r.maxResults]}),p.jsx(DP,{id:"maxResults",min:1,max:20,step:1,value:[r.maxResults],onValueChange:f=>u("maxResults",f[0]),className:"w-full"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum number of entities to return per query."})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(Kt,{htmlFor:"includeCharts",children:"Include Visualizations"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable chart and visualization suggestions"})]}),p.jsx(fg,{id:"includeCharts",checked:r.includeCharts,onCheckedChange:f=>u("includeCharts",f)})]}),p.jsx(Eu,{children:p.jsxs(Tu,{children:[p.jsx("strong",{children:"Private Markets Intelligence Agent"})," provides specialized access to private equity, venture capital, and hedge fund data with conversational context and rich structured responses."]})})]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(Ee,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),p.jsx(Ee,{onClick:c,disabled:s||!r.apiUrl.trim(),children:s?"Saving...":"Save Settings"})]})]})]})}const mG=()=>{const[t,e]=m.useState(!1),[n,r]=m.useState(""),[i,s]=m.useState(""),[o,a]=m.useState(""),{toast:l}=Mi(),c=d=>{d.preventDefault(),n==="admin"&&i==="admin123"?(e(!0),a(""),l({title:"Welcome",description:"Successfully logged into admin panel."})):(a("Invalid credentials"),l({title:"Login Failed",description:"Invalid username or password.",variant:"destructive"}))},u=d=>{l({title:"Settings Updated",description:`Your ${d} settings have been saved.`})};return t?p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx("div",{className:"border-b bg-white",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>window.history.back(),children:p.jsx(Oc,{className:"w-4 h-4"})}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Panel"})]}),p.jsx(Ee,{variant:"outline",onClick:()=>{e(!1),r(""),s("")},children:"Logout"})]})})}),p.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:p.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[p.jsxs(hs,{children:[p.jsxs(ko,{children:[p.jsx(Eo,{className:"flex items-center gap-2",children:"OpenAI Settings"}),p.jsx(To,{children:"Configure OpenAI API key and model preferences"})]}),p.jsx(Po,{children:p.jsx(KK,{onSettingsChange:()=>u("OpenAI")})})]}),p.jsxs(hs,{children:[p.jsxs(ko,{children:[p.jsx(Eo,{className:"flex items-center gap-2",children:"Anam Settings"}),p.jsx(To,{children:"Configure Anam session token and avatar settings"})]}),p.jsx(Po,{children:p.jsx(GK,{onSettingsChange:()=>u("Anam")})})]}),p.jsxs(hs,{children:[p.jsxs(ko,{children:[p.jsx(Eo,{className:"flex items-center gap-2",children:"Private Markets Settings"}),p.jsx(To,{children:"Configure Private Markets Intelligence Agent settings"})]}),p.jsx(Po,{children:p.jsx(pG,{onSettingsChange:()=>u("Private Markets")})})]})]})})]}):p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:p.jsxs(hs,{className:"w-full max-w-md",children:[p.jsxs(ko,{className:"text-center",children:[p.jsx(Eo,{children:"Admin Access"}),p.jsx(To,{children:"Enter your credentials to continue"})]}),p.jsx(Po,{children:p.jsxs("form",{onSubmit:c,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Kt,{htmlFor:"username",children:"Username"}),p.jsx(rr,{id:"username",type:"text",value:n,onChange:d=>r(d.target.value),placeholder:"Enter username",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Kt,{htmlFor:"password",children:"Password"}),p.jsx(rr,{id:"password",type:"password",value:i,onChange:d=>s(d.target.value),placeholder:"Enter password",required:!0})]}),o&&p.jsx("p",{className:"text-sm text-red-600",children:o}),p.jsx(Ee,{type:"submit",className:"w-full",children:"Login"})]})})]})})},Or=(t,e,n)=>{const r=document.createElement(t),[i,s]=Array.isArray(e)?[void 0,e]:[e,n];return i&&Object.assign(r,i),s==null||s.forEach(o=>r.appendChild(o)),r},gG=(t,e)=>{var n;return e==="left"?t.offsetLeft:(((n=t.offsetParent instanceof HTMLElement?t.offsetParent:null)==null?void 0:n.offsetWidth)??0)-t.offsetWidth-t.offsetLeft},vG=t=>t.offsetWidth>0&&t.offsetHeight>0,yG=(t,e)=>{!customElements.get(t)&&customElements.define(t,e)};function bG(t,e,{reverse:n=!1}={}){const r=t.length;for(let i=n?r-1:0;n?i>=0:i<r;n?i--:i++)e(t[i],i)}function wG(t,e,n,r){const i=e.formatToParts(t);n&&i.unshift({type:"prefix",value:n}),r&&i.push({type:"suffix",value:r});const s=[],o=[],a=[],l=[],c={},u=g=>`${g}:${c[g]=(c[g]??-1)+1}`;let d="",h=!1,f=!1;for(const g of i){d+=g.value;const y=g.type==="minusSign"||g.type==="plusSign"?"sign":g.type;y==="integer"?(h=!0,o.push(...g.value.split("").map(b=>({type:y,value:parseInt(b)})))):y==="group"?o.push({type:y,value:g.value}):y==="decimal"?(f=!0,a.push({type:y,value:g.value,key:u(y)})):y==="fraction"?a.push(...g.value.split("").map(b=>({type:y,value:parseInt(b),key:u(y),pos:-1-c[y]}))):(h||f?l:s).push({type:y,value:g.value,key:u(y)})}const v=[];for(let g=o.length-1;g>=0;g--){const y=o[g];v.unshift(y.type==="integer"?{...y,key:u(y.type),pos:c[y.type]}:{...y,key:u(y.type)})}return{pre:s,integer:v,fraction:a,post:l,valueAsString:d,value:typeof t=="string"?parseFloat(t):t}}const xG=String.raw,_G=(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0})(),SG=typeof CSS<"u"&&CSS.supports&&CSS.supports("line-height","mod(1,1)"),Nb=typeof matchMedia<"u"?matchMedia("(prefers-reduced-motion: reduce)"):null,dc="--_number-flow-d-opacity",Sg="--_number-flow-d-width",hc="--_number-flow-dx",Cg="--_number-flow-d",CG=(()=>{try{return CSS.registerProperty({name:dc,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:hc,syntax:"<length>",inherits:!0,initialValue:"0px"}),CSS.registerProperty({name:Sg,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:Cg,syntax:"<number>",inherits:!0,initialValue:"0"}),!0}catch{return!1}})(),kG="var(--number-flow-char-height, 1em)",Cr="var(--number-flow-mask-height, 0.25em)",jb=`calc(${Cr} / 2)`,Bf="var(--number-flow-mask-width, 0.5em)",oi=`calc(${Bf} / var(--scale-x))`,bl="#000 0, transparent 71%",Mb=xG`:host{display:inline-block;direction:ltr;white-space:nowrap;isolation:isolate;line-height:${kG} !important}.number,.number__inner{display:inline-block;transform-origin:left top}:host([data-will-change]) :is(.number,.number__inner,.section,.digit,.digit__num,.symbol){will-change:transform}.number{--scale-x:calc(1 + var(${Sg}) / var(--width));transform:translateX(var(${hc})) scaleX(var(--scale-x));margin:0 calc(-1 * ${Bf});position:relative;-webkit-mask-image:linear-gradient(to right,transparent 0,#000 ${oi},#000 calc(100% - ${oi}),transparent ),linear-gradient(to bottom,transparent 0,#000 ${Cr},#000 calc(100% - ${Cr}),transparent 100% ),radial-gradient(at bottom right,${bl}),radial-gradient(at bottom left,${bl}),radial-gradient(at top left,${bl}),radial-gradient(at top right,${bl});-webkit-mask-size:100% calc(100% - ${Cr} * 2),calc(100% - ${oi} * 2) 100%,${oi} ${Cr},${oi} ${Cr},${oi} ${Cr},${oi} ${Cr};-webkit-mask-position:center,center,top left,top right,bottom right,bottom left;-webkit-mask-repeat:no-repeat}.number__inner{padding:${jb} ${Bf};transform:scaleX(calc(1 / var(--scale-x))) translateX(calc(-1 * var(${hc})))}:host > :not(.number){z-index:5}.section,.symbol{display:inline-block;position:relative;isolation:isolate}.section::after{content:'\200b';display:inline-block}.section--justify-left{transform-origin:center left}.section--justify-right{transform-origin:center right}.section > [inert],.symbol > [inert]{margin:0 !important;position:absolute !important;z-index:-1}.digit{display:inline-block;position:relative;--c:var(--current) + var(${Cg})}.digit__num,.number .section::after{padding:${jb} 0}.digit__num{display:inline-block;--offset-raw:mod(var(--length) + var(--n) - mod(var(--c),var(--length)),var(--length));--offset:calc( var(--offset-raw) - var(--length) * round(down,var(--offset-raw) / (var(--length) / 2),1) );--y:clamp(-100%,var(--offset) * 100%,100%);transform:translateY(var(--y))}.digit__num[inert]{position:absolute;top:0;left:50%;transform:translateX(-50%) translateY(var(--y))}.digit:not(.is-spinning) .digit__num[inert]{display:none}.symbol__value{display:inline-block;mix-blend-mode:plus-lighter;white-space:pre}.section--justify-left .symbol > [inert]{left:0}.section--justify-right .symbol > [inert]{right:0}.animate-presence{opacity:calc(1 + var(${dc}))}`,EG=HTMLElement,TG=SG&&_G&&CG;let wl,$P=class extends EG{constructor(){super(),this.created=!1,this.batched=!1;const{animated:e,...n}=this.constructor.defaultProps;this._animated=this.computedAnimated=e,Object.assign(this,n)}get animated(){return this._animated}set animated(e){var n;this.animated!==e&&(this._animated=e,(n=this.shadowRoot)==null||n.getAnimations().forEach(r=>r.finish()))}set data(e){var n;if(e==null)return;const{pre:r,integer:i,fraction:s,post:o,value:a}=e;if(this.created){const l=this._data;this._data=e,this.computedTrend=typeof this.trend=="function"?this.trend(l.value,a):this.trend,this.computedAnimated=TG&&this._animated&&(!this.respectMotionPreference||!(Nb!=null&&Nb.matches))&&vG(this),(n=this.plugins)==null||n.forEach(c=>{var u;return(u=c.onUpdate)==null?void 0:u.call(c,e,l,this)}),this.batched||this.willUpdate(),this._pre.update(r),this._num.update({integer:i,fraction:s}),this._post.update(o),this.batched||this.didUpdate()}else{this._data=e,this.attachShadow({mode:"open"});try{this._internals??(this._internals=this.attachInternals()),this._internals.role="img"}catch{}if(typeof CSSStyleSheet<"u"&&this.shadowRoot.adoptedStyleSheets)wl||(wl=new CSSStyleSheet,wl.replaceSync(Mb)),this.shadowRoot.adoptedStyleSheets=[wl];else{const l=document.createElement("style");l.textContent=Mb,this.shadowRoot.appendChild(l)}this._pre=new Db(this,r,{justify:"right",part:"left"}),this.shadowRoot.appendChild(this._pre.el),this._num=new PG(this,i,s),this.shadowRoot.appendChild(this._num.el),this._post=new Db(this,o,{justify:"left",part:"right"}),this.shadowRoot.appendChild(this._post.el),this.created=!0}try{this._internals.ariaLabel=e.valueAsString}catch{}}willUpdate(){this._pre.willUpdate(),this._num.willUpdate(),this._post.willUpdate()}didUpdate(){if(!this.computedAnimated)return;this._abortAnimationsFinish?this._abortAnimationsFinish.abort():this.dispatchEvent(new Event("animationsstart")),this._pre.didUpdate(),this._num.didUpdate(),this._post.didUpdate();const e=new AbortController;Promise.all(this.shadowRoot.getAnimations().map(n=>n.finished)).then(()=>{e.signal.aborted||(this.dispatchEvent(new Event("animationsfinish")),this._abortAnimationsFinish=void 0)}),this._abortAnimationsFinish=e}};$P.defaultProps={transformTiming:{duration:900,easing:"linear(0,.005,.019,.039,.066,.096,.129,.165,.202,.24,.278,.316,.354,.39,.426,.461,.494,.526,.557,.586,.614,.64,.665,.689,.711,.731,.751,.769,.786,.802,.817,.831,.844,.856,.867,.877,.887,.896,.904,.912,.919,.925,.931,.937,.942,.947,.951,.955,.959,.962,.965,.968,.971,.973,.976,.978,.98,.981,.983,.984,.986,.987,.988,.989,.99,.991,.992,.992,.993,.994,.994,.995,.995,.996,.996,.9963,.9967,.9969,.9972,.9975,.9977,.9979,.9981,.9982,.9984,.9985,.9987,.9988,.9989,1)"},spinTiming:void 0,opacityTiming:{duration:450,easing:"ease-out"},animated:!0,trend:(t,e)=>Math.sign(e-t),respectMotionPreference:!0,plugins:void 0,digits:void 0};let PG=class{constructor(e,n,r,{className:i,...s}={}){this.flow=e,this._integer=new Ob(e,n,{justify:"right",part:"integer"}),this._fraction=new Ob(e,r,{justify:"left",part:"fraction"}),this._inner=Or("span",{className:"number__inner"},[this._integer.el,this._fraction.el]),this.el=Or("span",{...s,part:"number",className:`number ${i??""}`},[this._inner])}willUpdate(){this._prevWidth=this.el.offsetWidth,this._prevLeft=this.el.getBoundingClientRect().left,this._integer.willUpdate(),this._fraction.willUpdate()}update({integer:e,fraction:n}){this._integer.update(e),this._fraction.update(n)}didUpdate(){const e=this.el.getBoundingClientRect();this._integer.didUpdate(),this._fraction.didUpdate();const n=this._prevLeft-e.left,r=this.el.offsetWidth,i=this._prevWidth-r;this.el.style.setProperty("--width",String(r)),this.el.animate({[hc]:[`${n}px`,"0px"],[Sg]:[i,0]},{...this.flow.transformTiming,composite:"accumulate"})}},LP=class{constructor(e,n,{justify:r,className:i,...s},o){this.flow=e,this.children=new Map,this.onCharRemove=l=>()=>{this.children.delete(l)},this.justify=r;const a=n.map(l=>this.addChar(l).el);this.el=Or("span",{...s,className:`section section--justify-${r} ${i??""}`},o?o(a):a)}addChar(e,{startDigitsAtZero:n=!1,...r}={}){const i=e.type==="integer"||e.type==="fraction"?new BP(this,e.type,n?0:e.value,e.pos,{...r,onRemove:this.onCharRemove(e.key)}):new AG(this,e.type,e.value,{...r,onRemove:this.onCharRemove(e.key)});return this.children.set(e.key,i),i}unpop(e){e.el.removeAttribute("inert"),e.el.style.top="",e.el.style[this.justify]=""}pop(e){e.forEach(n=>{n.el.style.top=`${n.el.offsetTop}px`,n.el.style[this.justify]=`${gG(n.el,this.justify)}px`}),e.forEach(n=>{n.el.setAttribute("inert",""),n.present=!1})}addNewAndUpdateExisting(e){const n=new Map,r=new Map,i=this.justify==="left",s=i?"prepend":"append";if(bG(e,o=>{let a;this.children.has(o.key)?(a=this.children.get(o.key),r.set(o,a),this.unpop(a),a.present=!0):(a=this.addChar(o,{startDigitsAtZero:!0,animateIn:!0}),n.set(o,a)),this.el[s](a.el)},{reverse:i}),this.flow.computedAnimated){const o=this.el.getBoundingClientRect();n.forEach(a=>{a.willUpdate(o)})}n.forEach((o,a)=>{o.update(a.value)}),r.forEach((o,a)=>{o.update(a.value)})}willUpdate(){const e=this.el.getBoundingClientRect();this._prevOffset=e[this.justify],this.children.forEach(n=>n.willUpdate(e))}didUpdate(){const e=this.el.getBoundingClientRect();this.children.forEach(i=>i.didUpdate(e));const n=e[this.justify],r=this._prevOffset-n;r&&this.children.size&&this.el.animate({transform:[`translateX(${r}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}},Ob=class extends LP{update(e){const n=new Map;this.children.forEach((r,i)=>{e.find(s=>s.key===i)||n.set(i,r),this.unpop(r)}),this.addNewAndUpdateExisting(e),n.forEach(r=>{r instanceof BP&&r.update(0)}),this.pop(n)}},Db=class extends LP{update(e){const n=new Map;this.children.forEach((r,i)=>{e.find(s=>s.key===i)||n.set(i,r)}),this.pop(n),this.addNewAndUpdateExisting(e)}},Uf=class{constructor(e,n,{onRemove:r,animateIn:i=!1}={}){this.flow=e,this.el=n,this._present=!0,this._remove=()=>{var s;this.el.remove(),(s=this._onRemove)==null||s.call(this)},this.el.classList.add("animate-presence"),this.flow.computedAnimated&&i&&this.el.animate({[dc]:[-.9999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),this._onRemove=r}get present(){return this._present}set present(e){if(this._present!==e){if(this._present=e,e?this.el.removeAttribute("inert"):this.el.setAttribute("inert",""),!this.flow.computedAnimated){e||this._remove();return}this.el.style.setProperty("--_number-flow-d-opacity",e?"0":"-.999"),this.el.animate({[dc]:e?[-.9999,0]:[.999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),e?this.flow.removeEventListener("animationsfinish",this._remove):this.flow.addEventListener("animationsfinish",this._remove,{once:!0})}}},FP=class extends Uf{constructor(e,n,r,i){super(e.flow,r,i),this.section=e,this.value=n,this.el=r}},BP=class extends FP{constructor(e,n,r,i,s){var o,a;const l=(((a=(o=e.flow.digits)==null?void 0:o[i])==null?void 0:a.max)??9)+1,c=Array.from({length:l}).map((d,h)=>{const f=Or("span",{className:"digit__num"},[document.createTextNode(String(h))]);return h!==r&&f.setAttribute("inert",""),f.style.setProperty("--n",String(h)),f}),u=Or("span",{part:`digit ${n}-digit`,className:"digit"},c);u.style.setProperty("--current",String(r)),u.style.setProperty("--length",String(l)),super(e,r,u,s),this.pos=i,this._onAnimationsFinish=()=>{this.el.classList.remove("is-spinning")},this._numbers=c,this.length=l}willUpdate(e){const n=this.el.getBoundingClientRect();this._prevValue=this.value;const r=n[this.section.justify]-e[this.section.justify],i=n.width/2;this._prevCenter=this.section.justify==="left"?r+i:r-i}update(e){this.el.style.setProperty("--current",String(e)),this._numbers.forEach((n,r)=>r===e?n.removeAttribute("inert"):n.setAttribute("inert","")),this.value=e}didUpdate(e){const n=this.el.getBoundingClientRect(),r=n[this.section.justify]-e[this.section.justify],i=n.width/2,s=this.section.justify==="left"?r+i:r-i,o=this._prevCenter-s;o&&this.el.animate({transform:[`translateX(${o}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"});const a=this.getDelta();a&&(this.el.classList.add("is-spinning"),this.el.animate({[Cg]:[-a,0]},{...this.flow.spinTiming??this.flow.transformTiming,composite:"accumulate"}),this.flow.addEventListener("animationsfinish",this._onAnimationsFinish,{once:!0}))}getDelta(){var e;if(this.flow.plugins)for(const i of this.flow.plugins){const s=(e=i.getDelta)==null?void 0:e.call(i,this.value,this._prevValue,this);if(s!=null)return s}const n=this.value-this._prevValue,r=this.flow.computedTrend||Math.sign(n);return r<0&&this.value>this._prevValue?this.value-this.length-this._prevValue:r>0&&this.value<this._prevValue?this.length-this._prevValue+this.value:n}},AG=class extends FP{constructor(e,n,r,i){const s=Or("span",{className:"symbol__value",textContent:r});super(e,r,Or("span",{part:`symbol ${n}`,className:"symbol"},[s]),i),this.type=n,this._children=new Map,this._onChildRemove=o=>()=>{this._children.delete(o)},this._children.set(r,new Uf(this.flow,s,{onRemove:this._onChildRemove(r)}))}willUpdate(e){if(this.type==="decimal")return;const n=this.el.getBoundingClientRect();this._prevOffset=n[this.section.justify]-e[this.section.justify]}update(e){if(this.value!==e){const n=this._children.get(this.value);n&&(n.present=!1);const r=this._children.get(e);if(r)r.present=!0;else{const i=Or("span",{className:"symbol__value",textContent:e});this.el.appendChild(i),this._children.set(e,new Uf(this.flow,i,{animateIn:!0,onRemove:this._onChildRemove(e)}))}}this.value=e}didUpdate(e){if(this.type==="decimal")return;const n=this.el.getBoundingClientRect()[this.section.justify]-e[this.section.justify],r=this._prevOffset-n;r&&this.el.animate({transform:[`translateX(${r}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}};var tx;const RG=parseInt((tx=m.version.match(/^(\d+)\./))==null?void 0:tx[1]),kg=RG>=19,IG=["data","digits"];class Eg extends $P{attributeChangedCallback(e,n,r){this[e]=JSON.parse(r)}}Eg.observedAttributes=kg?[]:IG;yG("number-flow-react",Eg);const Kd={},$b=kg?t=>t:JSON.stringify;function Lb(t){const{transformTiming:e,spinTiming:n,opacityTiming:r,animated:i,respectMotionPreference:s,trend:o,plugins:a,...l}=t;return[{transformTiming:e,spinTiming:n,opacityTiming:r,animated:i,respectMotionPreference:s,trend:o,plugins:a},l]}class NG extends m.Component{updateProperties(e){if(!this.el)return;this.el.batched=!this.props.isolate;const[n]=Lb(this.props);Object.entries(n).forEach(([r,i])=>{this.el[r]=i??Eg.defaultProps[r]}),e!=null&&e.onAnimationsStart&&this.el.removeEventListener("animationsstart",e.onAnimationsStart),this.props.onAnimationsStart&&this.el.addEventListener("animationsstart",this.props.onAnimationsStart),e!=null&&e.onAnimationsFinish&&this.el.removeEventListener("animationsfinish",e.onAnimationsFinish),this.props.onAnimationsFinish&&this.el.addEventListener("animationsfinish",this.props.onAnimationsFinish)}componentDidMount(){this.updateProperties(),kg&&this.el&&(this.el.digits=this.props.digits,this.el.data=this.props.data)}getSnapshotBeforeUpdate(e){var n;if(this.updateProperties(e),e.data!==this.props.data){if(this.props.group)return this.props.group.willUpdate(),()=>{var r;return(r=this.props.group)==null?void 0:r.didUpdate()};if(!this.props.isolate)return(n=this.el)==null||n.willUpdate(),()=>{var r;return(r=this.el)==null?void 0:r.didUpdate()}}return null}componentDidUpdate(e,n,r){r==null||r()}handleRef(e){this.props.innerRef&&(this.props.innerRef.current=e),this.el=e}render(){const[e,{innerRef:n,className:r,data:i,willChange:s,isolate:o,group:a,digits:l,onAnimationsStart:c,onAnimationsFinish:u,...d}]=Lb(this.props);return m.createElement("number-flow-react",{ref:this.handleRef,"data-will-change":s?"":void 0,class:r,...d,dangerouslySetInnerHTML:{__html:""},suppressHydrationWarning:!0,digits:$b(l),data:$b(i)})}constructor(e){super(e),this.handleRef=this.handleRef.bind(this)}}const jG=m.forwardRef(function({value:e,locales:n,format:r,prefix:i,suffix:s,...o},a){m.useImperativeHandle(a,()=>l.current,[]);const l=m.useRef(),c=m.useContext(MG);c==null||c.useRegister(l);const u=m.useMemo(()=>n?JSON.stringify(n):"",[n]),d=m.useMemo(()=>r?JSON.stringify(r):"",[r]),h=m.useMemo(()=>{var v;const f=Kd[v=`${u}:${d}`]??(Kd[v]=new Intl.NumberFormat(n,r));return wG(e,f,i,s)},[e,u,d,i,s]);return m.createElement(NG,{...o,group:c,data:h,innerRef:l})}),MG=m.createContext(void 0);function OG({tier:t,paymentFrequency:e}){const n=t.price[e],r=t.highlighted,i=t.popular;return p.jsxs(hs,{className:ee("relative flex flex-col gap-8 overflow-hidden p-6",r?"bg-foreground text-background":"bg-background text-foreground",i&&"ring-2 ring-primary"),children:[r&&p.jsx(DG,{}),i&&p.jsx($G,{}),p.jsxs("h2",{className:"flex items-center gap-3 text-xl font-medium capitalize",children:[t.name,i&&p.jsx(og,{variant:"secondary",className:"mt-1 z-10",children:" Most Popular"})]}),p.jsx("div",{className:"relative h-12",children:typeof n=="number"?p.jsxs(p.Fragment,{children:[p.jsx(jG,{format:{style:"currency",currency:"USD"},value:n,className:"text-4xl font-medium"}),p.jsx("p",{className:"-mt-2 text-xs text-muted-foreground",children:"Per month/user"})]}):p.jsx("h1",{className:"text-4xl font-medium",children:n})}),p.jsxs("div",{className:"flex-1 space-y-2",children:[p.jsx("h3",{className:"text-sm font-medium",children:t.description}),p.jsx("ul",{className:"space-y-2",children:t.features.map((s,o)=>p.jsxs("li",{className:ee("flex items-center gap-2 text-sm font-medium",r?"text-background":"text-muted-foreground"),children:[p.jsx(x2,{className:"h-4 w-4"}),s]},o))})]}),p.jsxs(Ee,{variant:r?"secondary":"default",className:"w-full",onClick:t.onSelect,children:[t.cta,p.jsx(v2,{className:"ml-2 h-4 w-4"})]})]})}const DG=()=>p.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#4f4f4f2e_1px,transparent_1px),linear-gradient(to_bottom,#4f4f4f2e_1px,transparent_1px)] bg-[size:45px_45px] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_0%,#000_70%,transparent_110%)]"}),$G=()=>p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_80%_80%_at_50%_-20%,rgba(120,119,198,0.1),rgba(255,255,255,0))]"});function LG({text:t,selected:e,setSelected:n,discount:r=!1}){return p.jsxs("button",{onClick:()=>n(t),className:ee("relative w-fit px-4 py-2 text-sm font-semibold capitalize","text-foreground transition-colors",r&&"flex items-center justify-center gap-2.5"),children:[p.jsx("span",{className:"relative z-10",children:t}),e&&p.jsx(Rn.span,{layoutId:"tab",transition:{type:"spring",duration:.4},className:"absolute inset-0 z-0 rounded-full bg-background shadow-sm"}),r&&p.jsx(og,{variant:"secondary",className:ee("relative z-10 whitespace-nowrap shadow-none",e&&"bg-muted"),children:"Save 35%"})]})}function FG({title:t,subtitle:e,tiers:n,frequencies:r}){const[i,s]=m.useState(r[0]);return p.jsxs("section",{className:"flex flex-col items-center gap-10 py-10",children:[p.jsxs("div",{className:"space-y-7 text-center",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx("h1",{className:"text-4xl font-medium md:text-5xl",children:t}),p.jsx("p",{className:"text-muted-foreground",children:e})]}),p.jsx("div",{className:"mx-auto flex w-fit rounded-full bg-muted p-1",children:r.map(o=>p.jsx(LG,{text:o,selected:i===o,setSelected:s,discount:o==="yearly"},o))})]}),p.jsx("div",{className:"grid w-full max-w-6xl gap-6 sm:grid-cols-2 xl:grid-cols-4",children:n.map(o=>p.jsx(OG,{tier:o,paymentFrequency:i},o.name))})]})}const BG=["monthly","yearly"],UG=()=>{const{user:t,loading:e}=Qc(),n=bp(),[r,i]=m.useState(!1),s=[{name:"Free",price:{monthly:"Free",yearly:"Free"},description:"For basic private markets questions",features:["5 queries/day (150/month)","Ask basic private markets questions","Public data lookups","Limited deal summaries","Community support"],cta:"Current Plan"},{name:"Pro",price:{monthly:200,yearly:170},description:"Advanced AI-powered insights",features:["1,000 agent queries/month","Everything in Free, plus:","Weekly AI-generated insights email","Deeper deal analysis & comps","Private project spaces","Portfolio monitoring alerts","Smart watchlists (AI-curated)","Role-based permissions","Credit rollover"],cta:"Join Waitlist",onSelect:()=>i(!0)},{name:"Business",price:{monthly:400,yearly:340},description:"Multi-agent workflows for teams",features:["2,500 agent queries/month","All features in Pro, plus:","Multi-agent workflows","Sector-specific research agents","AI-generated presentations & exports","API access (basic)","Team collaboration with shared memory","Option to exclude data from AI training"],cta:"Join Waitlist",onSelect:()=>i(!0)},{name:"Enterprise",price:{monthly:"Custom",yearly:"Custom"},description:"Dedicated AI agent for your firm",features:["Unlimited or custom allotment","Everything in Business, plus:","Dedicated AI agent fine-tuned to your firm","Multi-user orchestration & compliance controls","Advanced API & data feed integrations","CRM / Data room integration","Dedicated onboarding & training","24/7 priority support"],cta:"Join Waitlist",highlighted:!0,onSelect:()=>i(!0)}];return e?p.jsx("div",{className:"min-h-screen bg-background font-sans flex items-center justify-center",children:p.jsx("div",{children:"Loading..."})}):p.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[p.jsx("div",{className:"fixed top-4 left-4 z-10",children:p.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>n("/"),className:"gap-2",children:[p.jsx(Oc,{className:"w-4 h-4"}),"Back"]})}),p.jsxs("div",{className:"relative flex justify-center items-center w-full mt-20",children:[p.jsx("div",{className:"absolute inset-0 -z-10",children:p.jsx("div",{className:"h-full w-full bg-[linear-gradient(to_right,#4f4f4f2e_1px,transparent_1px),linear-gradient(to_bottom,#4f4f4f2e_1px,transparent_1px)] bg-[size:35px_35px] opacity-30 [mask-image:radial-gradient(ellipse_80%_50%_at_50%_0%,#000_70%,transparent_110%)]"})}),p.jsx(FG,{title:"Choose Your Plan",subtitle:"Select the perfect plan for your private markets AI needs",frequencies:BG,tiers:s})]}),p.jsx(Pk,{open:r,onOpenChange:i})]})},VG=new FM,zG=()=>p.jsx(UM,{client:VG,children:p.jsx(o$,{children:p.jsxs(gM,{children:[p.jsx(bN,{}),p.jsx(GN,{}),p.jsx(iR,{children:p.jsxs(sR,{children:[p.jsx(lo,{path:"/",element:p.jsx(VW,{})}),p.jsx(lo,{path:"/auth",element:p.jsx(WW,{})}),p.jsx(lo,{path:"/admin",element:p.jsx(mG,{})}),p.jsx(lo,{path:"/subscription",element:p.jsx(UG,{})}),p.jsx(lo,{path:"*",element:p.jsx(zW,{})})]})})]})})});var O=typeof window<"u"?window:void 0,Lt=typeof globalThis<"u"?globalThis:O,UP=Array.prototype,Fb=UP.forEach,Bb=UP.indexOf,Gt=Lt==null?void 0:Lt.navigator,J=Lt==null?void 0:Lt.document,Dt=Lt==null?void 0:Lt.location,Vf=Lt==null?void 0:Lt.fetch,zf=Lt!=null&&Lt.XMLHttpRequest&&"withCredentials"in new Lt.XMLHttpRequest?Lt.XMLHttpRequest:void 0,Ub=Lt==null?void 0:Lt.AbortController,Mt=Gt==null?void 0:Gt.userAgent,ce=O??{},er={DEBUG:!1,LIB_VERSION:"1.261.0"};function X(){return X=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X.apply(null,arguments)}function VP(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var HG=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function we(t,e){return t.indexOf(e)!==-1}var Au=function(t){return t.trim()},Hf=function(t){return t.replace(/^\$/,"")},WG=Array.isArray,zP=Object.prototype,HP=zP.hasOwnProperty,Ru=zP.toString,Be=WG||function(t){return Ru.call(t)==="[object Array]"},on=t=>typeof t=="function",Ge=t=>t===Object(t)&&!Be(t),fs=t=>{if(Ge(t)){for(var e in t)if(HP.call(t,e))return!1;return!0}return!1},G=t=>t===void 0,Je=t=>Ru.call(t)=="[object String]",Wf=t=>Je(t)&&t.trim().length===0,Qr=t=>t===null,ke=t=>G(t)||Qr(t),wt=t=>Ru.call(t)=="[object Number]",In=t=>Ru.call(t)==="[object Boolean]",qG=t=>t instanceof FormData,KG=t=>we(HG,t),GG=[!0,"true",1,"1","yes"],Gd=t=>we(GG,t),YG=[!1,"false",0,"0","no"];function Yt(t,e,n,r,i){return e>n&&(r.warn("min cannot be greater than max."),e=n),wt(t)?t>n?(r.warn(" cannot be  greater than max: "+n+". Using max value instead."),n):t<e?(r.warn(" cannot be less than min: "+e+". Using min value instead."),e):t:(r.warn(" must be a number. using max or fallback. max: "+n+", fallback: "+i),Yt(i||n,e,n,r))}class WP{stop(){this.t&&(clearInterval(this.t),this.t=void 0)}constructor(e){this.i=e,this.o={},this.h=()=>{Object.keys(this.o).forEach(n=>{var r=this.m(n)+this.S;r>=this.$?delete this.o[n]:this.k(n,r)})},this.m=n=>this.o[String(n)],this.k=(n,r)=>{this.o[String(n)]=r},this.consumeRateLimit=n=>{var r,i=(r=this.m(n))!=null?r:this.$;if((i=Math.max(i-1,0))===0)return!0;this.k(n,i);var s,o=i===0;return o&&((s=this.I)==null||s.call(this,n)),o},this.I=this.i.I,this.$=Yt(this.i.bucketSize,0,100,this.i.P),this.S=Yt(this.i.refillRate,0,this.$,this.i.P),this.R=Yt(this.i.refillInterval,0,864e5,this.i.P),this.t=setInterval(()=>{this.h()},this.R)}}var qP=t=>{var e={T:function(n){if(O&&(er.DEBUG||ce.POSTHOG_DEBUG)&&!G(O.console)&&O.console){for(var r=("__rrweb_original__"in O.console[n])?O.console[n].__rrweb_original__:O.console[n],i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];r(t,...s)}},info:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.T("log",...r)},warn:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.T("warn",...r)},error:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.T("error",...r)},critical:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];console.error(t,...r)},uninitializedWarning:n=>{e.error("You must initialize PostHog before calling "+n)},createLogger:n=>qP(t+" "+n)};return e},Y=qP("[PostHog.js]"),dt=Y.createLogger,XG=dt("[ExternalScriptsLoader]"),Vb=(t,e,n)=>{if(t.config.disable_external_dependency_loading)return XG.warn(e+" was requested but loading of external scripts is disabled."),n("Loading of external scripts is disabled");var r=J==null?void 0:J.querySelectorAll("script");if(r){for(var i=0;i<r.length;i++)if(r[i].src===e)return n()}var s=()=>{if(!J)return n("document not found");var o=J.createElement("script");if(o.type="text/javascript",o.crossOrigin="anonymous",o.src=e,o.onload=c=>n(void 0,c),o.onerror=c=>n(c),t.config.prepare_external_dependency_script&&(o=t.config.prepare_external_dependency_script(o)),!o)return n("prepare_external_dependency_script returned null");var a,l=J.querySelectorAll("body > script");l.length>0?(a=l[0].parentNode)==null||a.insertBefore(o,l[0]):J.body.appendChild(o)};J!=null&&J.body?s():J==null||J.addEventListener("DOMContentLoaded",s)};ce.__PosthogExtensions__=ce.__PosthogExtensions__||{},ce.__PosthogExtensions__.loadExternalDependency=(t,e,n)=>{var r="/static/"+e+".js?v="+t.version;if(e==="remote-config"&&(r="/array/"+t.config.token+"/config.js"),e==="toolbar"){var i=3e5;r=r+"&t="+Math.floor(Date.now()/i)*i}var s=t.requestRouter.endpointFor("assets",r);Vb(t,s,n)},ce.__PosthogExtensions__.loadSiteApp=(t,e,n)=>{var r=t.requestRouter.endpointFor("api",e);Vb(t,r,n)};var fc={};function Dr(t,e,n){if(Be(t)){if(Fb&&t.forEach===Fb)t.forEach(e,n);else if("length"in t&&t.length===+t.length){for(var r=0,i=t.length;r<i;r++)if(r in t&&e.call(n,t[r],r)===fc)return}}}function Ie(t,e,n){if(!ke(t)){if(Be(t))return Dr(t,e,n);if(qG(t)){for(var r of t.entries())if(e.call(n,r[1],r[0])===fc)return}else for(var i in t)if(HP.call(t,i)&&e.call(n,t[i],i)===fc)return}}var et=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Dr(n,function(i){for(var s in i)i[s]!==void 0&&(t[s]=i[s])}),t},Iu=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Dr(n,function(i){Dr(i,function(s){t.push(s)})}),t};function Bl(t){for(var e=Object.keys(t),n=e.length,r=new Array(n);n--;)r[n]=[e[n],t[e[n]]];return r}var zb=function(t){try{return t()}catch{return}},JG=function(t){return function(){try{for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(this,n)}catch(i){Y.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),Y.critical(i)}}},Tg=function(t){var e={};return Ie(t,function(n,r){(Je(n)&&n.length>0||wt(n))&&(e[r]=n)}),e};function QG(t,e){return n=t,r=s=>Je(s)&&!Qr(e)?s.slice(0,e):s,i=new Set,function s(o,a){return o!==Object(o)?r?r(o,a):o:i.has(o)?void 0:(i.add(o),Be(o)?(l=[],Dr(o,c=>{l.push(s(c))})):(l={},Ie(o,(c,u)=>{i.has(c)||(l[u]=s(c,u))})),l);var l}(n);var n,r,i}var ZG=["herokuapp.com","vercel.app","netlify.app"];function eY(t){var e=t==null?void 0:t.hostname;if(!Je(e))return!1;var n=e.split(".").slice(-2).join(".");for(var r of ZG)if(n===r)return!1;return!0}function KP(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}function He(t,e,n,r){var{capture:i=!1,passive:s=!0}=r??{};t==null||t.addEventListener(e,n,{capture:i,passive:s})}var GP="$people_distinct_id",Ro="__alias",Io="__timers",Hb="$autocapture_disabled_server_side",qf="$heatmaps_enabled_server_side",Wb="$exception_capture_enabled_server_side",Kf="$error_tracking_suppression_rules",qb="$error_tracking_capture_extension_exceptions",Kb="$web_vitals_enabled_server_side",YP="$dead_clicks_enabled_server_side",Gb="$web_vitals_allowed_metrics",Gf="$session_recording_enabled_server_side",Yb="$console_log_recording_enabled_server_side",Xb="$session_recording_network_payload_capture",Jb="$session_recording_masking",Qb="$session_recording_canvas_recording",Zb="$replay_sample_rate",ew="$replay_minimum_duration",tw="$replay_script_config",pc="$sesid",No="$session_is_sampled",Yf="$session_recording_url_trigger_activated_session",Xf="$session_recording_event_trigger_activated_session",ps="$enabled_feature_flags",jo="$early_access_features",Jf="$feature_flag_details",Mo="$stored_person_properties",fi="$stored_group_properties",Qf="$surveys",xl="$surveys_activated",mc="$flag_call_reported",Jn="$user_state",Zf="$client_session_props",ep="$capture_rate_limit",tp="$initial_campaign_params",np="$initial_referrer_info",gc="$initial_person_info",vc="$epp",XP="__POSTHOG_TOOLBAR__",go="$posthog_cookieless",tY=[GP,Ro,"__cmpns",Io,Gf,qf,pc,ps,Kf,Jn,jo,Jf,fi,Mo,Qf,mc,Zf,ep,tp,np,vc,gc];function nw(t){return t instanceof Element&&(t.id===XP||!(t.closest==null||!t.closest(".toolbar-global-fade-container")))}function Nu(t){return!!t&&t.nodeType===1}function $r(t,e){return!!t&&!!t.tagName&&t.tagName.toLowerCase()===e.toLowerCase()}function JP(t){return!!t&&t.nodeType===3}function QP(t){return!!t&&t.nodeType===11}function Pg(t){return t?Au(t).split(/\s+/):[]}function rw(t){var e=O==null?void 0:O.location.href;return!!(e&&t&&t.some(n=>e.match(n)))}function yc(t){var e="";switch(typeof t.className){case"string":e=t.className;break;case"object":e=(t.className&&"baseVal"in t.className?t.className.baseVal:null)||t.getAttribute("class")||"";break;default:e=""}return Pg(e)}function ZP(t){return ke(t)?null:Au(t).split(/(\s+)/).filter(e=>Vs(e)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function ju(t){var e="";return ip(t)&&!nA(t)&&t.childNodes&&t.childNodes.length&&Ie(t.childNodes,function(n){var r;JP(n)&&n.textContent&&(e+=(r=ZP(n.textContent))!==null&&r!==void 0?r:"")}),Au(e)}function eA(t){return G(t.target)?t.srcElement||null:(e=t.target)!=null&&e.shadowRoot?t.composedPath()[0]||null:t.target||null;var e}var rp=["a","button","form","input","select","textarea","label"];function tA(t){var e=t.parentNode;return!(!e||!Nu(e))&&e}function nY(t,e,n,r,i){var s,o,a;if(n===void 0&&(n=void 0),!O||!t||$r(t,"html")||!Nu(t)||(s=n)!=null&&s.url_allowlist&&!rw(n.url_allowlist)||(o=n)!=null&&o.url_ignorelist&&rw(n.url_ignorelist))return!1;if((a=n)!=null&&a.dom_event_allowlist){var l=n.dom_event_allowlist;if(l&&!l.some(y=>e.type===y))return!1}for(var c=!1,u=[t],d=!0,h=t;h.parentNode&&!$r(h,"body");)if(QP(h.parentNode))u.push(h.parentNode.host),h=h.parentNode.host;else{if(!(d=tA(h)))break;if(r||rp.indexOf(d.tagName.toLowerCase())>-1)c=!0;else{var f=O.getComputedStyle(d);f&&f.getPropertyValue("cursor")==="pointer"&&(c=!0)}u.push(d),h=d}if(!function(y,b){var x=b==null?void 0:b.element_allowlist;if(G(x))return!0;var w,_=function(S){if(x.some(k=>S.tagName.toLowerCase()===k))return{v:!0}};for(var C of y)if(w=_(C))return w.v;return!1}(u,n)||!function(y,b){var x=b==null?void 0:b.css_selector_allowlist;if(G(x))return!0;var w,_=function(S){if(x.some(k=>S.matches(k)))return{v:!0}};for(var C of y)if(w=_(C))return w.v;return!1}(u,n))return!1;var v=O.getComputedStyle(t);if(v&&v.getPropertyValue("cursor")==="pointer"&&e.type==="click")return!0;var g=t.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(i||["submit"]).indexOf(e.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(e.type)>=0;default:return c?(i||["click"]).indexOf(e.type)>=0:(i||["click"]).indexOf(e.type)>=0&&(rp.indexOf(g)>-1||t.getAttribute("contenteditable")==="true")}}function ip(t){for(var e=t;e.parentNode&&!$r(e,"body");e=e.parentNode){var n=yc(e);if(we(n,"ph-sensitive")||we(n,"ph-no-capture"))return!1}if(we(yc(t),"ph-include"))return!0;var r=t.type||"";if(Je(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=t.name||t.id||"";return!(Je(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function nA(t){return!!($r(t,"input")&&!["button","checkbox","submit","reset"].includes(t.type)||$r(t,"select")||$r(t,"textarea")||t.getAttribute("contenteditable")==="true")}var rA="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",rY=new RegExp("^(?:"+rA+")$"),iY=new RegExp(rA),iA="\\d{3}-?\\d{2}-?\\d{4}",sY=new RegExp("^("+iA+")$"),oY=new RegExp("("+iA+")");function Vs(t,e){return e===void 0&&(e=!0),!(ke(t)||Je(t)&&(t=Au(t),(e?rY:iY).test((t||"").replace(/[- ]/g,""))||(e?sY:oY).test(t)))}function sA(t){var e=ju(t);return Vs(e=(e+" "+oA(t)).trim())?e:""}function oA(t){var e="";return t&&t.childNodes&&t.childNodes.length&&Ie(t.childNodes,function(n){var r;if(n&&((r=n.tagName)==null?void 0:r.toLowerCase())==="span")try{var i=ju(n);e=(e+" "+i).trim(),n.childNodes&&n.childNodes.length&&(e=(e+" "+oA(n)).trim())}catch(s){Y.error("[AutoCapture]",s)}}),e}function aY(t){return function(e){var n=e.map(r=>{var i,s,o="";if(r.tag_name&&(o+=r.tag_name),r.attr_class)for(var a of(r.attr_class.sort(),r.attr_class))o+="."+a.replace(/"/g,"");var l=X({},r.text?{text:r.text}:{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(s=r.nth_of_type)!==null&&s!==void 0?s:0},r.href?{href:r.href}:{},r.attr_id?{attr_id:r.attr_id}:{},r.attributes),c={};return Bl(l).sort((u,d)=>{var[h]=u,[f]=d;return h.localeCompare(f)}).forEach(u=>{var[d,h]=u;return c[iw(d.toString())]=iw(h.toString())}),o+=":",o+=Bl(c).map(u=>{var[d,h]=u;return d+'="'+h+'"'}).join("")});return n.join(";")}(function(e){return e.map(n=>{var r,i,s={text:(r=n.$el_text)==null?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)==null?void 0:i.slice(0,2048),attr_class:lY(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return Bl(n).filter(o=>{var[a]=o;return a.indexOf("attr__")===0}).forEach(o=>{var[a,l]=o;return s.attributes[a]=l}),s})}(t))}function iw(t){return t.replace(/"|\\"/g,'\\"')}function lY(t){var e=t.attr__class;return e?Be(e)?e:Pg(e):void 0}class aA{constructor(){this.clicks=[]}isRageClick(e,n,r){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(e-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:e,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:e,y:n,timestamp:r}];return!1}}var Yd="$copy_autocapture",tr=function(t){return t.GZipJS="gzip-js",t.Base64="base64",t}({}),cY=["fatal","error","warning","log","info","debug"],uY=["localhost","127.0.0.1"],zs=t=>{var e=J==null?void 0:J.createElement("a");return G(e)?null:(e.href=t,e)},dY=function(t,e){var n,r;e===void 0&&(e="&");var i=[];return Ie(t,function(s,o){G(s)||G(o)||o==="undefined"||(n=encodeURIComponent((a=>a instanceof File)(s)?s.name:s.toString()),r=encodeURIComponent(o),i[i.length]=r+"="+n)}),i.join(e)},bc=function(t,e){for(var n,r=((t.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),i=0;i<r.length;i++){var s=r[i].split("=");if(s[0]===e){n=s;break}}if(!Be(n)||n.length<2)return"";var o=n[1];try{o=decodeURIComponent(o)}catch{Y.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},Ag=function(t,e,n){if(!t||!e||!e.length)return t;for(var r=t.split("#"),i=r[0]||"",s=r[1],o=i.split("?"),a=o[1],l=o[0],c=(a||"").split("&"),u=[],d=0;d<c.length;d++){var h=c[d].split("=");Be(h)&&(e.includes(h[0])?u.push(h[0]+"="+n):u.push(c[d]))}var f=l;return a!=null&&(f+="?"+u.join("&")),s!=null&&(f+="#"+s),f},wc=function(t,e){var n=t.match(new RegExp(e+"=([^&]*)"));return n?n[1]:null},sw=dt("[AutoCapture]");function Xd(t,e){return e.length>t?e.slice(0,t)+"...":e}function hY(t){if(t.previousElementSibling)return t.previousElementSibling;var e=t;do e=e.previousSibling;while(e&&!Nu(e));return e}function fY(t,e,n,r){var i=t.tagName.toLowerCase(),s={tag_name:i};rp.indexOf(i)>-1&&!n&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?s.$el_text=Xd(1024,sA(t)):s.$el_text=Xd(1024,ju(t)));var o=yc(t);o.length>0&&(s.classes=o.filter(function(u){return u!==""})),Ie(t.attributes,function(u){var d;if((!nA(t)||["name","id","class","aria-label"].indexOf(u.name)!==-1)&&(r==null||!r.includes(u.name))&&!e&&Vs(u.value)&&(d=u.name,!Je(d)||d.substring(0,10)!=="_ngcontent"&&d.substring(0,7)!=="_nghost")){var h=u.value;u.name==="class"&&(h=Pg(h).join(" ")),s["attr__"+u.name]=Xd(1024,h)}});for(var a=1,l=1,c=t;c=hY(c);)a++,c.tagName===t.tagName&&l++;return s.nth_child=a,s.nth_of_type=l,s}function pY(t,e){for(var n,r,{e:i,maskAllElementAttributes:s,maskAllText:o,elementAttributeIgnoreList:a,elementsChainAsString:l}=e,c=[t],u=t;u.parentNode&&!$r(u,"body");)QP(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);var d,h=[],f={},v=!1,g=!1;if(Ie(c,_=>{var C=ip(_);_.tagName.toLowerCase()==="a"&&(v=_.getAttribute("href"),v=C&&v&&Vs(v)&&v),we(yc(_),"ph-no-capture")&&(g=!0),h.push(fY(_,s,o,a));var S=function(k){if(!ip(k))return{};var T={};return Ie(k.attributes,function(N){if(N.name&&N.name.indexOf("data-ph-capture-attribute")===0){var A=N.name.replace("data-ph-capture-attribute-",""),j=N.value;A&&j&&Vs(j)&&(T[A]=j)}}),T}(_);et(f,S)}),g)return{props:{},explicitNoCapture:g};if(o||(t.tagName.toLowerCase()==="a"||t.tagName.toLowerCase()==="button"?h[0].$el_text=sA(t):h[0].$el_text=ju(t)),v){var y,b;h[0].attr__href=v;var x=(y=zs(v))==null?void 0:y.host,w=O==null||(b=O.location)==null?void 0:b.host;x&&w&&x!==w&&(d=v)}return{props:et({$event_type:i.type,$ce_version:1},l?{}:{$elements:h},{$elements_chain:aY(h)},(n=h[0])!=null&&n.$el_text?{$el_text:(r=h[0])==null?void 0:r.$el_text}:{},d&&i.type==="click"?{$external_click_url:d}:{},f)}}class mY{constructor(e){this.C=!1,this.M=null,this.rageclicks=new aA,this.F=!1,this.instance=e,this.O=null}get A(){var e,n,r=Ge(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(e=r.url_allowlist)==null?void 0:e.map(i=>new RegExp(i)),r.url_ignorelist=(n=r.url_ignorelist)==null?void 0:n.map(i=>new RegExp(i)),r}D(){if(this.isBrowserSupported()){if(O&&J){var e=r=>{r=r||(O==null?void 0:O.event);try{this.j(r)}catch(i){sw.error("Failed to capture event",i)}};if(He(J,"submit",e,{capture:!0}),He(J,"change",e,{capture:!0}),He(J,"click",e,{capture:!0}),this.A.capture_copied_text){var n=r=>{r=r||(O==null?void 0:O.event),this.j(r,Yd)};He(J,"copy",n,{capture:!0}),He(J,"cut",n,{capture:!0})}}}else sw.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.C&&(this.D(),this.C=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.F=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[Hb]:!!e.autocapture_opt_out}),this.M=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.O=e}getElementSelectors(e){var n,r=[];return(n=this.O)==null||n.forEach(i=>{var s=J==null?void 0:J.querySelectorAll(i);s==null||s.forEach(o=>{e===o&&r.push(i)})}),r}get isEnabled(){var e,n,r=(e=this.instance.persistence)==null?void 0:e.props[Hb],i=this.M;if(Qr(i)&&!In(r)&&!this.instance.L())return!1;var s=(n=this.M)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!s}j(e,n){if(n===void 0&&(n="$autocapture"),this.isEnabled){var r,i=eA(e);JP(i)&&(i=i.parentNode||null),n==="$autocapture"&&e.type==="click"&&e instanceof MouseEvent&&this.instance.config.rageclick&&(r=this.rageclicks)!=null&&r.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.j(e,"$rageclick");var s=n===Yd;if(i&&nY(i,e,this.A,s,s?["copy","cut"]:void 0)){var{props:o,explicitNoCapture:a}=pY(i,{e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.A.element_attribute_ignorelist,elementsChainAsString:this.F});if(a)return!1;var l=this.getElementSelectors(i);if(l&&l.length>0&&(o.$element_selectors=l),n===Yd){var c,u=ZP(O==null||(c=O.getSelection())==null?void 0:c.toString()),d=e.type||"clipboard";if(!u)return!1;o.$selected_content=u,o.$copy_type=d}return this.instance.capture(n,o),!0}}}isBrowserSupported(){return on(J==null?void 0:J.querySelectorAll)}}Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Number.isInteger||(Number.isInteger=function(t){return wt(t)&&isFinite(t)&&Math.floor(t)===t});var ow="0123456789abcdef";class xc{constructor(e){if(this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(e,n,r,i){if(!Number.isInteger(e)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||e<0||n<0||r<0||i<0||e>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=e/Math.pow(2,40),s[1]=e/Math.pow(2,32),s[2]=e/Math.pow(2,24),s[3]=e/Math.pow(2,16),s[4]=e/Math.pow(2,8),s[5]=e,s[6]=112|n>>>8,s[7]=n,s[8]=128|r>>>24,s[9]=r>>>16,s[10]=r>>>8,s[11]=r,s[12]=i>>>24,s[13]=i>>>16,s[14]=i>>>8,s[15]=i,new xc(s)}toString(){for(var e="",n=0;n<this.bytes.length;n++)e=e+ow.charAt(this.bytes[n]>>>4)+ow.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(e+="-");if(e.length!==36)throw new Error("Invalid UUIDv7 was generated");return e}clone(){return new xc(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(var n=0;n<16;n++){var r=this.bytes[n]-e.bytes[n];if(r!==0)return Math.sign(r)}return 0}}class gY{constructor(){this.N=0,this.U=0,this.q=new vY}generate(){var e=this.generateOrAbort();if(G(e)){this.N=0;var n=this.generateOrAbort();if(G(n))throw new Error("Could not generate UUID after timestamp reset");return n}return e}generateOrAbort(){var e=Date.now();if(e>this.N)this.N=e,this.B();else{if(!(e+1e4>this.N))return;this.U++,this.U>4398046511103&&(this.N++,this.B())}return xc.fromFieldsV7(this.N,Math.trunc(this.U/Math.pow(2,30)),this.U&Math.pow(2,30)-1,this.q.nextUint32())}B(){this.U=1024*this.q.nextUint32()+(1023&this.q.nextUint32())}}var aw,lA=t=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var e=0;e<t.length;e++)t[e]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return t};O&&!G(O.crypto)&&crypto.getRandomValues&&(lA=t=>crypto.getRandomValues(t));class vY{constructor(){this.H=new Uint32Array(8),this.W=1/0}nextUint32(){return this.W>=this.H.length&&(lA(this.H),this.W=0),this.H[this.W++]}}var jr=()=>yY().toString(),yY=()=>(aw||(aw=new gY)).generate(),vo="",bY=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function wY(t,e){if(e){var n=function(i,s){if(s===void 0&&(s=J),vo)return vo;if(!s||["localhost","127.0.0.1"].includes(i))return"";for(var o=i.split("."),a=Math.min(o.length,8),l="dmn_chk_"+jr();!vo&&a--;){var c=o.slice(a).join("."),u=l+"=1;domain=."+c+";path=/";s.cookie=u+";max-age=3",s.cookie.includes(l)&&(s.cookie=u+";max-age=0",vo=c)}return vo}(t);if(!n){var r=(i=>{var s=i.match(bY);return s?s[0]:""})(t);r!==n&&Y.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var Dn={G:()=>!!J,J:function(t){Y.error("cookieStore error: "+t)},V:function(t){if(J){try{for(var e=t+"=",n=J.cookie.split(";").filter(s=>s.length),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return decodeURIComponent(i.substring(e.length,i.length))}}catch{}return null}},K:function(t){var e;try{e=JSON.parse(Dn.V(t))||{}}catch{}return e},Y:function(t,e,n,r,i){if(J)try{var s="",o="",a=wY(J.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),s="; expires="+l.toUTCString()}i&&(o="; secure");var c=t+"="+encodeURIComponent(JSON.stringify(e))+s+"; SameSite=Lax; path=/"+a+o;return c.length>3686.4&&Y.warn("cookieStore warning: large cookie, len="+c.length),J.cookie=c,c}catch{return}},X:function(t,e){if(J!=null&&J.cookie)try{Dn.Y(t,"",-1,e)}catch{return}}},Jd=null,lt={G:function(){if(!Qr(Jd))return Jd;var t=!0;if(G(O))t=!1;else try{var e="__mplssupport__";lt.Y(e,"xyz"),lt.V(e)!=='"xyz"'&&(t=!1),lt.X(e)}catch{t=!1}return t||Y.error("localStorage unsupported; falling back to cookie store"),Jd=t,t},J:function(t){Y.error("localStorage error: "+t)},V:function(t){try{return O==null?void 0:O.localStorage.getItem(t)}catch(e){lt.J(e)}return null},K:function(t){try{return JSON.parse(lt.V(t))||{}}catch{}return null},Y:function(t,e){try{O==null||O.localStorage.setItem(t,JSON.stringify(e))}catch(n){lt.J(n)}},X:function(t){try{O==null||O.localStorage.removeItem(t)}catch(e){lt.J(e)}}},xY=["distinct_id",pc,No,vc,gc],_l=X({},lt,{K:function(t){try{var e={};try{e=Dn.K(t)||{}}catch{}var n=et(e,JSON.parse(lt.V(t)||"{}"));return lt.Y(t,n),n}catch{}return null},Y:function(t,e,n,r,i,s){try{lt.Y(t,e,void 0,void 0,s);var o={};xY.forEach(a=>{e[a]&&(o[a]=e[a])}),Object.keys(o).length&&Dn.Y(t,o,n,r,i,s)}catch(a){lt.J(a)}},X:function(t,e){try{O==null||O.localStorage.removeItem(t),Dn.X(t,e)}catch(n){lt.J(n)}}}),Sl={},_Y={G:function(){return!0},J:function(t){Y.error("memoryStorage error: "+t)},V:function(t){return Sl[t]||null},K:function(t){return Sl[t]||null},Y:function(t,e){Sl[t]=e},X:function(t){delete Sl[t]}},ai=null,ft={G:function(){if(!Qr(ai))return ai;if(ai=!0,G(O))ai=!1;else try{var t="__support__";ft.Y(t,"xyz"),ft.V(t)!=='"xyz"'&&(ai=!1),ft.X(t)}catch{ai=!1}return ai},J:function(t){Y.error("sessionStorage error: ",t)},V:function(t){try{return O==null?void 0:O.sessionStorage.getItem(t)}catch(e){ft.J(e)}return null},K:function(t){try{return JSON.parse(ft.V(t))||null}catch{}return null},Y:function(t,e){try{O==null||O.sessionStorage.setItem(t,JSON.stringify(e))}catch(n){ft.J(n)}},X:function(t){try{O==null||O.sessionStorage.removeItem(t)}catch(e){ft.J(e)}}},Qn=function(t){return t[t.PENDING=-1]="PENDING",t[t.DENIED=0]="DENIED",t[t.GRANTED=1]="GRANTED",t}({});class SY{constructor(e){this._instance=e}get A(){return this._instance.config}get consent(){return this.Z()?Qn.DENIED:this.tt}isOptedOut(){return this.A.cookieless_mode==="always"||this.consent===Qn.DENIED||this.consent===Qn.PENDING&&(this.A.opt_out_capturing_by_default||this.A.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===Qn.DENIED}optInOut(e){this.it.Y(this.et,e?1:0,this.A.cookie_expiration,this.A.cross_subdomain_cookie,this.A.secure_cookie)}reset(){this.it.X(this.et,this.A.cross_subdomain_cookie)}get et(){var{token:e,opt_out_capturing_cookie_prefix:n,consent_persistence_name:r}=this._instance.config;return r||(n?n+e:"__ph_opt_in_out_"+e)}get tt(){var e=this.it.V(this.et);return Gd(e)?Qn.GRANTED:we(YG,e)?Qn.DENIED:Qn.PENDING}get it(){if(!this.rt){var e=this.A.opt_out_capturing_persistence_type;this.rt=e==="localStorage"?lt:Dn;var n=e==="localStorage"?Dn:lt;n.V(this.et)&&(this.rt.V(this.et)||this.optInOut(Gd(n.V(this.et))),n.X(this.et,this.A.cross_subdomain_cookie))}return this.rt}Z(){return!!this.A.respect_dnt&&!!KP([Gt==null?void 0:Gt.doNotTrack,Gt==null?void 0:Gt.msDoNotTrack,ce.doNotTrack],e=>Gd(e))}}var Cl=dt("[Dead Clicks]"),CY=()=>!0,kY=t=>{var e,n=!((e=t.instance.persistence)==null||!e.get_property(YP)),r=t.instance.config.capture_dead_clicks;return In(r)?r:n};class cA{get lazyLoadedDeadClicksAutocapture(){return this.st}constructor(e,n,r){this.instance=e,this.isEnabled=n,this.onCapture=r,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[YP]:e==null?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.nt(()=>{this.ot()})}nt(e){var n,r;(n=ce.__PosthogExtensions__)!=null&&n.initDeadClicksAutocapture&&e(),(r=ce.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this.instance,"dead-clicks-autocapture",i=>{i?Cl.error("failed to load script",i):e()})}ot(){var e;if(J){if(!this.st&&(e=ce.__PosthogExtensions__)!=null&&e.initDeadClicksAutocapture){var n=Ge(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};n.__onCapture=this.onCapture,this.st=ce.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,n),this.st.start(J),Cl.info("starting...")}}else Cl.error("`document` not found. Cannot start.")}stop(){this.st&&(this.st.stop(),this.st=void 0,Cl.info("stopping..."))}}var yo=dt("[ExceptionAutocapture]");class EY{constructor(e){var n,r,i;this.lt=()=>{var s;if(O&&this.isEnabled&&(s=ce.__PosthogExtensions__)!=null&&s.errorWrappingFunctions){var o=ce.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,a=ce.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,l=ce.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ut&&this.A.capture_unhandled_errors&&(this.ut=o(this.captureException.bind(this))),!this.ht&&this.A.capture_unhandled_rejections&&(this.ht=a(this.captureException.bind(this))),!this.dt&&this.A.capture_console_errors&&(this.dt=l(this.captureException.bind(this)))}catch(c){yo.error("failed to start",c),this.vt()}}},this._instance=e,this.ct=!((n=this._instance.persistence)==null||!n.props[Wb]),this.A=this.ft(),this.gt=new WP({refillRate:(r=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&r!==void 0?r:1,bucketSize:(i=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&i!==void 0?i:10,refillInterval:1e4,P:yo}),this.startIfEnabled()}ft(){var e=this._instance.config.capture_exceptions,n={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return Ge(e)?n=X({},n,e):(G(e)?this.ct:e)&&(n=X({},n,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),n}get isEnabled(){return this.A.capture_console_errors||this.A.capture_unhandled_errors||this.A.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(yo.info("enabled"),this.nt(this.lt))}nt(e){var n,r;(n=ce.__PosthogExtensions__)!=null&&n.errorWrappingFunctions&&e(),(r=ce.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"exception-autocapture",i=>{if(i)return yo.error("failed to load script",i);e()})}vt(){var e,n,r;(e=this.ut)==null||e.call(this),this.ut=void 0,(n=this.ht)==null||n.call(this),this.ht=void 0,(r=this.dt)==null||r.call(this),this.dt=void 0}onRemoteConfig(e){var n=e.autocaptureExceptions;this.ct=!!n||!1,this.A=this.ft(),this._instance.persistence&&this._instance.persistence.register({[Wb]:this.ct}),this.startIfEnabled()}captureException(e){var n,r=this._instance.requestRouter.endpointFor("ui");e.$exception_personURL=r+"/project/"+this._instance.config.token+"/person/"+this._instance.get_distinct_id();var i=(n=e.$exception_list[0].type)!==null&&n!==void 0?n:"Exception";this.gt.consumeRateLimit(i)?yo.info("Skipping exception capture because of client rate limiting.",{exception:e.$exception_list[0].type}):this._instance.exceptions.sendExceptionEvent(e)}}function uA(t){return!G(Event)&&dA(t,Event)}function dA(t,e){try{return t instanceof e}catch{return!1}}function hA(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return dA(t,Error)}}function Ul(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"}function Qd(t){return Ul(t,"DOMError")}var lw=/\(error: (.*)\)/,cw=50,ms="?";function Zd(t,e,n,r){var i={platform:"web:javascript",filename:t,function:e==="<anonymous>"?ms:e,in_app:!0};return G(n)||(i.lineno=n),G(r)||(i.colno=r),i}var TY=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,PY=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,AY=/\((\S*)(?::(\d+))(?::(\d+))\)/,RY=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,IY=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,NY=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.sort((i,s)=>i[0]-s[0]).map(i=>i[1]);return function(i,s){s===void 0&&(s=0);for(var o=[],a=i.split(`
`),l=s;l<a.length;l++){var c=a[l];if(!(c.length>1024)){var u=lw.test(c)?c.replace(lw,"$1"):c;if(!u.match(/\S*Error: /)){for(var d of r){var h=d(u);if(h){o.push(h);break}}if(o.length>=cw)break}}}return function(f){if(!f.length)return[];var v=Array.from(f);return v.reverse(),v.slice(0,cw).map(g=>X({},g,{filename:g.filename||jY(v).filename,function:g.function||ms}))}(o)}}([30,t=>{var e=TY.exec(t);if(e){var[,n,r,i]=e;return Zd(n,ms,+r,+i)}var s=PY.exec(t);if(s){if(s[2]&&s[2].indexOf("eval")===0){var o=AY.exec(s[2]);o&&(s[2]=o[1],s[3]=o[2],s[4]=o[3])}var[a,l]=dw(s[1]||ms,s[2]);return Zd(l,a,s[3]?+s[3]:void 0,s[4]?+s[4]:void 0)}}],[50,t=>{var e=RY.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){var n=IY.exec(e[3]);n&&(e[1]=e[1]||"eval",e[3]=n[1],e[4]=n[2],e[5]="")}var r=e[3],i=e[1]||ms;return[i,r]=dw(i,r),Zd(r,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]);function jY(t){return t[t.length-1]||{}}var kl,uw,eh,dw=(t,e)=>{var n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:ms,n?"safari-extension:"+e:"safari-web-extension:"+e]:[t,e]},MY=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function Rg(t,e){e===void 0&&(e=0);var n=t.stacktrace||t.stack||"",r=function(o){return o&&OY.test(o.message)?1:0}(t);try{var i=NY,s=function(o,a){var l=function(c){var u=globalThis._posthogChunkIds;if(!u)return{};var d=Object.keys(u);return eh&&d.length===uw||(uw=d.length,eh=d.reduce((h,f)=>{kl||(kl={});var v=kl[f];if(v)h[v[0]]=v[1];else for(var g=c(f),y=g.length-1;y>=0;y--){var b=g[y],x=b==null?void 0:b.filename,w=u[f];if(x&&w){h[x]=w,kl[f]=[x,w];break}}return h},{})),eh}(a);return o.forEach(c=>{c.filename&&(c.chunk_id=l[c.filename])}),o}(i(n,r),i);return s.slice(0,s.length-e)}catch{}return[]}var OY=/Minified React error #\d+;/i;function DY(t,e){var n,r,i=Rg(t),s=(n=e==null?void 0:e.handled)===null||n===void 0||n,o=(r=e==null?void 0:e.synthetic)!==null&&r!==void 0&&r;return{type:e!=null&&e.overrideExceptionType?e.overrideExceptionType:t.name,value:function(a){var l=a.message;return l.error&&typeof l.error.message=="string"?String(l.error.message):String(l)}(t),stacktrace:{frames:i,type:"raw"},mechanism:{handled:s,synthetic:o}}}function fA(t,e){var n=DY(t,e);return t.cause&&hA(t.cause)&&t.cause!==t?[n,...fA(t.cause,{handled:e==null?void 0:e.handled,synthetic:e==null?void 0:e.synthetic})]:[n]}function th(t,e){return{$exception_list:fA(t,e),$exception_level:"error"}}function nh(t,e){var n,r,i,s=(n=e==null?void 0:e.handled)===null||n===void 0||n,o=(r=e==null?void 0:e.synthetic)===null||r===void 0||r,a={type:e!=null&&e.overrideExceptionType?e.overrideExceptionType:(i=e==null?void 0:e.defaultExceptionType)!==null&&i!==void 0?i:"Error",value:t||(e==null?void 0:e.defaultExceptionMessage),mechanism:{handled:s,synthetic:o}};if(e!=null&&e.syntheticException){var l=Rg(e.syntheticException,1);l.length&&(a.stacktrace={frames:l,type:"raw"})}return{$exception_list:[a],$exception_level:"error"}}function $Y(t){return Je(t)&&!Wf(t)&&cY.indexOf(t)>=0}function LY(t,e){var n,r,i=(n=e==null?void 0:e.handled)===null||n===void 0||n,s=(r=e==null?void 0:e.synthetic)===null||r===void 0||r,o=e!=null&&e.overrideExceptionType?e.overrideExceptionType:uA(t)?t.constructor.name:"Error",a="Non-Error 'exception' captured with keys: "+function(u,d){d===void 0&&(d=40);var h=Object.keys(u);if(h.sort(),!h.length)return"[object has no keys]";for(var f=h.length;f>0;f--){var v=h.slice(0,f).join(", ");if(!(v.length>d))return f===h.length||v.length<=d?v:v.slice(0,d)+"..."}return""}(t),l={type:o,value:a,mechanism:{handled:i,synthetic:s}};if(e!=null&&e.syntheticException){var c=Rg(e==null?void 0:e.syntheticException,1);c.length&&(l.stacktrace={frames:c,type:"raw"})}return{$exception_list:[l],$exception_level:$Y(t.level)?t.level:"error"}}function FY(t,e){var{error:n,event:r}=t,i={$exception_list:[]},s=n||r;if(Qd(s)||function(h){return Ul(h,"DOMException")}(s)){var o=s;if(function(h){return"stack"in h}(s))i=th(s,e);else{var a=o.name||(Qd(o)?"DOMError":"DOMException"),l=o.message?a+": "+o.message:a;i=nh(l,X({},e,{overrideExceptionType:Qd(o)?"DOMError":"DOMException",defaultExceptionMessage:l}))}return"code"in o&&(i.$exception_DOMException_code=""+o.code),i}if(function(h){return Ul(h,"ErrorEvent")}(s)&&s.error)return th(s.error,e);if(hA(s))return th(s,e);if(function(h){return Ul(h,"Object")}(s)||uA(s))return LY(s,e);if(G(n)&&Je(r)){var c="Error",u=r,d=r.match(MY);return d&&(c=d[1],u=d[2]),nh(u,X({},e,{overrideExceptionType:c,defaultExceptionMessage:u}))}return nh(s,e)}function hw(t,e,n){try{if(!(e in t))return()=>{};var r=t[e],i=n(r);return on(i)&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__posthog_wrapped__:{enumerable:!1,value:!0}})),t[e]=i,()=>{t[e]=r}}catch{return()=>{}}}class BY{constructor(e){var n;this._instance=e,this._t=(O==null||(n=O.location)==null?void 0:n.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(Y.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.bt&&this.bt(),this.bt=void 0,Y.info("History API monitoring stopped")}monitorHistoryChanges(){var e,n;if(O&&O.history){var r=this;(e=O.history.pushState)!=null&&e.__posthog_wrapped__||hw(O.history,"pushState",i=>function(s,o,a){i.call(this,s,o,a),r.yt("pushState")}),(n=O.history.replaceState)!=null&&n.__posthog_wrapped__||hw(O.history,"replaceState",i=>function(s,o,a){i.call(this,s,o,a),r.yt("replaceState")}),this.wt()}}yt(e){try{var n,r=O==null||(n=O.location)==null?void 0:n.pathname;if(!r)return;r!==this._t&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this._t=r}catch(i){Y.error("Error capturing "+e+" pageview",i)}}wt(){if(!this.bt){var e=()=>{this.yt("popstate")};He(O,"popstate",e),this.bt=()=>{O&&O.removeEventListener("popstate",e)}}}}function _c(t){var e,n;return((e=JSON.stringify(t,(n=[],function(r,i){if(Ge(i)){for(;n.length>0&&n[n.length-1]!==this;)n.pop();return n.includes(i)?"[Circular]":(n.push(i),i)}return i})))==null?void 0:e.length)||0}function sp(t,e){if(e===void 0&&(e=66060288e-1),t.size>=e&&t.data.length>1){var n=Math.floor(t.data.length/2),r=t.data.slice(0,n),i=t.data.slice(n);return[sp({size:_c(r),data:r,sessionId:t.sessionId,windowId:t.windowId}),sp({size:_c(i),data:i,sessionId:t.sessionId,windowId:t.windowId})].flatMap(s=>s)}return[t]}var Zn=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))(Zn||{}),pn=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(pn||{}),op="[SessionRecording]",ap="redacted",El={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:t=>t,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com","bam.nr-data.net"]},UY=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],VY=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],zY=["/s/","/e/","/i/"];function fw(t,e,n,r){if(ke(t))return t;var i=(e==null?void 0:e["content-length"])||function(s){return new Blob([s]).size}(t);return Je(i)&&(i=parseInt(i)),i>n?op+" "+r+" body too large to record ("+i+" bytes)":t}function pw(t,e){if(ke(t))return t;var n=t;return Vs(n,!1)||(n=op+" "+e+" body "+ap),Ie(VY,r=>{var i,s;(i=n)!=null&&i.length&&((s=n)==null?void 0:s.indexOf(r))!==-1&&(n=op+" "+e+" body "+ap+" as might contain: "+r)}),n}var HY=(t,e)=>{var n,r,i,s={payloadSizeLimitBytes:El.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...El.performanceEntryTypeToObserve],payloadHostDenyList:[...e.payloadHostDenyList||[],...El.payloadHostDenyList]},o=t.session_recording.recordHeaders!==!1&&e.recordHeaders,a=t.session_recording.recordBody!==!1&&e.recordBody,l=t.capture_performance!==!1&&e.recordPerformance,c=(n=s,i=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),h=>(h!=null&&h.requestBody&&(h.requestBody=fw(h.requestBody,h.requestHeaders,i,"Request")),h!=null&&h.responseBody&&(h.responseBody=fw(h.responseBody,h.responseHeaders,i,"Response")),h)),u=h=>{return c(((g,y)=>{var b,x=zs(g.name),w=y.indexOf("http")===0?(b=zs(y))==null?void 0:b.pathname:y;w==="/"&&(w="");var _=x==null?void 0:x.pathname.replace(w||"","");if(!(x&&_&&zY.some(C=>_.indexOf(C)===0)))return g})((v=(f=h).requestHeaders,ke(v)||Ie(Object.keys(v??{}),g=>{UY.includes(g.toLowerCase())&&(v[g]=ap)}),f),t.api_host));var f,v},d=on(t.session_recording.maskNetworkRequestFn);return d&&on(t.session_recording.maskCapturedNetworkRequestFn)&&Y.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(t.session_recording.maskCapturedNetworkRequestFn=h=>{var f=t.session_recording.maskNetworkRequestFn({url:h.name});return X({},h,{name:f==null?void 0:f.url})}),s.maskRequestFn=on(t.session_recording.maskCapturedNetworkRequestFn)?h=>{var f,v=u(h);return v&&(f=t.session_recording.maskCapturedNetworkRequestFn==null?void 0:t.session_recording.maskCapturedNetworkRequestFn(v))!==null&&f!==void 0?f:void 0}:h=>function(f){if(!G(f))return f.requestBody=pw(f.requestBody,"Request"),f.responseBody=pw(f.responseBody,"Response"),f}(u(h)),X({},El,s,{recordHeaders:o,recordBody:a,recordPerformance:l,recordInitialRequests:l})};class WY{constructor(e,n){var r,i;n===void 0&&(n={}),this.St={},this.$t=s=>{if(!this.St[s]){var o,a;this.St[s]=!0;var l=this.xt(s);(o=(a=this.i).onBlockedNode)==null||o.call(a,s,l)}},this.kt=s=>{var o=this.xt(s);if((o==null?void 0:o.nodeName)!=="svg"&&o instanceof Element){var a=o.closest("svg");if(a)return[this._rrweb.mirror.getId(a),a]}return[s,o]},this.xt=s=>this._rrweb.mirror.getNode(s),this.Et=s=>{var o,a,l,c,u,d,h,f;return((o=(a=s.removes)==null?void 0:a.length)!==null&&o!==void 0?o:0)+((l=(c=s.attributes)==null?void 0:c.length)!==null&&l!==void 0?l:0)+((u=(d=s.texts)==null?void 0:d.length)!==null&&u!==void 0?u:0)+((h=(f=s.adds)==null?void 0:f.length)!==null&&h!==void 0?h:0)},this.throttleMutations=s=>{if(s.type!==3||s.data.source!==0)return s;var o=s.data,a=this.Et(o);o.attributes&&(o.attributes=o.attributes.filter(c=>{var[u]=this.kt(c.id);return!this.gt.consumeRateLimit(u)&&c}));var l=this.Et(o);return l!==0||a===l?s:void 0},this._rrweb=e,this.i=n,this.gt=new WP({bucketSize:(r=this.i.bucketSize)!==null&&r!==void 0?r:100,refillRate:(i=this.i.refillRate)!==null&&i!==void 0?i:10,refillInterval:1e3,I:this.$t,P:Y})}}var an=Uint8Array,Ft=Uint16Array,Hs=Uint32Array,Ig=new an([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ng=new an([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),mw=new an([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pA=function(t,e){for(var n=new Ft(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var i=new Hs(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},mA=pA(Ig,2),qY=mA[0],lp=mA[1];qY[28]=258,lp[258]=28;for(var gw=pA(Ng,0)[1],gA=new Ft(32768),Ue=0;Ue<32768;++Ue){var li=(43690&Ue)>>>1|(21845&Ue)<<1;li=(61680&(li=(52428&li)>>>2|(13107&li)<<2))>>>4|(3855&li)<<4,gA[Ue]=((65280&li)>>>8|(255&li)<<8)>>>1}var Jo=function(t,e,n){for(var r=t.length,i=0,s=new Ft(e);i<r;++i)++s[t[i]-1];var o,a=new Ft(e);for(i=0;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;for(o=new Ft(r),i=0;i<r;++i)o[i]=gA[a[t[i]-1]++]>>>15-t[i];return o},Ii=new an(288);for(Ue=0;Ue<144;++Ue)Ii[Ue]=8;for(Ue=144;Ue<256;++Ue)Ii[Ue]=9;for(Ue=256;Ue<280;++Ue)Ii[Ue]=7;for(Ue=280;Ue<288;++Ue)Ii[Ue]=8;var Sc=new an(32);for(Ue=0;Ue<32;++Ue)Sc[Ue]=5;var KY=Jo(Ii,9),GY=Jo(Sc,5),vA=function(t){return(t/8>>0)+(7&t&&1)},yA=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof Ft?Ft:t instanceof Hs?Hs:an)(n-e);return r.set(t.subarray(e,n)),r},qn=function(t,e,n){n<<=7&e;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8},bo=function(t,e,n){n<<=7&e;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8,t[r+2]|=n>>>16},rh=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return[new an(0),0];if(i==1){var o=new an(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(C,S){return C.f-S.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=s[0].s;for(r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var f=new Ft(h+1),v=cp(n[u-1],f,0);if(v>e){r=0;var g=0,y=v-e,b=1<<y;for(s.sort(function(C,S){return f[S.s]-f[C.s]||C.f-S.f});r<i;++r){var x=s[r].s;if(!(f[x]>e))break;g+=b-(1<<v-f[x]),f[x]=e}for(g>>>=y;g>0;){var w=s[r].s;f[w]<e?g-=1<<e-f[w]++-1:++r}for(;r>=0&&g;--r){var _=s[r].s;f[_]==e&&(--f[_],++g)}v=e}return[new an(f),v]},cp=function(t,e,n){return t.s==-1?Math.max(cp(t.l,e,n+1),cp(t.r,e,n+1)):e[t.s]=n},vw=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ft(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return[n.subarray(0,r),e]},wo=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},up=function(t,e,n){var r=n.length,i=vA(e+2);t[i]=255&r,t[i+1]=r>>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<r;++s)t[i+s+4]=n[s];return 8*(i+4+r)},yw=function(t,e,n,r,i,s,o,a,l,c,u){qn(e,u++,n),++i[256];for(var d=rh(i,15),h=d[0],f=d[1],v=rh(s,15),g=v[0],y=v[1],b=vw(h),x=b[0],w=b[1],_=vw(g),C=_[0],S=_[1],k=new Ft(19),T=0;T<x.length;++T)k[31&x[T]]++;for(T=0;T<C.length;++T)k[31&C[T]]++;for(var N=rh(k,7),A=N[0],j=N[1],M=19;M>4&&!A[mw[M-1]];--M);var V,D,B,F,U=c+5<<3,I=wo(i,Ii)+wo(s,Sc)+o,R=wo(i,h)+wo(s,g)+o+14+3*M+wo(k,A)+(2*k[16]+3*k[17]+7*k[18]);if(U<=I&&U<=R)return up(e,u,t.subarray(l,l+c));if(qn(e,u,1+(R<I)),u+=2,R<I){V=Jo(h,f),D=h,B=Jo(g,y),F=g;var E=Jo(A,j);for(qn(e,u,w-257),qn(e,u+5,S-1),qn(e,u+10,M-4),u+=14,T=0;T<M;++T)qn(e,u+3*T,A[mw[T]]);u+=3*M;for(var q=[x,C],z=0;z<2;++z){var P=q[z];for(T=0;T<P.length;++T){var Z=31&P[T];qn(e,u,E[Z]),u+=A[Z],Z>15&&(qn(e,u,P[T]>>>5&127),u+=P[T]>>>12)}}}else V=KY,D=Ii,B=GY,F=Sc;for(T=0;T<a;++T)if(r[T]>255){Z=r[T]>>>18&31,bo(e,u,V[Z+257]),u+=D[Z+257],Z>7&&(qn(e,u,r[T]>>>23&31),u+=Ig[Z]);var pe=31&r[T];bo(e,u,B[pe]),u+=F[pe],pe>3&&(bo(e,u,r[T]>>>5&8191),u+=Ng[pe])}else bo(e,u,V[r[T]]),u+=D[r[T]];return bo(e,u,V[256]),u+D[256]},YY=new Hs([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),XY=function(){for(var t=new Hs(256),e=0;e<256;++e){for(var n=e,r=9;--r;)n=(1&n&&3988292384)^n>>>1;t[e]=n}return t}(),JY=function(){var t=4294967295;return{p:function(e){for(var n=t,r=0;r<e.length;++r)n=XY[255&n^e[r]]^n>>>8;t=n},d:function(){return 4294967295^t}}},QY=function(t,e,n,r,i){return function(s,o,a,l,c,u){var d=s.length,h=new an(l+d+5*(1+Math.floor(d/7e3))+c),f=h.subarray(l,h.length-c),v=0;if(!o||d<8)for(var g=0;g<=d;g+=65535){var y=g+65535;y<d?v=up(f,v,s.subarray(g,y)):(f[g]=u,v=up(f,v,s.subarray(g,d)))}else{for(var b=YY[o-1],x=b>>>13,w=8191&b,_=(1<<a)-1,C=new Ft(32768),S=new Ft(_+1),k=Math.ceil(a/3),T=2*k,N=function(gt){return(s[gt]^s[gt+1]<<k^s[gt+2]<<T)&_},A=new Hs(25e3),j=new Ft(288),M=new Ft(32),V=0,D=0,B=(g=0,0),F=0,U=0;g<d;++g){var I=N(g),R=32767&g,E=S[I];if(C[R]=E,S[I]=R,F<=g){var q=d-g;if((V>7e3||B>24576)&&q>423){v=yw(s,f,0,A,j,M,D,B,U,g-U,v),B=V=D=0,U=g;for(var z=0;z<286;++z)j[z]=0;for(z=0;z<30;++z)M[z]=0}var P=2,Z=0,pe=w,ne=R-E&32767;if(q>2&&I==N(g-ne))for(var Q=Math.min(x,q)-1,oe=Math.min(32767,g),de=Math.min(258,q);ne<=oe&&--pe&&R!=E;){if(s[g+P]==s[g+P-ne]){for(var re=0;re<de&&s[g+re]==s[g+re-ne];++re);if(re>P){if(P=re,Z=ne,re>Q)break;var ve=Math.min(ne,re-2),ye=0;for(z=0;z<ve;++z){var Ne=g-ne+z+32768&32767,Qe=Ne-C[Ne]+32768&32767;Qe>ye&&(ye=Qe,E=Ne)}}}ne+=(R=E)-(E=C[R])+32768&32767}if(Z){A[B++]=268435456|lp[P]<<18|gw[Z];var mt=31&lp[P],nt=31&gw[Z];D+=Ig[mt]+Ng[nt],++j[257+mt],++M[nt],F=g+P,++V}else A[B++]=s[g],++j[s[g]]}}v=yw(s,f,u,A,j,M,D,B,U,g-U,v)}return yA(h,0,l+vA(v)+c)}(t,e.level==null?6:e.level,e.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,n,r,!i)},dp=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},ZY=function(t,e){var n=e.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=e.level<2?4:e.level==9?2:0,t[9]=3,e.mtime!=0&&dp(t,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),n){t[3]=8;for(var r=0;r<=n.length;++r)t[r+10]=n.charCodeAt(r)}},eX=function(t){return 10+(t.filename&&t.filename.length+1||0)};function bA(t,e){e===void 0&&(e={});var n=JY(),r=t.length;n.p(t);var i=QY(t,e,eX(e),8),s=i.length;return ZY(i,e),dp(i,s-8,n.d()),dp(i,s-4,r),i}function wA(t,e){var n=t.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(t);for(var r=new an(t.length+(t.length>>>1)),i=0,s=function(c){r[i++]=c},o=0;o<n;++o){if(i+5>r.length){var a=new an(i+8+(n-o<<1));a.set(r),r=a}var l=t.charCodeAt(o);l<128||e?s(l):l<2048?(s(192|l>>>6),s(128|63&l)):l>55295&&l<57344?(s(240|(l=65536+(1047552&l)|1023&t.charCodeAt(++o))>>>18),s(128|l>>>12&63),s(128|l>>>6&63),s(128|63&l)):(s(224|l>>>12),s(128|l>>>6&63),s(128|63&l))}return yA(r,0,i)}function tX(t,e){return function(n){for(var r=0,i=0;i<n.length;i++)r=(r<<5)-r+n.charCodeAt(i),r|=0;return Math.abs(r)}(t)%100<Yt(100*e,0,100,Y)}var Wr="disabled",jg="sampled",Cc="active",Ni="buffering",Mg="paused",Og="trigger",$n=Og+"_activated",St=Og+"_pending",Fn=Og+"_"+Wr;function bw(t,e){return e.some(n=>n.matching==="regex"&&new RegExp(n.url).test(t))}class xA{constructor(e){this.It=e}triggerStatus(e){var n=this.It.map(r=>r.triggerStatus(e));return n.includes($n)?$n:n.includes(St)?St:Fn}stop(){this.It.forEach(e=>e.stop())}}class _A{constructor(e){this.It=e}triggerStatus(e){var n=new Set;for(var r of this.It)n.add(r.triggerStatus(e));switch(n.delete(Fn),n.size){case 0:return Fn;case 1:return Array.from(n)[0];default:return St}}stop(){this.It.forEach(e=>e.stop())}}class nX{triggerStatus(){return St}stop(){}}class rX{constructor(e){this.Pt=[],this.Rt=[],this.urlBlocked=!1,this._instance=e}onRemoteConfig(e){var n,r;this.Pt=((n=e.sessionRecording)==null?void 0:n.urlTriggers)||[],this.Rt=((r=e.sessionRecording)==null?void 0:r.urlBlocklist)||[]}Tt(e){var n;return this.Pt.length===0?Fn:((n=this._instance)==null?void 0:n.get_property(Yf))===e?$n:St}triggerStatus(e){var n=this.Tt(e),r=n===$n?$n:n===St?St:Fn;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:r}),r}checkUrlTriggerConditions(e,n,r){if(O!==void 0&&O.location.href){var i=O.location.href,s=this.urlBlocked,o=bw(i,this.Rt);s&&o||(o&&!s?e():!o&&s&&n(),bw(i,this.Pt)&&r("url"))}}stop(){}}class iX{constructor(e){this.linkedFlag=null,this.linkedFlagSeen=!1,this.Ct=()=>{},this._instance=e}triggerStatus(){var e=St;return ke(this.linkedFlag)&&(e=Fn),this.linkedFlagSeen&&(e=$n),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:e}),e}onRemoteConfig(e,n){var r;if(this.linkedFlag=((r=e.sessionRecording)==null?void 0:r.linkedFlag)||null,!ke(this.linkedFlag)&&!this.linkedFlagSeen){var i=Je(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,s=Je(this.linkedFlag)?null:this.linkedFlag.variant;this.Ct=this._instance.onFeatureFlags((o,a)=>{var l=!1;if(Ge(a)&&i in a){var c=a[i];l=In(c)?c===!0:s?c===s:!!c}this.linkedFlagSeen=l,l&&n(i,s)})}}stop(){this.Ct()}}class sX{constructor(e){this.Mt=[],this._instance=e}onRemoteConfig(e){var n;this.Mt=((n=e.sessionRecording)==null?void 0:n.eventTriggers)||[]}Ft(e){var n;return this.Mt.length===0?Fn:((n=this._instance)==null?void 0:n.get_property(Xf))===e?$n:St}triggerStatus(e){var n=this.Ft(e),r=n===$n?$n:n===St?St:Fn;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:r}),r}stop(){}}function oX(t){return t.isRecordingEnabled?Ni:Wr}function aX(t){if(!t.receivedFlags)return Ni;if(!t.isRecordingEnabled)return Wr;if(t.urlTriggerMatching.urlBlocked)return Mg;var e=t.isSampled===!0,n=new xA([t.eventTriggerMatching,t.urlTriggerMatching,t.linkedFlagMatching]).triggerStatus(t.sessionId);return e?jg:n===$n?Cc:n===St?Ni:t.isSampled===!1?Wr:Cc}function lX(t){if(!t.receivedFlags)return Ni;if(!t.isRecordingEnabled)return Wr;if(t.urlTriggerMatching.urlBlocked)return Mg;var e=new _A([t.eventTriggerMatching,t.urlTriggerMatching,t.linkedFlagMatching]).triggerStatus(t.sessionId),n=e!==Fn,r=In(t.isSampled);return n&&e===St?Ni:n&&e===Fn||r&&!t.isSampled?Wr:t.isSampled===!0?jg:Cc}var Oo="[SessionRecording]",ct=dt(Oo);function Tl(){var t;return ce==null||(t=ce.__PosthogExtensions__)==null||(t=t.rrweb)==null?void 0:t.record}var cX=3e5,uX=[pn.MouseMove,pn.MouseInteraction,pn.Scroll,pn.ViewportResize,pn.Input,pn.TouchMove,pn.MediaInteraction,pn.Drag],ww=t=>({rrwebMethod:t,enqueuedAt:Date.now(),attempt:1});function ci(t){return function(e,n){for(var r="",i=0;i<e.length;){var s=e[i++];s<128||n?r+=String.fromCharCode(s):s<224?r+=String.fromCharCode((31&s)<<6|63&e[i++]):s<240?r+=String.fromCharCode((15&s)<<12|(63&e[i++])<<6|63&e[i++]):(s=((15&s)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++])-65536,r+=String.fromCharCode(55296|s>>10,56320|1023&s))}return r}(bA(wA(JSON.stringify(t))),!0)}function xw(t){return t.type===Zn.Custom&&t.data.tag==="sessionIdle"}class _w{get sessionId(){return this.Ot}get At(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Dt}get jt(){if(!this._instance.sessionManager)throw new Error(Oo+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Lt(){var e,n;return this.Nt.triggerStatus(this.sessionId)===St?6e4:(e=(n=this._instance.config.session_recording)==null?void 0:n.full_snapshot_interval_millis)!==null&&e!==void 0?e:cX}get zt(){var e=this._instance.get_property(No);return In(e)?e:null}get Ut(){var e,n,r=(e=this.H)==null?void 0:e.data[((n=this.H)==null?void 0:n.data.length)-1],{sessionStartTimestamp:i}=this.jt.checkAndGetSessionAndWindowId(!0);return r?r.timestamp-i:null}get qt(){var e=!!this._instance.get_property(Gf),n=!this._instance.config.disable_session_recording;return O&&e&&n}get Bt(){var e=!!this._instance.get_property(Yb),n=this._instance.config.enable_recording_console_log;return n??e}get Ht(){var e,n,r,i,s,o,a=this._instance.config.session_recording.captureCanvas,l=this._instance.get_property(Qb),c=(e=(n=a==null?void 0:a.recordCanvas)!==null&&n!==void 0?n:l==null?void 0:l.enabled)!==null&&e!==void 0&&e,u=(r=(i=a==null?void 0:a.canvasFps)!==null&&i!==void 0?i:l==null?void 0:l.fps)!==null&&r!==void 0?r:4,d=(s=(o=a==null?void 0:a.canvasQuality)!==null&&o!==void 0?o:l==null?void 0:l.quality)!==null&&s!==void 0?s:.4;if(typeof d=="string"){var h=parseFloat(d);d=isNaN(h)?.4:h}return{enabled:c,fps:Yt(u,0,12,ct.createLogger("canvas recording fps"),4),quality:Yt(d,0,1,ct.createLogger("canvas recording quality"),.4)}}get Wt(){var e,n,r=this._instance.get_property(Xb),i={recordHeaders:(e=this._instance.config.session_recording)==null?void 0:e.recordHeaders,recordBody:(n=this._instance.config.session_recording)==null?void 0:n.recordBody},s=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),o=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),a=Ge(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,l=!!(In(a)?a:r!=null&&r.capturePerformance);return s||o||l?{recordHeaders:s,recordBody:o,recordPerformance:l}:void 0}get Gt(){var e,n,r,i,s,o,a=this._instance.get_property(Jb),l={maskAllInputs:(e=this._instance.config.session_recording)==null?void 0:e.maskAllInputs,maskTextSelector:(n=this._instance.config.session_recording)==null?void 0:n.maskTextSelector,blockSelector:(r=this._instance.config.session_recording)==null?void 0:r.blockSelector},c=(i=l==null?void 0:l.maskAllInputs)!==null&&i!==void 0?i:a==null?void 0:a.maskAllInputs,u=(s=l==null?void 0:l.maskTextSelector)!==null&&s!==void 0?s:a==null?void 0:a.maskTextSelector,d=(o=l==null?void 0:l.blockSelector)!==null&&o!==void 0?o:a==null?void 0:a.blockSelector;return G(c)&&G(u)&&G(d)?void 0:{maskAllInputs:c==null||c,maskTextSelector:u,blockSelector:d}}get Jt(){var e=this._instance.get_property(Zb);return wt(e)?e:null}get Vt(){var e=this._instance.get_property(ew);return wt(e)?e:null}get status(){return this.Kt?this.Yt({receivedFlags:this.Kt,isRecordingEnabled:this.qt,isSampled:this.zt,urlTriggerMatching:this.Xt,eventTriggerMatching:this.Qt,linkedFlagMatching:this.Zt,sessionId:this.sessionId}):Ni}constructor(e){if(this.Yt=oX,this.Kt=!1,this.ti=[],this.ii="unknown",this.ei=Date.now(),this.Nt=new nX,this.ri=void 0,this.si=void 0,this.ni=void 0,this.oi=void 0,this.ai=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.li=()=>{this.ui()},this.hi=()=>{this.di("browser offline",{})},this.vi=()=>{this.di("browser online",{})},this.ci=()=>{if(J!=null&&J.visibilityState){var i="window "+J.visibilityState;this.di(i,{})}},this._instance=e,this.Dt=!1,this.fi="/s/",this.pi=void 0,this.Kt=!1,!this._instance.sessionManager)throw ct.error("started without valid sessionManager"),new Error(Oo+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(Oo+' cannot be used with cookieless_mode="always"');this.Zt=new iX(this._instance),this.Xt=new rX(this._instance),this.Qt=new sX(this._instance);var{sessionId:n,windowId:r}=this.jt.checkAndGetSessionAndWindowId();this.Ot=n,this.gi=r,this.H=this.mi(),this.At>=this.jt.sessionTimeoutMs&&ct.warn("session_idle_threshold_ms ("+this.At+") is greater than the session timeout ("+this.jt.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(e){this.qt?(this.bi(e),He(O,"beforeunload",this.li),He(O,"offline",this.hi),He(O,"online",this.vi),He(O,"visibilitychange",this.ci),this.yi(),this.wi(),ke(this.ri)&&(this.ri=this._instance.on("eventCaptured",n=>{try{if(n.event==="$pageview"){var r=n!=null&&n.properties.$current_url?this.Si(n==null?void 0:n.properties.$current_url):"";if(!r)return;this.di("$pageview",{href:r})}}catch(i){ct.error("Could not add $pageview to rrweb session",i)}})),this.si||(this.si=this.jt.onSessionId((n,r,i)=>{var s,o;i&&(this.di("$session_id_change",{sessionId:n,windowId:r,changeReason:i}),(s=this._instance)==null||(s=s.persistence)==null||s.unregister(Xf),(o=this._instance)==null||(o=o.persistence)==null||o.unregister(Yf))}))):this.stopRecording()}stopRecording(){var e,n,r,i;this.Dt&&this.pi&&(this.pi(),this.pi=void 0,this.Dt=!1,O==null||O.removeEventListener("beforeunload",this.li),O==null||O.removeEventListener("offline",this.hi),O==null||O.removeEventListener("online",this.vi),O==null||O.removeEventListener("visibilitychange",this.ci),this.mi(),clearInterval(this.$i),(e=this.ri)==null||e.call(this),this.ri=void 0,(n=this.ai)==null||n.call(this),this.ai=void 0,(r=this.si)==null||r.call(this),this.si=void 0,(i=this.oi)==null||i.call(this),this.oi=void 0,this.Qt.stop(),this.Xt.stop(),this.Zt.stop(),ct.info("stopped"))}xi(){var e;(e=this._instance.persistence)==null||e.unregister(No)}ki(e){var n,r=this.Ot!==e,i=this.Jt;if(wt(i)){var s=this.zt,o=r||!In(s),a=o?tX(e,i):s;o&&(a?this.Ei(jg):ct.warn("Sample rate ("+i+") has determined that this sessionId ("+e+") will not be sent to the server."),this.di("samplingDecisionMade",{sampleRate:i,isSampled:a})),(n=this._instance.persistence)==null||n.register({[No]:a})}else this.xi()}onRemoteConfig(e){var n,r,i,s;this.di("$remote_config_received",e),this.Ii(e),(n=e.sessionRecording)!=null&&n.endpoint&&(this.fi=(s=e.sessionRecording)==null?void 0:s.endpoint),this.yi(),((r=e.sessionRecording)==null?void 0:r.triggerMatchType)==="any"?(this.Yt=aX,this.Nt=new xA([this.Qt,this.Xt])):(this.Yt=lX,this.Nt=new _A([this.Qt,this.Xt])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:(i=e.sessionRecording)==null?void 0:i.triggerMatchType}),this.Xt.onRemoteConfig(e),this.Qt.onRemoteConfig(e),this.Zt.onRemoteConfig(e,(o,a)=>{this.Ei("linked_flag_matched",{flag:o,variant:a})}),this.Kt=!0,this.startIfEnabledOrStop()}yi(){wt(this.Jt)&&ke(this.oi)&&(this.oi=this.jt.onSessionId(e=>{this.ki(e)}))}Ii(e){if(this._instance.persistence){var n,r=this._instance.persistence,i=()=>{var s,o,a,l,c,u,d,h,f,v=(s=e.sessionRecording)==null?void 0:s.sampleRate,g=ke(v)?null:parseFloat(v);ke(g)&&this.xi();var y=(o=e.sessionRecording)==null?void 0:o.minimumDurationMilliseconds;r.register({[Gf]:!!e.sessionRecording,[Yb]:(a=e.sessionRecording)==null?void 0:a.consoleLogRecordingEnabled,[Xb]:X({capturePerformance:e.capturePerformance},(l=e.sessionRecording)==null?void 0:l.networkPayloadCapture),[Jb]:(c=e.sessionRecording)==null?void 0:c.masking,[Qb]:{enabled:(u=e.sessionRecording)==null?void 0:u.recordCanvas,fps:(d=e.sessionRecording)==null?void 0:d.canvasFps,quality:(h=e.sessionRecording)==null?void 0:h.canvasQuality},[Zb]:g,[ew]:G(y)?null:y,[tw]:(f=e.sessionRecording)==null?void 0:f.scriptConfig})};i(),(n=this.ni)==null||n.call(this),this.ni=this.jt.onSessionId(i)}}log(e,n){var r;n===void 0&&(n="log"),(r=this._instance.sessionRecording)==null||r.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:n,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}bi(e){if(!G(Object.assign)&&!G(Array.from)&&!(this.Dt||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var n;this.Dt=!0,this.jt.checkAndGetSessionAndWindowId(),Tl()?this.Pi():(n=ce.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,this.Ri,r=>{if(r)return ct.error("could not load recorder",r);this.Pi()}),ct.info("starting"),this.status===Cc&&this.Ei(e||"recording_initialized")}}get Ri(){var e;return((e=this._instance)==null||(e=e.persistence)==null||(e=e.get_property(tw))==null?void 0:e.script)||"recorder"}Ti(e){var n;return e.type===3&&uX.indexOf((n=e.data)==null?void 0:n.source)!==-1}Ci(e){var n=this.Ti(e);n||this.ii||e.timestamp-this.ei>this.At&&(this.ii=!0,clearInterval(this.$i),this.di("sessionIdle",{eventTimestamp:e.timestamp,lastActivityTimestamp:this.ei,threshold:this.At,bufferLength:this.H.data.length,bufferSize:this.H.size}),this.ui());var r=!1;if(n&&(this.ei=e.timestamp,this.ii)){var i=this.ii==="unknown";this.ii=!1,i||(this.di("sessionNoLongerIdle",{reason:"user activity",type:e.type}),r=!0)}if(!this.ii){var{windowId:s,sessionId:o}=this.jt.checkAndGetSessionAndWindowId(!n,e.timestamp),a=this.Ot!==o,l=this.gi!==s;this.gi=s,this.Ot=o,a||l?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):r&&this.Mi()}}Fi(e){try{return e.rrwebMethod(),!0}catch(n){return this.ti.length<10?this.ti.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):ct.warn("could not emit queued rrweb event.",n,e),!1}}di(e,n){return this.Fi(ww(()=>Tl().addCustomEvent(e,n)))}Oi(){return this.Fi(ww(()=>Tl().takeFullSnapshot()))}Pi(){var e,n,r,i,s={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},o=this._instance.config.session_recording;for(var[a,l]of Object.entries(o||{}))a in s&&(a==="maskInputOptions"?s.maskInputOptions=X({password:!0},l):s[a]=l);this.Ht&&this.Ht.enabled&&(s.recordCanvas=!0,s.sampling={canvas:this.Ht.fps},s.dataURLOptions={type:"image/webp",quality:this.Ht.quality}),this.Gt&&(s.maskAllInputs=(n=this.Gt.maskAllInputs)===null||n===void 0||n,s.maskTextSelector=(r=this.Gt.maskTextSelector)!==null&&r!==void 0?r:void 0,s.blockSelector=(i=this.Gt.blockSelector)!==null&&i!==void 0?i:void 0);var c=Tl();if(c){this.Ai=(e=this.Ai)!==null&&e!==void 0?e:new WY(c,{refillRate:this._instance.config.session_recording.__mutationThrottlerRefillRate,bucketSize:this._instance.config.session_recording.__mutationThrottlerBucketSize,onBlockedNode:(d,h)=>{var f="Too many mutations on node '"+d+"'. Rate limiting. This could be due to SVG animations or something similar";ct.info(f,{node:h}),this.log(Oo+" "+f,"warn")}});var u=this.Di();this.pi=c(X({emit:d=>{this.onRRwebEmit(d)},plugins:u},s)),this.ei=Date.now(),this.ii=In(this.ii)?this.ii:"unknown",this.di("$session_options",{sessionRecordingOptions:s,activePlugins:u.map(d=>d==null?void 0:d.name)}),this.di("$posthog_config",{config:this._instance.config})}else ct.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Mi(){if(this.$i&&clearInterval(this.$i),this.ii!==!0){var e=this.Lt;e&&(this.$i=setInterval(()=>{this.Oi()},e))}}Di(){var e,n,r=[],i=(e=ce.__PosthogExtensions__)==null||(e=e.rrwebPlugins)==null?void 0:e.getRecordConsolePlugin;i&&this.Bt&&r.push(i());var s=(n=ce.__PosthogExtensions__)==null||(n=n.rrwebPlugins)==null?void 0:n.getRecordNetworkPlugin;return this.Wt&&on(s)&&(!uY.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?r.push(s(HY(this._instance.config,this.Wt))):ct.info("NetworkCapture not started because we are on localhost.")),r}onRRwebEmit(e){var n;if(this.ji(),e&&Ge(e)){if(e.type===Zn.Meta){var r=this.Si(e.data.href);if(this.Li=r,!r)return;e.data.href=r}else this.Ni();if(this.Xt.checkUrlTriggerConditions(()=>this.zi(),()=>this.Ui(),h=>this.qi(h)),!this.Xt.urlBlocked||(i=e).type===Zn.Custom&&i.data.tag==="recording paused"){var i;e.type===Zn.FullSnapshot&&this.Mi(),e.type===Zn.FullSnapshot&&this.Kt&&this.Nt.triggerStatus(this.sessionId)===St&&this.mi();var s=this.Ai?this.Ai.throttleMutations(e):e;if(s){var o=function(h){var f=h;if(f&&Ge(f)&&f.type===6&&Ge(f.data)&&f.data.plugin==="rrweb/console@1"){f.data.payload.payload.length>10&&(f.data.payload.payload=f.data.payload.payload.slice(0,10),f.data.payload.payload.push("...[truncated]"));for(var v=[],g=0;g<f.data.payload.payload.length;g++)f.data.payload.payload[g]&&f.data.payload.payload[g].length>2e3?v.push(f.data.payload.payload[g].slice(0,2e3)+"...[truncated]"):v.push(f.data.payload.payload[g]);return f.data.payload.payload=v,h}return h}(s);if(this.Ci(o),this.ii!==!0||xw(o)){if(xw(o)){var a=o.data.payload;if(a){var l=a.lastActivityTimestamp,c=a.threshold;o.timestamp=l+c}}var u=(n=this._instance.config.session_recording.compress_events)===null||n===void 0||n?function(h){if(_c(h)<1024)return h;try{if(h.type===Zn.FullSnapshot)return X({},h,{data:ci(h.data),cv:"2024-10"});if(h.type===Zn.IncrementalSnapshot&&h.data.source===pn.Mutation)return X({},h,{cv:"2024-10",data:X({},h.data,{texts:ci(h.data.texts),attributes:ci(h.data.attributes),removes:ci(h.data.removes),adds:ci(h.data.adds)})});if(h.type===Zn.IncrementalSnapshot&&h.data.source===pn.StyleSheetRule)return X({},h,{cv:"2024-10",data:X({},h.data,{adds:h.data.adds?ci(h.data.adds):void 0,removes:h.data.removes?ci(h.data.removes):void 0})})}catch(f){ct.error("could not compress event - will use uncompressed event",f)}return h}(o):o,d={$snapshot_bytes:_c(u),$snapshot_data:u,$session_id:this.Ot,$window_id:this.gi};this.status!==Wr?this.Bi(d):this.mi()}}}}}Ni(){if(!this._instance.config.capture_pageview&&O){var e=this.Si(O.location.href);this.Li!==e&&(this.di("$url_changed",{href:e}),this.Li=e)}}ji(){if(this.ti.length){var e=[...this.ti];this.ti=[],e.forEach(n=>{Date.now()-n.enqueuedAt<=2e3&&this.Fi(n)})}}Si(e){var n=this._instance.config.session_recording;if(n.maskNetworkRequestFn){var r,i={url:e};return(r=i=n.maskNetworkRequestFn(i))==null?void 0:r.url}return e}mi(){return this.H={size:0,data:[],sessionId:this.Ot,windowId:this.gi},this.H}ui(){this.Hi&&(clearTimeout(this.Hi),this.Hi=void 0);var e=this.Vt,n=this.Ut,r=wt(n)&&n>=0,i=wt(e)&&r&&n<e;return this.status===Ni||this.status===Mg||this.status===Wr||i?(this.Hi=setTimeout(()=>{this.ui()},2e3),this.H):(this.H.data.length>0&&sp(this.H).forEach(s=>{this.Wi({$snapshot_bytes:s.size,$snapshot_data:s.data,$session_id:s.sessionId,$window_id:s.windowId,$lib:"web",$lib_version:er.LIB_VERSION})}),this.mi())}Bi(e){var n,r=2+(((n=this.H)==null?void 0:n.data.length)||0);!this.ii&&(this.H.size+e.$snapshot_bytes+r>943718.4||this.H.sessionId!==this.Ot)&&(this.H=this.ui()),this.H.size+=e.$snapshot_bytes,this.H.data.push(e.$snapshot_data),this.Hi||this.ii||(this.Hi=setTimeout(()=>{this.ui()},2e3))}Wi(e){this._instance.capture("$snapshot",e,{_url:this._instance.requestRouter.endpointFor("api",this.fi),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}qi(e){var n;this.Nt.triggerStatus(this.sessionId)===St&&((n=this._instance)==null||(n=n.persistence)==null||n.register({[e==="url"?Yf:Xf]:this.Ot}),this.ui(),this.Ei(e+"_trigger_matched"))}zi(){this.Xt.urlBlocked||(this.Xt.urlBlocked=!0,clearInterval(this.$i),ct.info("recording paused due to URL blocker"),this.di("recording paused",{reason:"url blocker"}))}Ui(){this.Xt.urlBlocked&&(this.Xt.urlBlocked=!1,this.Oi(),this.Mi(),this.di("recording resumed",{reason:"left blocked url"}),ct.info("recording resumed"))}wi(){this.Qt.Mt.length!==0&&ke(this.ai)&&(this.ai=this._instance.on("eventCaptured",e=>{try{this.Qt.Mt.includes(e.event)&&this.qi("event")}catch(n){ct.error("Could not activate event trigger",n)}}))}overrideLinkedFlag(){this.Zt.linkedFlagSeen=!0,this.Oi(),this.Ei("linked_flag_overridden")}overrideSampling(){var e;(e=this._instance.persistence)==null||e.register({[No]:!0}),this.Oi(),this.Ei("sampling_overridden")}overrideTrigger(e){this.qi(e)}Ei(e,n){this._instance.register_for_session({$session_recording_start_reason:e}),ct.info(e.replace("_"," "),n),we(["recording_initialized","session_id_changed"],e)||this.di(e,n)}get sdkDebugProperties(){var{sessionStartTimestamp:e}=this.jt.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.H.data.length,$sdk_debug_replay_internal_buffer_size:this.H.size,$sdk_debug_current_session_duration:this.Ut,$sdk_debug_session_start:e}}}var ih=dt("[SegmentIntegration]");function dX(t,e){var n=t.config.segment;if(!n)return e();(function(r,i){var s=r.config.segment;if(!s)return i();var o=l=>{var c=()=>l.anonymousId()||jr();r.config.get_device_id=c,l.id()&&(r.register({distinct_id:l.id(),$device_id:c()}),r.persistence.set_property(Jn,"identified")),i()},a=s.user();"then"in a&&on(a.then)?a.then(l=>o(l)):o(a)})(t,()=>{n.register((r=>{Promise&&Promise.resolve||ih.warn("This browser does not have Promise support, and can not use the segment integration");var i=(s,o)=>{if(!o)return s;s.event.userId||s.event.anonymousId===r.get_distinct_id()||(ih.info("No userId set, resetting PostHog"),r.reset()),s.event.userId&&s.event.userId!==r.get_distinct_id()&&(ih.info("UserId set, identifying with PostHog"),r.identify(s.event.userId));var a=r.calculateEventProperties(o,s.event.properties);return s.event.properties=Object.assign({},a,s.event.properties),s};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:s=>i(s,s.event.event),page:s=>i(s,"$pageview"),identify:s=>i(s,"$identify"),screen:s=>i(s,"$screen")}})(t)).then(()=>{e()})})}var SA="posthog-js";function CA(t,e){var{organization:n,projectId:r,prefix:i,severityAllowList:s=["error"]}=e===void 0?{}:e;return o=>{var a,l,c,u,d;if(!(s==="*"||s.includes(o.level))||!t.__loaded)return o;o.tags||(o.tags={});var h=t.requestRouter.endpointFor("ui","/project/"+t.config.token+"/person/"+t.get_distinct_id());o.tags["PostHog Person URL"]=h,t.sessionRecordingStarted()&&(o.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var f=((a=o.exception)==null?void 0:a.values)||[],v=f.map(y=>X({},y,{stacktrace:y.stacktrace?X({},y.stacktrace,{type:"raw",frames:(y.stacktrace.frames||[]).map(b=>X({},b,{platform:"web:javascript"}))}):void 0})),g={$exception_message:((l=f[0])==null?void 0:l.value)||o.message,$exception_type:(c=f[0])==null?void 0:c.type,$exception_personURL:h,$exception_level:o.level,$exception_list:v,$sentry_event_id:o.event_id,$sentry_exception:o.exception,$sentry_exception_message:((u=f[0])==null?void 0:u.value)||o.message,$sentry_exception_type:(d=f[0])==null?void 0:d.type,$sentry_tags:o.tags};return n&&r&&(g.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+o.event_id),t.exceptions.sendExceptionEvent(g),o}}class hX{constructor(e,n,r,i,s){this.name=SA,this.setupOnce=function(o){o(CA(e,{organization:n,projectId:r,prefix:i,severityAllowList:s}))}}}var fX=O!=null&&O.location?wc(O.location.hash,"__posthog")||wc(location.hash,"state"):null,Sw="_postHogToolbarParams",Cw=dt("[Toolbar]"),kr=function(t){return t[t.UNINITIALIZED=0]="UNINITIALIZED",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t}(kr||{});class pX{constructor(e){this.instance=e}Gi(e){ce.ph_toolbar_state=e}Ji(){var e;return(e=ce.ph_toolbar_state)!==null&&e!==void 0?e:kr.UNINITIALIZED}maybeLoadToolbar(e,n,r){if(e===void 0&&(e=void 0),n===void 0&&(n=void 0),r===void 0&&(r=void 0),!O||!J)return!1;e=e??O.location,r=r??O.history;try{if(!n){try{O.localStorage.setItem("test","test"),O.localStorage.removeItem("test")}catch{return!1}n=O==null?void 0:O.localStorage}var i,s=fX||wc(e.hash,"__posthog")||wc(e.hash,"state"),o=s?zb(()=>JSON.parse(atob(decodeURIComponent(s))))||zb(()=>JSON.parse(decodeURIComponent(s))):null;return o&&o.action==="ph_authorize"?((i=o).source="url",i&&Object.keys(i).length>0&&(o.desiredHash?e.hash=o.desiredHash:r?r.replaceState(r.state,"",e.pathname+e.search):e.hash="")):((i=JSON.parse(n.getItem(Sw)||"{}")).source="localstorage",delete i.userIntent),!(!i.token||this.instance.config.token!==i.token)&&(this.loadToolbar(i),!0)}catch{return!1}}Vi(e){var n=ce.ph_load_toolbar||ce.ph_load_editor;!ke(n)&&on(n)?n(e,this.instance):Cw.warn("No toolbar load function found")}loadToolbar(e){var n=!(J==null||!J.getElementById(XP));if(!O||n)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=X({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(O.localStorage.setItem(Sw,JSON.stringify(X({},i,{source:void 0}))),this.Ji()===kr.LOADED)this.Vi(i);else if(this.Ji()===kr.UNINITIALIZED){var s;this.Gi(kr.LOADING),(s=ce.__PosthogExtensions__)==null||s.loadExternalDependency==null||s.loadExternalDependency(this.instance,"toolbar",o=>{if(o)return Cw.error("[Toolbar] Failed to load",o),void this.Gi(kr.UNINITIALIZED);this.Gi(kr.LOADED),this.Vi(i)}),He(O,"turbolinks:load",()=>{this.Gi(kr.UNINITIALIZED),this.loadToolbar(i)})}return!0}Ki(e){return this.loadToolbar(e)}maybeLoadEditor(e,n,r){return e===void 0&&(e=void 0),n===void 0&&(n=void 0),r===void 0&&(r=void 0),this.maybeLoadToolbar(e,n,r)}}var mX=dt("[TracingHeaders]");class gX{constructor(e){this.Yi=void 0,this.Xi=void 0,this.lt=()=>{var n,r;G(this.Yi)&&((n=ce.__PosthogExtensions__)==null||(n=n.tracingHeadersPatchFns)==null||n._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),G(this.Xi)&&((r=ce.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=e}nt(e){var n,r;(n=ce.__PosthogExtensions__)!=null&&n.tracingHeadersPatchFns&&e(),(r=ce.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"tracing-headers",i=>{if(i)return mX.error("failed to load script",i);e()})}startIfEnabledOrStop(){var e,n;this._instance.config.__add_tracing_headers?this.nt(this.lt):((e=this.Yi)==null||e.call(this),(n=this.Xi)==null||n.call(this),this.Yi=void 0,this.Xi=void 0)}}var gr=dt("[Web Vitals]"),kw=9e5;class vX{constructor(e){var n;this.Qi=!1,this.C=!1,this.H={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Zi=()=>{clearTimeout(this.te),this.H.metrics.length!==0&&(this._instance.capture("$web_vitals",this.H.metrics.reduce((r,i)=>X({},r,{["$web_vitals_"+i.name+"_event"]:X({},i),["$web_vitals_"+i.name+"_value"]:i.value}),{})),this.H={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.ie=r=>{var i,s=(i=this._instance.sessionManager)==null?void 0:i.checkAndGetSessionAndWindowId(!0);if(G(s))gr.error("Could not read session ID. Dropping metrics!");else{this.H=this.H||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var o=this.ee();G(o)||(ke(r==null?void 0:r.name)||ke(r==null?void 0:r.value)?gr.error("Invalid metric received",r):this.re&&r.value>=this.re?gr.error("Ignoring metric with value >= "+this.re,r):(this.H.url!==o&&(this.Zi(),this.te=setTimeout(this.Zi,this.flushToCaptureTimeoutMs)),G(this.H.url)&&(this.H.url=o),this.H.firstMetricTimestamp=G(this.H.firstMetricTimestamp)?Date.now():this.H.firstMetricTimestamp,r.attribution&&r.attribution.interactionTargetElement&&(r.attribution.interactionTargetElement=void 0),this.H.metrics.push(X({},r,{$current_url:o,$session_id:s.sessionId,$window_id:s.windowId,timestamp:Date.now()})),this.H.metrics.length===this.allowedMetrics.length&&this.Zi()))}},this.lt=()=>{var r,i,s,o,a=ce.__PosthogExtensions__;G(a)||G(a.postHogWebVitalsCallbacks)||({onLCP:r,onCLS:i,onFCP:s,onINP:o}=a.postHogWebVitalsCallbacks),r&&i&&s&&o?(this.allowedMetrics.indexOf("LCP")>-1&&r(this.ie.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&i(this.ie.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&s(this.ie.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&o(this.ie.bind(this)),this.C=!0):gr.error("web vitals callbacks not loaded - not starting")},this._instance=e,this.Qi=!((n=this._instance.persistence)==null||!n.props[Kb]),this.startIfEnabled()}get allowedMetrics(){var e,n,r=Ge(this._instance.config.capture_performance)?(e=this._instance.config.capture_performance)==null?void 0:e.web_vitals_allowed_metrics:void 0;return G(r)?((n=this._instance.persistence)==null?void 0:n.props[Gb])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(Ge(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get re(){var e=Ge(this._instance.config.capture_performance)&&wt(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:kw;return 0<e&&e<=6e4?kw:e}get isEnabled(){var e=Dt==null?void 0:Dt.protocol;if(e!=="http:"&&e!=="https:")return gr.info("Web Vitals are disabled on non-http/https protocols"),!1;var n=Ge(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:In(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return In(n)?n:this.Qi}startIfEnabled(){this.isEnabled&&!this.C&&(gr.info("enabled, starting..."),this.nt(this.lt))}onRemoteConfig(e){var n=Ge(e.capturePerformance)&&!!e.capturePerformance.web_vitals,r=Ge(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[Kb]:n}),this._instance.persistence.register({[Gb]:r})),this.Qi=n,this.startIfEnabled()}nt(e){var n,r;(n=ce.__PosthogExtensions__)!=null&&n.postHogWebVitalsCallbacks&&e(),(r=ce.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"web-vitals",i=>{i?gr.error("failed to load script",i):e()})}ee(){var e=O?O.location.href:void 0;return e||gr.error("Could not determine current URL"),e}}var yX=dt("[Heatmaps]");function Ew(t){return Ge(t)&&"clientX"in t&&"clientY"in t&&wt(t.clientX)&&wt(t.clientY)}class bX{constructor(e){var n;this.rageclicks=new aA,this.Qi=!1,this.C=!1,this.se=null,this.instance=e,this.Qi=!((n=this.instance.persistence)==null||!n.props[qf])}get flushIntervalMilliseconds(){var e=5e3;return Ge(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return G(this.instance.config.capture_heatmaps)?G(this.instance.config.enable_heatmaps)?this.Qi:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.C)return;yX.info("starting..."),this.ne(),this.se=setInterval(this.oe.bind(this),this.flushIntervalMilliseconds)}else{var e,n;clearInterval((e=this.se)!==null&&e!==void 0?e:void 0),(n=this.ae)==null||n.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var n=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[qf]:n}),this.Qi=n,this.startIfEnabled()}getAndClearBuffer(){var e=this.H;return this.H=void 0,e}le(e){this.ue(e.originalEvent,"deadclick")}ne(){O&&J&&(He(O,"beforeunload",this.oe.bind(this)),He(J,"click",e=>this.ue(e||(O==null?void 0:O.event)),{capture:!0}),He(J,"mousemove",e=>this.he(e||(O==null?void 0:O.event)),{capture:!0}),this.ae=new cA(this.instance,CY,this.le.bind(this)),this.ae.startIfEnabled(),this.C=!0)}de(e,n){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),o=function(a,l,c){for(var u=a;u&&Nu(u)&&!$r(u,"body");){if(u===c)return!1;if(we(l,O==null?void 0:O.getComputedStyle(u).position))return!0;u=tA(u)}return!1}(eA(e),["fixed","sticky"],s);return{x:e.clientX+(o?0:i),y:e.clientY+(o?0:r),target_fixed:o,type:n}}ue(e,n){var r;if(n===void 0&&(n="click"),!nw(e.target)&&Ew(e)){var i=this.de(e,n);(r=this.rageclicks)!=null&&r.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.ve(X({},i,{type:"rageclick"})),this.ve(i)}}he(e){!nw(e.target)&&Ew(e)&&(clearTimeout(this.ce),this.ce=setTimeout(()=>{this.ve(this.de(e,"mousemove"))},500))}ve(e){if(O){var n=O.location.href;this.H=this.H||{},this.H[n]||(this.H[n]=[]),this.H[n].push(e)}}oe(){this.H&&!fs(this.H)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class wX{constructor(e){this._instance=e}doPageView(e,n){var r,i=this.fe(e,n);return this.pe={pathname:(r=O==null?void 0:O.location.pathname)!==null&&r!==void 0?r:"",pageViewId:n,timestamp:e},this._instance.scrollManager.resetContext(),i}doPageLeave(e){var n;return this.fe(e,(n=this.pe)==null?void 0:n.pageViewId)}doEvent(){var e;return{$pageview_id:(e=this.pe)==null?void 0:e.pageViewId}}fe(e,n){var r=this.pe;if(!r)return{$pageview_id:n};var i={$pageview_id:n,$prev_pageview_id:r.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:o,lastScrollY:a,maxScrollY:l,maxContentHeight:c,lastContentY:u,maxContentY:d}=s;if(!(G(o)||G(a)||G(l)||G(c)||G(u)||G(d))){o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),d=Math.ceil(d);var h=o<=1?1:Yt(a/o,0,1,Y),f=o<=1?1:Yt(l/o,0,1,Y),v=c<=1?1:Yt(u/c,0,1,Y),g=c<=1?1:Yt(d/c,0,1,Y);i=et(i,{$prev_pageview_last_scroll:a,$prev_pageview_last_scroll_percentage:h,$prev_pageview_max_scroll:l,$prev_pageview_max_scroll_percentage:f,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:v,$prev_pageview_max_content:d,$prev_pageview_max_content_percentage:g})}}return r.pathname&&(i.$prev_pageview_pathname=r.pathname),r.timestamp&&(i.$prev_pageview_duration=(e.getTime()-r.timestamp.getTime())/1e3),i}}var xX=function(t){var e,n,r,i,s="";for(e=n=0,r=(t=(t+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var o=t.charCodeAt(i),a=null;o<128?n++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),Qr(a)||(n>e&&(s+=t.substring(e,n)),s+=a,e=n=i+1)}return n>e&&(s+=t.substring(e,t.length)),s},_X=!!zf||!!Vf,Tw="text/plain",kc=(t,e)=>{var[n,r]=t.split("?"),i=X({},e);r==null||r.split("&").forEach(o=>{var[a]=o.split("=");delete i[a]});var s=dY(i);return n+"?"+(s=s?(r?r+"&":"")+s:r)},Do=(t,e)=>JSON.stringify(t,(n,r)=>typeof r=="bigint"?r.toString():r,e),sh=t=>{var{data:e,compression:n}=t;if(e){if(n===tr.GZipJS){var r=bA(wA(Do(e)),{mtime:0}),i=new Blob([r],{type:Tw});return{contentType:Tw,body:i,estimatedSize:i.size}}if(n===tr.Base64){var s=function(l){var c,u,d,h,f,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g=0,y=0,b="",x=[];if(!l)return l;l=xX(l);do c=(f=l.charCodeAt(g++)<<16|l.charCodeAt(g++)<<8|l.charCodeAt(g++))>>18&63,u=f>>12&63,d=f>>6&63,h=63&f,x[y++]=v.charAt(c)+v.charAt(u)+v.charAt(d)+v.charAt(h);while(g<l.length);switch(b=x.join(""),l.length%3){case 1:b=b.slice(0,-2)+"==";break;case 2:b=b.slice(0,-1)+"="}return b}(Do(e)),o=(l=>"data="+encodeURIComponent(typeof l=="string"?l:Do(l)))(s);return{contentType:"application/x-www-form-urlencoded",body:o,estimatedSize:new Blob([o]).size}}var a=Do(e);return{contentType:"application/json",body:a,estimatedSize:new Blob([a]).size}}},Qo=[];Vf&&Qo.push({transport:"fetch",method:t=>{var e,n,{contentType:r,body:i,estimatedSize:s}=(e=sh(t))!==null&&e!==void 0?e:{},o=new Headers;Ie(t.headers,function(u,d){o.append(d,u)}),r&&o.append("Content-Type",r);var a=t.url,l=null;if(Ub){var c=new Ub;l={signal:c.signal,timeout:setTimeout(()=>c.abort(),t.timeout)}}Vf(a,X({method:(t==null?void 0:t.method)||"GET",headers:o,keepalive:t.method==="POST"&&(s||0)<52428.8,body:i,signal:(n=l)==null?void 0:n.signal},t.fetchOptions)).then(u=>u.text().then(d=>{var h={statusCode:u.status,text:d};if(u.status===200)try{h.json=JSON.parse(d)}catch(f){Y.error(f)}t.callback==null||t.callback(h)})).catch(u=>{Y.error(u),t.callback==null||t.callback({statusCode:0,text:u})}).finally(()=>l?clearTimeout(l.timeout):null)}}),zf&&Qo.push({transport:"XHR",method:t=>{var e,n=new zf;n.open(t.method||"GET",t.url,!0);var{contentType:r,body:i}=(e=sh(t))!==null&&e!==void 0?e:{};Ie(t.headers,function(s,o){n.setRequestHeader(o,s)}),r&&n.setRequestHeader("Content-Type",r),t.timeout&&(n.timeout=t.timeout),n.withCredentials=!0,n.onreadystatechange=()=>{if(n.readyState===4){var s={statusCode:n.status,text:n.responseText};if(n.status===200)try{s.json=JSON.parse(n.responseText)}catch{}t.callback==null||t.callback(s)}},n.send(i)}}),Gt!=null&&Gt.sendBeacon&&Qo.push({transport:"sendBeacon",method:t=>{var e=kc(t.url,{beacon:"1"});try{var n,{contentType:r,body:i}=(n=sh(t))!==null&&n!==void 0?n:{},s=typeof i=="string"?new Blob([i],{type:r}):i;Gt.sendBeacon(e,s)}catch{}}});var Ws=function(t,e){if(!function(n){try{new RegExp(n)}catch{return!1}return!0}(e))return!1;try{return new RegExp(e).test(t)}catch{return!1}};function Pw(t,e,n){return Do({distinct_id:t,userPropertiesToSet:e,userPropertiesToSetOnce:n})}var SX={exact:(t,e)=>e.some(n=>t.some(r=>n===r)),is_not:(t,e)=>e.every(n=>t.every(r=>n!==r)),regex:(t,e)=>e.some(n=>t.some(r=>Ws(n,r))),not_regex:(t,e)=>e.every(n=>t.every(r=>!Ws(n,r))),icontains:(t,e)=>e.map(Pl).some(n=>t.map(Pl).some(r=>n.includes(r))),not_icontains:(t,e)=>e.map(Pl).every(n=>t.map(Pl).every(r=>!n.includes(r)))},Pl=t=>t.toLowerCase(),Aw=dt("[Error tracking]");class CX{constructor(e){var n,r;this.ge=[],this._instance=e,this.ge=(n=(r=this._instance.persistence)==null?void 0:r.get_property(Kf))!==null&&n!==void 0?n:[]}onRemoteConfig(e){var n,r,i,s=(n=(r=e.errorTracking)==null?void 0:r.suppressionRules)!==null&&n!==void 0?n:[],o=(i=e.errorTracking)==null?void 0:i.captureExtensionExceptions;this.ge=s,this._instance.persistence&&this._instance.persistence.register({[Kf]:this.ge,[qb]:o})}get _e(){var e,n=!!this._instance.get_property(qb),r=this._instance.config.error_tracking.captureExtensionExceptions;return(e=r??n)!==null&&e!==void 0&&e}sendExceptionEvent(e){if(this.me(e))Aw.info("Skipping exception capture because a suppression rule matched");else{if(this._e||!this.be(e))return this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent"});Aw.info("Skipping exception capture because it was thrown by an extension")}}me(e){var n=e.$exception_list;if(!n||!Be(n)||n.length===0)return!1;var r=n.reduce((i,s)=>{var{type:o,value:a}=s;return Je(o)&&o.length>0&&i.$exception_types.push(o),Je(a)&&a.length>0&&i.$exception_values.push(a),i},{$exception_types:[],$exception_values:[]});return this.ge.some(i=>{var s=i.values.map(o=>{var a,l=SX[o.operator],c=Be(o.value)?o.value:[o.value],u=(a=r[o.key])!==null&&a!==void 0?a:[];return c.length>0&&l(c,u)});return i.type==="OR"?s.some(Boolean):s.every(Boolean)})}be(e){var n=e.$exception_list;return!(!n||!Be(n))&&n.flatMap(r=>{var i,s;return(i=(s=r.stacktrace)==null?void 0:s.frames)!==null&&i!==void 0?i:[]}).some(r=>r.filename&&r.filename.startsWith("chrome-extension://"))}}var ln="Mobile",Ec="iOS",Nn="Android",ya="Tablet",kA=Nn+" "+ya,EA="iPad",TA="Apple",PA=TA+" Watch",ba="Safari",qs="BlackBerry",AA="Samsung",RA=AA+"Browser",IA=AA+" Internet",ji="Chrome",kX=ji+" OS",NA=ji+" "+Ec,Dg="Internet Explorer",jA=Dg+" "+ln,$g="Opera",EX=$g+" Mini",Lg="Edge",MA="Microsoft "+Lg,Cs="Firefox",OA=Cs+" "+Ec,wa="Nintendo",xa="PlayStation",ks="Xbox",DA=Nn+" "+ln,$A=ln+" "+ba,$o="Windows",hp=$o+" Phone",Rw="Nokia",fp="Ouya",LA="Generic",TX=LA+" "+ln.toLowerCase(),FA=LA+" "+ya.toLowerCase(),pp="Konqueror",Et="(\\d+(\\.\\d+)?)",oh=new RegExp("Version/"+Et),PX=new RegExp(ks,"i"),AX=new RegExp(xa+" \\w+","i"),RX=new RegExp(wa+" \\w+","i"),Fg=new RegExp(qs+"|PlayBook|BB10","i"),IX={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},NX=(t,e)=>e&&we(e,TA)||function(n){return we(n,ba)&&!we(n,ji)&&!we(n,Nn)}(t),BA=function(t,e){return e=e||"",we(t," OPR/")&&we(t,"Mini")?EX:we(t," OPR/")?$g:Fg.test(t)?qs:we(t,"IE"+ln)||we(t,"WPDesktop")?jA:we(t,RA)?IA:we(t,Lg)||we(t,"Edg/")?MA:we(t,"FBIOS")?"Facebook "+ln:we(t,"UCWEB")||we(t,"UCBrowser")?"UC Browser":we(t,"CriOS")?NA:we(t,"CrMo")||we(t,ji)?ji:we(t,Nn)&&we(t,ba)?DA:we(t,"FxiOS")?OA:we(t.toLowerCase(),pp.toLowerCase())?pp:NX(t,e)?we(t,ln)?$A:ba:we(t,Cs)?Cs:we(t,"MSIE")||we(t,"Trident/")?Dg:we(t,"Gecko")?Cs:""},jX={[jA]:[new RegExp("rv:"+Et)],[MA]:[new RegExp(Lg+"?\\/"+Et)],[ji]:[new RegExp("("+ji+"|CrMo)\\/"+Et)],[NA]:[new RegExp("CriOS\\/"+Et)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Et)],[ba]:[oh],[$A]:[oh],[$g]:[new RegExp("(Opera|OPR)\\/"+Et)],[Cs]:[new RegExp(Cs+"\\/"+Et)],[OA]:[new RegExp("FxiOS\\/"+Et)],[pp]:[new RegExp("Konqueror[:/]?"+Et,"i")],[qs]:[new RegExp(qs+" "+Et),oh],[DA]:[new RegExp("android\\s"+Et,"i")],[IA]:[new RegExp(RA+"\\/"+Et)],[Dg]:[new RegExp("(rv:|MSIE )"+Et)],Mozilla:[new RegExp("rv:"+Et)]},MX=function(t,e){var n=BA(t,e),r=jX[n];if(G(r))return null;for(var i=0;i<r.length;i++){var s=r[i],o=t.match(s);if(o)return parseFloat(o[o.length-2])}return null},Iw=[[new RegExp(ks+"; "+ks+" (.*?)[);]","i"),t=>[ks,t&&t[1]||""]],[new RegExp(wa,"i"),[wa,""]],[new RegExp(xa,"i"),[xa,""]],[Fg,[qs,""]],[new RegExp($o,"i"),(t,e)=>{if(/Phone/.test(e)||/WPDesktop/.test(e))return[hp,""];if(new RegExp(ln).test(e)&&!/IEMobile\b/.test(e))return[$o+" "+ln,""];var n=/Windows NT ([0-9.]+)/i.exec(e);if(n&&n[1]){var r=n[1],i=IX[r]||"";return/arm/i.test(e)&&(i="RT"),[$o,i]}return[$o,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,t=>{if(t&&t[3]){var e=[t[3],t[4],t[5]||"0"];return[Ec,e.join(".")]}return[Ec,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,t=>{var e="";return t&&t.length>=3&&(e=G(t[2])?t[3]:t[2]),["watchOS",e]}],[new RegExp("("+Nn+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Nn+")","i"),t=>{if(t&&t[2]){var e=[t[2],t[3],t[4]||"0"];return[Nn,e.join(".")]}return[Nn,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,t=>{var e=["Mac OS X",""];if(t&&t[1]){var n=[t[1],t[2],t[3]||"0"];e[1]=n.join(".")}return e}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[kX,""]],[/Linux|debian/i,["Linux",""]]],Nw=function(t){return RX.test(t)?wa:AX.test(t)?xa:PX.test(t)?ks:new RegExp(fp,"i").test(t)?fp:new RegExp("("+hp+"|WPDesktop)","i").test(t)?hp:/iPad/.test(t)?EA:/iPod/.test(t)?"iPod Touch":/iPhone/.test(t)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(t)?PA:Fg.test(t)?qs:/(kobo)\s(ereader|touch)/i.test(t)?"Kobo":new RegExp(Rw,"i").test(t)?Rw:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(t)||/(kf[a-z]+)( bui|\)).+silk\//i.test(t)?"Kindle Fire":/(Android|ZTE)/i.test(t)?!new RegExp(ln).test(t)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(t)?/pixel[\daxl ]{1,6}/i.test(t)&&!/pixel c/i.test(t)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(t)||/lmy47v/i.test(t)&&!/QTAQZ3/i.test(t)?Nn:kA:Nn:new RegExp("(pda|"+ln+")","i").test(t)?TX:new RegExp(ya,"i").test(t)&&!new RegExp(ya+" pc","i").test(t)?FA:""},Al="https?://(.*)",Mu=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],OX=Iu(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],Mu),Bg="<masked>",DX=["li_fat_id"];function UA(t,e,n){if(!J)return{};var r,i=e?Iu([],Mu,n||[]):[],s=VA(Ag(J.URL,i,Bg),t),o=(r={},Ie(DX,function(a){var l=Dn.V(a);r[a]=l||null}),r);return et(o,s)}function VA(t,e){var n=OX.concat(e||[]),r={};return Ie(n,function(i){var s=bc(t,i);r[i]=s||null}),r}function zA(t){var e=function(s){return s?s.search(Al+"google.([^/?]*)")===0?"google":s.search(Al+"bing.com")===0?"bing":s.search(Al+"yahoo.com")===0?"yahoo":s.search(Al+"duckduckgo.com")===0?"duckduckgo":null:null}(t),n=e!="yahoo"?"q":"p",r={};if(!Qr(e)){r.$search_engine=e;var i=J?bc(J.referrer,n):"";i.length&&(r.ph_keyword=i)}return r}function jw(){return navigator.language||navigator.userLanguage}function HA(){return(J==null?void 0:J.referrer)||"$direct"}function WA(t,e){var n=t?Iu([],Mu,e||[]):[],r=Dt==null?void 0:Dt.href.substring(0,1e3);return{r:HA().substring(0,1e3),u:r?Ag(r,n,Bg):void 0}}function qA(t){var e,{r:n,u:r}=t,i={$referrer:n,$referring_domain:n==null?void 0:n=="$direct"?"$direct":(e=zs(n))==null?void 0:e.host};if(r){i.$current_url=r;var s=zs(r);i.$host=s==null?void 0:s.host,i.$pathname=s==null?void 0:s.pathname;var o=VA(r);et(i,o)}if(n){var a=zA(n);et(i,a)}return i}function KA(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function $X(){try{return new Date().getTimezoneOffset()}catch{return}}function LX(t,e){if(!Mt)return{};var n,r,i,s=t?Iu([],Mu,e||[]):[],[o,a]=function(l){for(var c=0;c<Iw.length;c++){var[u,d]=Iw[c],h=u.exec(l),f=h&&(on(d)?d(h,l):d);if(f)return f}return["",""]}(Mt);return et(Tg({$os:o,$os_version:a,$browser:BA(Mt,navigator.vendor),$device:Nw(Mt),$device_type:(r=Mt,i=Nw(r),i===EA||i===kA||i==="Kobo"||i==="Kindle Fire"||i===FA?ya:i===wa||i===ks||i===xa||i===fp?"Console":i===PA?"Wearable":i?ln:"Desktop"),$timezone:KA(),$timezone_offset:$X()}),{$current_url:Ag(Dt==null?void 0:Dt.href,s,Bg),$host:Dt==null?void 0:Dt.host,$pathname:Dt==null?void 0:Dt.pathname,$raw_user_agent:Mt.length>1e3?Mt.substring(0,997)+"...":Mt,$browser_version:MX(Mt,navigator.vendor),$browser_language:jw(),$browser_language_prefix:(n=jw(),typeof n=="string"?n.split("-")[0]:void 0),$screen_height:O==null?void 0:O.screen.height,$screen_width:O==null?void 0:O.screen.width,$viewport_height:O==null?void 0:O.innerHeight,$viewport_width:O==null?void 0:O.innerWidth,$lib:"web",$lib_version:er.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var kn=dt("[FeatureFlags]"),ah="$active_feature_flags",ts="$override_feature_flags",Mw="$feature_flag_payloads",xo="$override_feature_flag_payloads",Ow="$feature_flag_request_id",Dw=t=>{var e={};for(var[n,r]of Bl(t||{}))r&&(e[n]=r);return e},FX=t=>{var e=t.flags;return e?(t.featureFlags=Object.fromEntries(Object.keys(e).map(n=>{var r;return[n,(r=e[n].variant)!==null&&r!==void 0?r:e[n].enabled]})),t.featureFlagPayloads=Object.fromEntries(Object.keys(e).filter(n=>e[n].enabled).filter(n=>{var r;return(r=e[n].metadata)==null?void 0:r.payload}).map(n=>{var r;return[n,(r=e[n].metadata)==null?void 0:r.payload]}))):kn.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),t},BX=function(t){return t.FeatureFlags="feature_flags",t.Recordings="recordings",t}({});class UX{constructor(e){this.ye=!1,this.we=!1,this.Se=!1,this.$e=!1,this.xe=!1,this.ke=!1,this.Ee=!1,this._instance=e,this.featureFlagEventHandlers=[]}flags(){if(this._instance.config.__preview_remote_config)this.ke=!0;else{var e=!this.Ie&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.Pe({disableFlags:e})}}get hasLoadedFlags(){return this.we}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(Jf),n=this._instance.get_property(ts),r=this._instance.get_property(xo);if(!r&&!n)return e||{};var i=et({},e||{}),s=[...new Set([...Object.keys(r||{}),...Object.keys(n||{})])];for(var o of s){var a,l,c=i[o],u=n==null?void 0:n[o],d=G(u)?(a=c==null?void 0:c.enabled)!==null&&a!==void 0&&a:!!u,h=G(u)?c.variant:typeof u=="string"?u:void 0,f=r==null?void 0:r[o],v=X({},c,{enabled:d,variant:d?h??(c==null?void 0:c.variant):void 0});d!==(c==null?void 0:c.enabled)&&(v.original_enabled=c==null?void 0:c.enabled),h!==(c==null?void 0:c.variant)&&(v.original_variant=c==null?void 0:c.variant),f&&(v.metadata=X({},c==null?void 0:c.metadata,{payload:f,original_payload:c==null||(l=c.metadata)==null?void 0:l.payload})),i[o]=v}return this.ye||(kn.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:r,finalDetails:i}),this.ye=!0),i}getFlagVariants(){var e=this._instance.get_property(ps),n=this._instance.get_property(ts);if(!n)return e||{};for(var r=et({},e),i=Object.keys(n),s=0;s<i.length;s++)r[i[s]]=n[i[s]];return this.ye||(kn.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:n,finalFlags:r}),this.ye=!0),r}getFlagPayloads(){var e=this._instance.get_property(Mw),n=this._instance.get_property(xo);if(!n)return e||{};for(var r=et({},e||{}),i=Object.keys(n),s=0;s<i.length;s++)r[i[s]]=n[i[s]];return this.ye||(kn.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:n,finalPayloads:r}),this.ye=!0),r}reloadFeatureFlags(){this.$e||this._instance.config.advanced_disable_feature_flags||this.Ie||(this.Ie=setTimeout(()=>{this.Pe()},5))}Re(){clearTimeout(this.Ie),this.Ie=void 0}ensureFlagsLoaded(){this.we||this.Se||this.Ie||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.$e=e}Pe(e){var n;if(this.Re(),!this._instance.L())if(this.Se)this.xe=!0;else{var r={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:X({},((n=this._instance.persistence)==null?void 0:n.get_initial_props())||{},this._instance.get_property(Mo)||{}),group_properties:this._instance.get_property(fi)};(e!=null&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(r.disable_flags=!0);var i=this._instance.config.__preview_remote_config,s=i?"/flags/?v=2":"/flags/?v=2&config=true",o=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",a=this._instance.requestRouter.endpointFor("api",s+o);i&&(r.timezone=KA()),this.Se=!0,this._instance.Te({method:"POST",url:a,data:r,compression:this._instance.config.disable_compression?void 0:tr.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:l=>{var c,u,d=!0;if(l.statusCode===200&&(this.xe||(this.$anon_distinct_id=void 0),d=!1),this.Se=!1,this.ke||(this.ke=!0,this._instance.Ce((u=l.json)!==null&&u!==void 0?u:{})),!r.disable_flags||this.xe)if(this.Ee=!d,l.json&&(c=l.json.quotaLimited)!=null&&c.includes(BX.FeatureFlags))kn.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var h;r.disable_flags||this.receivedFeatureFlags((h=l.json)!==null&&h!==void 0?h:{},d),this.xe&&(this.xe=!1,this.Pe())}}})}}getFeatureFlag(e,n){if(n===void 0&&(n={}),this.we||this.getFlags()&&this.getFlags().length>0){var r=this.getFlagVariants()[e],i=""+r,s=this._instance.get_property(Ow)||void 0,o=this._instance.get_property(mc)||{};if((n.send_event||!("send_event"in n))&&(!(e in o)||!o[e].includes(i))){var a,l,c,u,d,h,f,v,g;Be(o[e])?o[e].push(i):o[e]=[i],(a=this._instance.persistence)==null||a.register({[mc]:o});var y=this.getFeatureFlagDetails(e),b={$feature_flag:e,$feature_flag_response:r,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:s,$feature_flag_bootstrapped_response:((l=this._instance.config.bootstrap)==null||(l=l.featureFlags)==null?void 0:l[e])||null,$feature_flag_bootstrapped_payload:((c=this._instance.config.bootstrap)==null||(c=c.featureFlagPayloads)==null?void 0:c[e])||null,$used_bootstrap_value:!this.Ee};G(y==null||(u=y.metadata)==null?void 0:u.version)||(b.$feature_flag_version=y.metadata.version);var x,w=(d=y==null||(h=y.reason)==null?void 0:h.description)!==null&&d!==void 0?d:y==null||(f=y.reason)==null?void 0:f.code;w&&(b.$feature_flag_reason=w),y!=null&&(v=y.metadata)!=null&&v.id&&(b.$feature_flag_id=y.metadata.id),G(y==null?void 0:y.original_variant)&&G(y==null?void 0:y.original_enabled)||(b.$feature_flag_original_response=G(y.original_variant)?y.original_enabled:y.original_variant),y!=null&&(g=y.metadata)!=null&&g.original_payload&&(b.$feature_flag_original_payload=y==null||(x=y.metadata)==null?void 0:x.original_payload),this._instance.capture("$feature_flag_called",b)}return r}kn.warn('getFeatureFlag for key "'+e+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(e,n){var r=this._instance.config.token;this._instance.Te({method:"POST",url:this._instance.requestRouter.endpointFor("api","/flags/?v=2&config=true"),data:{distinct_id:this._instance.get_distinct_id(),token:r},compression:this._instance.config.disable_compression?void 0:tr.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:i=>{var s,o=(s=i.json)==null?void 0:s.featureFlagPayloads;n((o==null?void 0:o[e])||void 0)}})}isFeatureEnabled(e,n){if(n===void 0&&(n={}),this.we||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,n);kn.warn('isFeatureEnabled for key "'+e+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(n=>n!==e)}receivedFeatureFlags(e,n){if(this._instance.persistence){this.we=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads(),s=this.getFlagsWithDetails();(function(o,a,l,c,u){l===void 0&&(l={}),c===void 0&&(c={}),u===void 0&&(u={});var d=FX(o),h=d.flags,f=d.featureFlags,v=d.featureFlagPayloads;if(f){var g=o.requestId;if(Be(f)){kn.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var y={};if(f)for(var b=0;b<f.length;b++)y[f[b]]=!0;a&&a.register({[ah]:f,[ps]:y})}else{var x=f,w=v,_=h;o.errorsWhileComputingFlags&&(x=X({},l,x),w=X({},c,w),_=X({},u,_)),a&&a.register(X({[ah]:Object.keys(Dw(x)),[ps]:x||{},[Mw]:w||{},[Jf]:_||{}},g?{[Ow]:g}:{}))}}})(e,this._instance.persistence,r,i,s),this.Me(n)}}override(e,n){n===void 0&&(n=!1),kn.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:n})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return kn.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(e===!1)return this._instance.persistence.unregister(ts),this._instance.persistence.unregister(xo),void this.Me();if(e&&typeof e=="object"&&("flags"in e||"payloads"in e)){var n,r=e;if(this.ye=!!((n=r.suppressWarning)!==null&&n!==void 0&&n),"flags"in r){if(r.flags===!1)this._instance.persistence.unregister(ts);else if(r.flags)if(Be(r.flags)){for(var i={},s=0;s<r.flags.length;s++)i[r.flags[s]]=!0;this._instance.persistence.register({[ts]:i})}else this._instance.persistence.register({[ts]:r.flags})}return"payloads"in r&&(r.payloads===!1?this._instance.persistence.unregister(xo):r.payloads&&this._instance.persistence.register({[xo]:r.payloads})),void this.Me()}this.Me()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this.we){var{flags:n,flagVariants:r}=this.Fe();e(n,r)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,n,r){var i,s=(this._instance.get_property(jo)||[]).find(c=>c.flagKey===e),o={["$feature_enrollment/"+e]:n},a={$feature_flag:e,$feature_enrollment:n,$set:o};s&&(a.$early_access_feature_name=s.name),r&&(a.$feature_enrollment_stage=r),this._instance.capture("$feature_enrollment_update",a),this.setPersonPropertiesForFlags(o,!1);var l=X({},this.getFlagVariants(),{[e]:n});(i=this._instance.persistence)==null||i.register({[ah]:Object.keys(Dw(l)),[ps]:l}),this.Me()}getEarlyAccessFeatures(e,n,r){n===void 0&&(n=!1);var i=this._instance.get_property(jo),s=r?"&"+r.map(o=>"stage="+o).join("&"):"";if(i&&!n)return e(i);this._instance.Te({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+s),method:"GET",callback:o=>{var a,l;if(o.json){var c=o.json.earlyAccessFeatures;return(a=this._instance.persistence)==null||a.unregister(jo),(l=this._instance.persistence)==null||l.register({[jo]:c}),e(c)}}})}Fe(){var e=this.getFlags(),n=this.getFlagVariants();return{flags:e.filter(r=>n[r]),flagVariants:Object.keys(n).filter(r=>n[r]).reduce((r,i)=>(r[i]=n[i],r),{})}}Me(e){var{flags:n,flagVariants:r}=this.Fe();this.featureFlagEventHandlers.forEach(i=>i(n,r,{errorsLoading:e}))}setPersonPropertiesForFlags(e,n){n===void 0&&(n=!0);var r=this._instance.get_property(Mo)||{};this._instance.register({[Mo]:X({},r,e)}),n&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Mo)}setGroupPropertiesForFlags(e,n){n===void 0&&(n=!0);var r=this._instance.get_property(fi)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(i=>{r[i]=X({},r[i],e[i]),delete e[i]}),this._instance.register({[fi]:X({},r,e)}),n&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var n=this._instance.get_property(fi)||{};this._instance.register({[fi]:X({},n,{[e]:{}})})}else this._instance.unregister(fi)}reset(){this.we=!1,this.Se=!1,this.$e=!1,this.xe=!1,this.ke=!1,this.Ee=!1,this.$anon_distinct_id=void 0,this.Re(),this.ye=!1}}var VX=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class lh{constructor(e,n){this.A=e,this.props={},this.Oe=!1,this.Ae=(r=>{var i="";return r.token&&(i=r.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),r.persistence_name?"ph_"+r.persistence_name:"ph_"+i+"_posthog"})(e),this.it=this.De(e),this.load(),e.debug&&Y.info("Persistence loaded",e.persistence,X({},this.props)),this.update_config(e,e,n),this.save()}isDisabled(){return!!this.je}De(e){VX.indexOf(e.persistence.toLowerCase())===-1&&(Y.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var n=e.persistence.toLowerCase();return n==="localstorage"&&lt.G()?lt:n==="localstorage+cookie"&&_l.G()?_l:n==="sessionstorage"&&ft.G()?ft:n==="memory"?_Y:n==="cookie"?Dn:_l.G()?_l:Dn}properties(){var e={};return Ie(this.props,function(n,r){if(r===ps&&Ge(n))for(var i=Object.keys(n),s=0;s<i.length;s++)e["$feature/"+i[s]]=n[i[s]];else a=r,l=!1,(Qr(o=tY)?l:Bb&&o.indexOf===Bb?o.indexOf(a)!=-1:(Ie(o,function(c){if(l||(l=c===a))return fc}),l))||(e[r]=n);var o,a,l}),e}load(){if(!this.je){var e=this.it.K(this.Ae);e&&(this.props=et({},e))}}save(){this.je||this.it.Y(this.Ae,this.props,this.Le,this.Ne,this.ze,this.A.debug)}remove(){this.it.X(this.Ae,!1),this.it.X(this.Ae,!0)}clear(){this.remove(),this.props={}}register_once(e,n,r){if(Ge(e)){G(n)&&(n="None"),this.Le=G(r)?this.Ue:r;var i=!1;if(Ie(e,(s,o)=>{this.props.hasOwnProperty(o)&&this.props[o]!==n||(this.props[o]=s,i=!0)}),i)return this.save(),!0}return!1}register(e,n){if(Ge(e)){this.Le=G(n)?this.Ue:n;var r=!1;if(Ie(e,(i,s)=>{e.hasOwnProperty(s)&&this.props[s]!==i&&(this.props[s]=i,r=!0)}),r)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.Oe){var e=UA(this.A.custom_campaign_params,this.A.mask_personal_data_properties,this.A.custom_personal_data_properties);fs(Tg(e))||this.register(e),this.Oe=!0}}update_search_keyword(){var e;this.register((e=J==null?void 0:J.referrer)?zA(e):{})}update_referrer_info(){var e;this.register_once({$referrer:HA(),$referring_domain:J!=null&&J.referrer&&((e=zs(J.referrer))==null?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[tp]||this.props[np]||this.register_once({[gc]:WA(this.A.mask_personal_data_properties,this.A.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};Ie([np,tp],o=>{var a=this.props[o];a&&Ie(a,function(l,c){e["$initial_"+Hf(c)]=l})});var n,r,i=this.props[gc];if(i){var s=(n=qA(i),r={},Ie(n,function(o,a){r["$initial_"+Hf(a)]=o}),r);et(e,s)}return e}safe_merge(e){return Ie(this.props,function(n,r){r in e||(e[r]=n)}),e}update_config(e,n,r){if(this.Ue=this.Le=e.cookie_expiration,this.set_disabled(e.disable_persistence||!!r),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==n.persistence){var i=this.De(e),s=this.props;this.clear(),this.it=i,this.props=s,this.save()}}set_disabled(e){this.je=e,this.je?this.remove():this.save()}set_cross_subdomain(e){e!==this.Ne&&(this.Ne=e,this.remove(),this.save())}set_secure(e){e!==this.ze&&(this.ze=e,this.remove(),this.save())}set_event_timer(e,n){var r=this.props[Io]||{};r[e]=n,this.props[Io]=r,this.save()}remove_event_timer(e){var n=(this.props[Io]||{})[e];return G(n)||(delete this.props[Io][e],this.save()),n}get_property(e){return this.props[e]}set_property(e,n){this.props[e]=n,this.save()}}class GA{constructor(){this.qe={},this.qe={}}on(e,n){return this.qe[e]||(this.qe[e]=[]),this.qe[e].push(n),()=>{this.qe[e]=this.qe[e].filter(r=>r!==n)}}emit(e,n){for(var r of this.qe[e]||[])r(n);for(var i of this.qe["*"]||[])i(e,n)}}class gi{constructor(e){this.Be=new GA,this.He=(n,r)=>this.We(n,r)&&this.Ge(n,r)&&this.Je(n,r),this.We=(n,r)=>r==null||!r.event||(n==null?void 0:n.event)===(r==null?void 0:r.event),this._instance=e,this.Ve=new Set,this.Ke=new Set}init(){var e;if(!G((e=this._instance)==null?void 0:e.Ye)){var n;(n=this._instance)==null||n.Ye((r,i)=>{this.on(r,i)})}}register(e){var n,r;if(!G((n=this._instance)==null?void 0:n.Ye)&&(e.forEach(o=>{var a,l;(a=this.Ke)==null||a.add(o),(l=o.steps)==null||l.forEach(c=>{var u;(u=this.Ve)==null||u.add((c==null?void 0:c.event)||"")})}),(r=this._instance)!=null&&r.autocapture)){var i,s=new Set;e.forEach(o=>{var a;(a=o.steps)==null||a.forEach(l=>{l!=null&&l.selector&&s.add(l==null?void 0:l.selector)})}),(i=this._instance)==null||i.autocapture.setElementSelectors(s)}}on(e,n){var r;n!=null&&e.length!=0&&(this.Ve.has(e)||this.Ve.has(n==null?void 0:n.event))&&this.Ke&&((r=this.Ke)==null?void 0:r.size)>0&&this.Ke.forEach(i=>{this.Xe(n,i)&&this.Be.emit("actionCaptured",i.name)})}Qe(e){this.onAction("actionCaptured",n=>e(n))}Xe(e,n){if((n==null?void 0:n.steps)==null)return!1;for(var r of n.steps)if(this.He(e,r))return!0;return!1}onAction(e,n){return this.Be.on(e,n)}Ge(e,n){if(n!=null&&n.url){var r,i=e==null||(r=e.properties)==null?void 0:r.$current_url;if(!i||typeof i!="string"||!gi.Ze(i,n==null?void 0:n.url,(n==null?void 0:n.url_matching)||"contains"))return!1}return!0}static Ze(e,n,r){switch(r){case"regex":return!!O&&Ws(e,n);case"exact":return n===e;case"contains":var i=gi.tr(n).replace(/_/g,".").replace(/%/g,".*");return Ws(e,i);default:return!1}}static tr(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Je(e,n){if((n!=null&&n.href||n!=null&&n.tag_name||n!=null&&n.text)&&!this.ir(e).some(s=>!(n!=null&&n.href&&!gi.Ze(s.href||"",n==null?void 0:n.href,(n==null?void 0:n.href_matching)||"exact"))&&(n==null||!n.tag_name||s.tag_name===(n==null?void 0:n.tag_name))&&!(n!=null&&n.text&&!gi.Ze(s.text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact")&&!gi.Ze(s.$el_text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact"))))return!1;if(n!=null&&n.selector){var r,i=e==null||(r=e.properties)==null?void 0:r.$element_selectors;if(!i||!i.includes(n==null?void 0:n.selector))return!1}return!0}ir(e){return(e==null?void 0:e.properties.$elements)==null?[]:e==null?void 0:e.properties.$elements}}(function(t){return t.Button="button",t.Tab="tab",t.Selector="selector",t})({});(function(t){return t.TopLeft="top_left",t.TopRight="top_right",t.TopCenter="top_center",t.MiddleLeft="middle_left",t.MiddleRight="middle_right",t.MiddleCenter="middle_center",t.Left="left",t.Center="center",t.Right="right",t.NextToTrigger="next_to_trigger",t})({});var ch=function(t){return t.Popover="popover",t.API="api",t.Widget="widget",t.ExternalSurvey="external_survey",t}({});(function(t){return t.Open="open",t.MultipleChoice="multiple_choice",t.SingleChoice="single_choice",t.Rating="rating",t.Link="link",t})({});(function(t){return t.NextQuestion="next_question",t.End="end",t.ResponseBased="response_based",t.SpecificQuestion="specific_question",t})({});(function(t){return t.Once="once",t.Recurring="recurring",t.Always="always",t})({});var uh=function(t){return t.SHOWN="survey shown",t.DISMISSED="survey dismissed",t.SENT="survey sent",t}({}),$w=function(t){return t.SURVEY_ID="$survey_id",t.SURVEY_NAME="$survey_name",t.SURVEY_RESPONSE="$survey_response",t.SURVEY_ITERATION="$survey_iteration",t.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",t.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",t.SURVEY_SUBMISSION_ID="$survey_submission_id",t.SURVEY_QUESTIONS="$survey_questions",t.SURVEY_COMPLETED="$survey_completed",t}({}),rt=dt("[Surveys]"),mp="seenSurvey_",zX=(t,e)=>{var n="$survey_"+e+"/"+t.id;return t.current_iteration&&t.current_iteration>0&&(n="$survey_"+e+"/"+t.id+"/"+t.current_iteration),n},Lw=t=>{var e=""+mp+t.id;return t.current_iteration&&t.current_iteration>0&&(e=""+mp+t.id+"_"+t.current_iteration),e},HX=[ch.Popover,ch.Widget,ch.API];class WX{constructor(e){this._instance=e,this.er=new Map,this.rr=new Map}register(e){var n;G((n=this._instance)==null?void 0:n.Ye)||(this.sr(e),this.nr(e))}nr(e){var n=e.filter(r=>{var i,s;return((i=r.conditions)==null?void 0:i.actions)&&((s=r.conditions)==null||(s=s.actions)==null||(s=s.values)==null?void 0:s.length)>0});n.length!==0&&(this.ar==null&&(this.ar=new gi(this._instance),this.ar.init(),this.ar.Qe(r=>{this.onAction(r)})),n.forEach(r=>{var i,s,o,a,l;r.conditions&&(i=r.conditions)!=null&&i.actions&&(s=r.conditions)!=null&&(s=s.actions)!=null&&s.values&&((o=r.conditions)==null||(o=o.actions)==null||(o=o.values)==null?void 0:o.length)>0&&((a=this.ar)==null||a.register(r.conditions.actions.values),(l=r.conditions)==null||(l=l.actions)==null||(l=l.values)==null||l.forEach(c=>{if(c&&c.name){var u=this.rr.get(c.name);u&&u.push(r.id),this.rr.set(c.name,u||[r.id])}}))}))}sr(e){var n;e.filter(r=>{var i,s;return((i=r.conditions)==null?void 0:i.events)&&((s=r.conditions)==null||(s=s.events)==null||(s=s.values)==null?void 0:s.length)>0}).length!==0&&((n=this._instance)==null||n.Ye((r,i)=>{this.onEvent(r,i)}),e.forEach(r=>{var i;(i=r.conditions)==null||(i=i.events)==null||(i=i.values)==null||i.forEach(s=>{if(s&&s.name){var o=this.er.get(s.name);o&&o.push(r.id),this.er.set(s.name,o||[r.id])}})}))}onEvent(e,n){var r,i=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[xl])||[];if(e==="survey shown"&&n&&i.length>0){var s;rt.info("survey event matched, removing survey from activated surveys",{event:e,eventPayload:n,existingActivatedSurveys:i});var o=n==null||(s=n.properties)==null?void 0:s.$survey_id;if(o){var a=i.indexOf(o);a>=0&&(i.splice(a,1),this.lr(i))}}else this.er.has(e)&&(rt.info("survey event matched, updating activated surveys",{event:e,surveys:this.er.get(e)}),this.lr(i.concat(this.er.get(e)||[])))}onAction(e){var n,r=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[xl])||[];this.rr.has(e)&&this.lr(r.concat(this.rr.get(e)||[]))}lr(e){var n;(n=this._instance)==null||(n=n.persistence)==null||n.register({[xl]:[...new Set(e)]})}getSurveys(){var e,n=(e=this._instance)==null||(e=e.persistence)==null?void 0:e.props[xl];return n||[]}getEventToSurveys(){return this.er}ur(){return this.ar}}class qX{constructor(e){this.hr=void 0,this._surveyManager=null,this.dr=!1,this.vr=!1,this.cr=[],this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){var n=e.surveys;if(ke(n))return rt.warn("Flags not loaded yet. Not loading surveys.");var r=Be(n);this.hr=r?n.length>0:n,rt.info("flags response received, isSurveysEnabled: "+this.hr),this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],n=0;n<localStorage.length;n++){var r=localStorage.key(n);(r!=null&&r.startsWith(mp)||r!=null&&r.startsWith("inProgressSurvey_"))&&e.push(r)}e.forEach(i=>localStorage.removeItem(i))}loadIfEnabled(){if(!this._surveyManager)if(this.vr)rt.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)rt.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode)rt.info("Not loading surveys in cookieless mode.");else{var e=ce==null?void 0:ce.__PosthogExtensions__;if(e){if(!G(this.hr)||this._instance.config.advanced_enable_surveys){var n=this.hr||this._instance.config.advanced_enable_surveys;this.vr=!0;try{var r=e.generateSurveys;if(r)return void this.pr(r,n);var i=e.loadExternalDependency;if(!i)return void this.gr("PostHog loadExternalDependency extension not found.");i(this._instance,"surveys",s=>{s||!e.generateSurveys?this.gr("Could not load surveys script",s):this.pr(e.generateSurveys,n)})}catch(s){throw this.gr("Error initializing surveys",s),s}finally{this.vr=!1}}}else rt.error("PostHog Extensions not found.")}}pr(e,n){this._surveyManager=e(this._instance,n),this._surveyEventReceiver=new WX(this._instance),rt.info("Surveys loaded successfully"),this._r({isLoaded:!0})}gr(e,n){rt.error(e,n),this._r({isLoaded:!1,error:e})}onSurveysLoaded(e){return this.cr.push(e),this._surveyManager&&this._r({isLoaded:!0}),()=>{this.cr=this.cr.filter(n=>n!==e)}}getSurveys(e,n){if(n===void 0&&(n=!1),this._instance.config.disable_surveys)return rt.info("Disabled. Not loading surveys."),e([]);var r=this._instance.get_property(Qf);if(r&&!n)return e(r,{isLoaded:!0});if(this.dr)return e([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.dr=!0,this._instance.Te({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:i=>{var s;this.dr=!1;var o=i.statusCode;if(o!==200||!i.json){var a="Surveys API could not be loaded, status: "+o;return rt.error(a),e([],{isLoaded:!1,error:a})}var l,c=i.json.surveys||[],u=c.filter(d=>function(h){return!(!h.start_date||h.end_date)}(d)&&(function(h){var f;return!((f=h.conditions)==null||(f=f.events)==null||(f=f.values)==null||!f.length)}(d)||function(h){var f;return!((f=h.conditions)==null||(f=f.actions)==null||(f=f.values)==null||!f.length)}(d)));return u.length>0&&((l=this._surveyEventReceiver)==null||l.register(u)),(s=this._instance.persistence)==null||s.register({[Qf]:c}),e(c,{isLoaded:!0})}})}catch(i){throw this.dr=!1,i}}_r(e){for(var n of this.cr)try{if(!e.isLoaded)return n([],e);this.getSurveys(n)}catch(r){rt.error("Error in survey callback",r)}}getActiveMatchingSurveys(e,n){if(n===void 0&&(n=!1),!ke(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(e,n);rt.warn("init was not called")}mr(e){var n=null;return this.getSurveys(r=>{var i;n=(i=r.find(s=>s.id===e))!==null&&i!==void 0?i:null}),n}br(e){if(ke(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var n=typeof e=="string"?this.mr(e):e;return n?this._surveyManager.checkSurveyEligibility(n):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if(ke(this._surveyManager))return rt.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var n=this.br(e);return{visible:n.eligible,disabledReason:n.reason}}canRenderSurveyAsync(e,n){return ke(this._surveyManager)?(rt.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(r=>{this.getSurveys(i=>{var s,o=(s=i.find(l=>l.id===e))!==null&&s!==void 0?s:null;if(o){var a=this.br(o);r({visible:a.eligible,disabledReason:a.reason})}else r({visible:!1,disabledReason:"Survey not found"})},n)})}renderSurvey(e,n){if(ke(this._surveyManager))rt.warn("init was not called");else{var r=this.mr(e);if(r)if(HX.includes(r.type)){var i=J==null?void 0:J.querySelector(n);i?this._surveyManager.renderSurvey(r,i):rt.warn("Survey element not found")}else rt.warn("Surveys of type "+r.type+" cannot be rendered in the app");else rt.warn("Survey not found")}}}var Fw=dt("[RateLimiter]");class KX{constructor(e){var n,r;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=i=>{var s=i.text;if(s&&s.length)try{(JSON.parse(s).quota_limited||[]).forEach(o=>{Fw.info((o||"events")+" is quota limited."),this.serverLimits[o]=new Date().getTime()+6e4})}catch(o){return void Fw.warn('could not rate limit - continuing. Error: "'+(o==null?void 0:o.message)+'"',{text:s})}},this.instance=e,this.captureEventsPerSecond=((n=e.config.rate_limiting)==null?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=e.config.rate_limiting)==null?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(e){var n,r,i;e===void 0&&(e=!1);var s=new Date().getTime(),o=(n=(r=this.instance.persistence)==null?void 0:r.get_property(ep))!==null&&n!==void 0?n:{tokens:this.captureEventsBurstLimit,last:s};o.tokens+=(s-o.last)/1e3*this.captureEventsPerSecond,o.last=s,o.tokens>this.captureEventsBurstLimit&&(o.tokens=this.captureEventsBurstLimit);var a=o.tokens<1;return a||e||(o.tokens=Math.max(0,o.tokens-1)),!a||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(i=this.instance.persistence)==null||i.set_property(ep,o),{isRateLimited:a,remainingTokens:o.tokens}}isServerRateLimited(e){var n=this.serverLimits[e||"events"]||!1;return n!==!1&&new Date().getTime()<n}}var ui=dt("[RemoteConfig]");class GX{constructor(e){this._instance=e}get remoteConfig(){var e;return(e=ce._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.config}yr(e){var n,r;(n=ce.__PosthogExtensions__)!=null&&n.loadExternalDependency?(r=ce.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"remote-config",()=>e(this.remoteConfig)):(ui.error("PostHog Extensions not found. Cannot load remote config."),e())}wr(e){this._instance.Te({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:n=>{e(n.json)}})}load(){try{if(this.remoteConfig)return ui.info("Using preloaded remote config",this.remoteConfig),void this.Ce(this.remoteConfig);if(this._instance.L())return void ui.warn("Remote config is disabled. Falling back to local config.");this.yr(e=>{if(!e)return ui.info("No config found after loading remote JS config. Falling back to JSON."),void this.wr(n=>{this.Ce(n)});this.Ce(e)})}catch(e){ui.error("Error loading remote config",e)}}Ce(e){e?this._instance.config.__preview_remote_config?(this._instance.Ce(e),e.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):ui.info("__preview_remote_config is disabled. Logging config instead",e):ui.error("Failed to fetch remote config from PostHog.")}}var gp=3e3;class YX{constructor(e,n){this.Sr=!0,this.$r=[],this.kr=Yt((n==null?void 0:n.flush_interval_ms)||gp,250,5e3,Y.createLogger("flush interval"),gp),this.Er=e}enqueue(e){this.$r.push(e),this.Ir||this.Pr()}unload(){this.Rr();var e=this.$r.length>0?this.Tr():{},n=Object.values(e);[...n.filter(r=>r.url.indexOf("/e")===0),...n.filter(r=>r.url.indexOf("/e")!==0)].map(r=>{this.Er(X({},r,{transport:"sendBeacon"}))})}enable(){this.Sr=!1,this.Pr()}Pr(){var e=this;this.Sr||(this.Ir=setTimeout(()=>{if(this.Rr(),this.$r.length>0){var n=this.Tr(),r=function(){var s=n[i],o=new Date().getTime();s.data&&Be(s.data)&&Ie(s.data,a=>{a.offset=Math.abs(a.timestamp-o),delete a.timestamp}),e.Er(s)};for(var i in n)r()}},this.kr))}Rr(){clearTimeout(this.Ir),this.Ir=void 0}Tr(){var e={};return Ie(this.$r,n=>{var r,i=n,s=(i?i.batchKey:null)||i.url;G(e[s])&&(e[s]=X({},i,{data:[]})),(r=e[s].data)==null||r.push(i.data)}),this.$r=[],e}}var XX=["retriesPerformedSoFar"];class JX{constructor(e){this.Cr=!1,this.Mr=3e3,this.$r=[],this._instance=e,this.$r=[],this.Fr=!0,!G(O)&&"onLine"in O.navigator&&(this.Fr=O.navigator.onLine,He(O,"online",()=>{this.Fr=!0,this.oe()}),He(O,"offline",()=>{this.Fr=!1}))}get length(){return this.$r.length}retriableRequest(e){var{retriesPerformedSoFar:n}=e,r=VP(e,XX);wt(n)&&n>0&&(r.url=kc(r.url,{retry_count:n})),this._instance.Te(X({},r,{callback:i=>{i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(n??0)<10?this.Or(X({retriesPerformedSoFar:n},r)):r.callback==null||r.callback(i)}}))}Or(e){var n=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=n+1;var r=function(o){var a=3e3*Math.pow(2,o),l=a/2,c=Math.min(18e5,a),u=(Math.random()-.5)*(c-l);return Math.ceil(c+u)}(n),i=Date.now()+r;this.$r.push({retryAt:i,requestOptions:e});var s="Enqueued failed request for retry in "+r;navigator.onLine||(s+=" (Browser is offline)"),Y.warn(s),this.Cr||(this.Cr=!0,this.Ar())}Ar(){this.Dr&&clearTimeout(this.Dr),this.Dr=setTimeout(()=>{this.Fr&&this.$r.length>0&&this.oe(),this.Ar()},this.Mr)}oe(){var e=Date.now(),n=[],r=this.$r.filter(s=>s.retryAt<e||(n.push(s),!1));if(this.$r=n,r.length>0)for(var{requestOptions:i}of r)this.retriableRequest(i)}unload(){for(var{requestOptions:e}of(this.Dr&&(clearTimeout(this.Dr),this.Dr=void 0),this.$r))try{this._instance.Te(X({},e,{transport:"sendBeacon"}))}catch(n){Y.error(n)}this.$r=[]}}class QX{constructor(e){this.jr=()=>{var n,r,i,s;this.Lr||(this.Lr={});var o=this.scrollElement(),a=this.scrollY(),l=o?Math.max(0,o.scrollHeight-o.clientHeight):0,c=a+((o==null?void 0:o.clientHeight)||0),u=(o==null?void 0:o.scrollHeight)||0;this.Lr.lastScrollY=Math.ceil(a),this.Lr.maxScrollY=Math.max(a,(n=this.Lr.maxScrollY)!==null&&n!==void 0?n:0),this.Lr.maxScrollHeight=Math.max(l,(r=this.Lr.maxScrollHeight)!==null&&r!==void 0?r:0),this.Lr.lastContentY=c,this.Lr.maxContentY=Math.max(c,(i=this.Lr.maxContentY)!==null&&i!==void 0?i:0),this.Lr.maxContentHeight=Math.max(u,(s=this.Lr.maxContentHeight)!==null&&s!==void 0?s:0)},this._instance=e}getContext(){return this.Lr}resetContext(){var e=this.Lr;return setTimeout(this.jr,0),e}startMeasuringScrollPosition(){He(O,"scroll",this.jr,{capture:!0}),He(O,"scrollend",this.jr,{capture:!0}),He(O,"resize",this.jr)}scrollElement(){if(!this._instance.config.scroll_root_selector)return O==null?void 0:O.document.documentElement;var e=Be(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var n of e){var r=O==null?void 0:O.document.querySelector(n);if(r)return r}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return O&&(O.scrollY||O.pageYOffset||O.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return O&&(O.scrollX||O.pageXOffset||O.document.documentElement.scrollLeft)||0}}var ZX=t=>WA(t==null?void 0:t.config.mask_personal_data_properties,t==null?void 0:t.config.custom_personal_data_properties);class Bw{constructor(e,n,r,i){this.Nr=s=>{var o=this.zr();if(!o||o.sessionId!==s){var a={sessionId:s,props:this.Ur(this._instance)};this.qr.register({[Zf]:a})}},this._instance=e,this.Br=n,this.qr=r,this.Ur=i||ZX,this.Br.onSessionId(this.Nr)}zr(){return this.qr.props[Zf]}getSetOnceProps(){var e,n=(e=this.zr())==null?void 0:e.props;return n?"r"in n?qA(n):{$referring_domain:n.referringDomain,$pathname:n.initialPathName,utm_source:n.utm_source,utm_campaign:n.utm_campaign,utm_medium:n.utm_medium,utm_content:n.utm_content,utm_term:n.utm_term}:{}}getSessionProps(){var e={};return Ie(Tg(this.getSetOnceProps()),(n,r)=>{r==="$current_url"&&(r="url"),e["$session_entry_"+Hf(r)]=n}),e}}var dh=dt("[SessionId]");class Uw{constructor(e,n,r){var i;if(this.Hr=[],this.Wr=(u,d)=>Math.abs(u-d)>this.sessionTimeoutMs,!e.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(e.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.A=e.config,this.qr=e.persistence,this.gi=void 0,this.Ot=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Gr=n||jr,this.Jr=r||jr;var s=this.A.persistence_name||this.A.token,o=this.A.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Yt(o,60,36e3,dh.createLogger("session_idle_timeout_seconds"),1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Vr(),this.Kr="ph_"+s+"_window_id",this.Yr="ph_"+s+"_primary_window_exists",this.Xr()){var a=ft.K(this.Kr),l=ft.K(this.Yr);a&&!l?this.gi=a:ft.X(this.Kr),ft.Y(this.Yr,!0)}if((i=this.A.bootstrap)!=null&&i.sessionID)try{var c=(u=>{var d=u.replace(/-/g,"");if(d.length!==32)throw new Error("Not a valid UUID");if(d[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(d.substring(0,12),16)})(this.A.bootstrap.sessionID);this.Qr(this.A.bootstrap.sessionID,new Date().getTime(),c)}catch(u){dh.error("Invalid sessionID in bootstrap",u)}this.Zr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return G(this.Hr)&&(this.Hr=[]),this.Hr.push(e),this.Ot&&e(this.Ot,this.gi),()=>{this.Hr=this.Hr.filter(n=>n!==e)}}Xr(){return this.A.persistence!=="memory"&&!this.qr.je&&ft.G()}ts(e){e!==this.gi&&(this.gi=e,this.Xr()&&ft.Y(this.Kr,e))}es(){return this.gi?this.gi:this.Xr()?ft.K(this.Kr):null}Qr(e,n,r){e===this.Ot&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this.Ot=e,this.qr.register({[pc]:[n,e,r]}))}rs(){if(this.Ot&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Ot,this._sessionStartTimestamp];var e=this.qr.props[pc];return Be(e)&&e.length===2&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.Qr(null,null,null)}Zr(){He(O,"beforeunload",()=>{this.Xr()&&ft.X(this.Yr)},{capture:!1})}checkAndGetSessionAndWindowId(e,n){if(e===void 0&&(e=!1),n===void 0&&(n=null),this.A.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var r=n||new Date().getTime(),[i,s,o]=this.rs(),a=this.es(),l=wt(o)&&o>0&&Math.abs(r-o)>864e5,c=!1,u=!s,d=!e&&this.Wr(r,i);u||d||l?(s=this.Gr(),a=this.Jr(),dh.info("new session ID generated",{sessionId:s,windowId:a,changeReason:{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:l}}),o=r,c=!0):a||(a=this.Jr(),c=!0);var h=i===0||!e||l?r:i,f=o===0?new Date().getTime():o;return this.ts(a),this.Qr(s,h,f),e||this.Vr(),c&&this.Hr.forEach(v=>v(s,a,c?{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:l}:void 0)),{sessionId:s,windowId:a,sessionStartTimestamp:f,changeReason:c?{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:l}:void 0,lastActivityTimestamp:i}}Vr(){clearTimeout(this.ss),this.ss=setTimeout(()=>{var[e]=this.rs();this.Wr(new Date().getTime(),e)&&this.resetSessionId()},1.1*this.sessionTimeoutMs)}}var eJ=["$set_once","$set"],vr=dt("[SiteApps]");class tJ{constructor(e){this._instance=e,this.ns=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}os(e,n){if(n){var r=this.globalsForEvent(n);this.ns.push(r),this.ns.length>1e3&&(this.ns=this.ns.slice(10))}}get siteAppLoaders(){var e;return(e=ce._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.siteApps}init(){if(this.isEnabled){var e=this._instance.Ye(this.os.bind(this));this.ls=()=>{e(),this.ns=[],this.ls=void 0}}}globalsForEvent(e){var n,r,i,s,o,a,l;if(!e)throw new Error("Event payload is required");var c={},u=this._instance.get_property("$groups")||[],d=this._instance.get_property("$stored_group_properties")||{};for(var[h,f]of Object.entries(d))c[h]={id:u[h],type:h,properties:f};var{$set_once:v,$set:g}=e;return{event:X({},VP(e,eJ),{properties:X({},e.properties,g?{$set:X({},(n=(r=e.properties)==null?void 0:r.$set)!==null&&n!==void 0?n:{},g)}:{},v?{$set_once:X({},(i=(s=e.properties)==null?void 0:s.$set_once)!==null&&i!==void 0?i:{},v)}:{}),elements_chain:(o=(a=e.properties)==null?void 0:a.$elements_chain)!==null&&o!==void 0?o:"",distinct_id:(l=e.properties)==null?void 0:l.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:c}}setupSiteApp(e){var n=this.apps[e.id],r=()=>{var a;!n.errored&&this.ns.length&&(vr.info("Processing "+this.ns.length+" events for site app with id "+e.id),this.ns.forEach(l=>n.processEvent==null?void 0:n.processEvent(l)),n.processedBuffer=!0),Object.values(this.apps).every(l=>l.processedBuffer||l.errored)&&((a=this.ls)==null||a.call(this))},i=!1,s=a=>{n.errored=!a,n.loaded=!0,vr.info("Site app with id "+e.id+" "+(a?"loaded":"errored")),i&&r()};try{var{processEvent:o}=e.init({posthog:this._instance,callback:a=>{s(a)}});o&&(n.processEvent=o),i=!0}catch(a){vr.error("Error while initializing PostHog app with config id "+e.id,a),s(!1)}if(i&&n.loaded)try{r()}catch(a){vr.error("Error while processing buffered events PostHog app with config id "+e.id,a),n.errored=!0}}us(){var e=this.siteAppLoaders||[];for(var n of e)this.apps[n.id]={id:n.id,loaded:!1,errored:!1,processedBuffer:!1};for(var r of e)this.setupSiteApp(r)}hs(e){if(Object.keys(this.apps).length!==0){var n=this.globalsForEvent(e);for(var r of Object.values(this.apps))try{r.processEvent==null||r.processEvent(n)}catch(i){vr.error("Error while processing event "+e.event+" for site app "+r.id,i)}}}onRemoteConfig(e){var n,r,i,s=this;if((n=this.siteAppLoaders)!=null&&n.length)return this.isEnabled?(this.us(),void this._instance.on("eventCaptured",c=>this.hs(c))):void vr.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((r=this.ls)==null||r.call(this),(i=e.siteApps)!=null&&i.length)if(this.isEnabled){var o=function(c){var u;ce["__$$ph_site_app_"+c]=s._instance,(u=ce.__PosthogExtensions__)==null||u.loadSiteApp==null||u.loadSiteApp(s._instance,l,d=>{if(d)return vr.error("Error while initializing PostHog app with config id "+c,d)})};for(var{id:a,url:l}of e.siteApps)o(a)}else vr.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var nJ=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],Vw=function(t,e){if(!t)return!1;var n=t.toLowerCase();return nJ.concat(e||[]).some(r=>{var i=r.toLowerCase();return n.indexOf(i)!==-1})},YA=function(t,e){if(!t)return!1;var n=t.userAgent;if(n&&Vw(n,e))return!0;try{var r=t==null?void 0:t.userAgentData;if(r!=null&&r.brands&&r.brands.some(i=>Vw(i==null?void 0:i.brand,e)))return!0}catch{}return!!t.webdriver},Lo=function(t){return t.US="us",t.EU="eu",t.CUSTOM="custom",t}({}),zw="i.posthog.com";class rJ{constructor(e){this.ds={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return e==="https://app.posthog.com"?"https://us.i.posthog.com":e}get uiHost(){var e,n=(e=this.instance.config.ui_host)==null?void 0:e.replace(/\/$/,"");return n||(n=this.apiHost.replace("."+zw,".posthog.com")),n==="https://app.posthog.com"?"https://us.posthog.com":n}get region(){return this.ds[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.ds[this.apiHost]=Lo.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.ds[this.apiHost]=Lo.EU:this.ds[this.apiHost]=Lo.CUSTOM),this.ds[this.apiHost]}endpointFor(e,n){if(n===void 0&&(n=""),n&&(n=n[0]==="/"?n:"/"+n),e==="ui")return this.uiHost+n;if(this.region===Lo.CUSTOM)return this.apiHost+n;var r=zw+n;switch(e){case"assets":return"https://"+this.region+"-assets."+r;case"api":return"https://"+this.region+"."+r}}}var iJ={icontains:(t,e)=>!!O&&e.href.toLowerCase().indexOf(t.toLowerCase())>-1,not_icontains:(t,e)=>!!O&&e.href.toLowerCase().indexOf(t.toLowerCase())===-1,regex:(t,e)=>!!O&&Ws(e.href,t),not_regex:(t,e)=>!!O&&!Ws(e.href,t),exact:(t,e)=>e.href===t,is_not:(t,e)=>e.href!==t};class yt{constructor(e){var n=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(r){r===void 0&&(r=!1),n.getWebExperiments(i=>{yt.vs("retrieved web experiments from the server"),n.cs=new Map,i.forEach(s=>{if(s.feature_flag_key){var o;n.cs&&(yt.vs("setting flag key ",s.feature_flag_key," to web experiment ",s),(o=n.cs)==null||o.set(s.feature_flag_key,s));var a=n._instance.getFeatureFlag(s.feature_flag_key);Je(a)&&s.variants[a]&&n.fs(s.name,a,s.variants[a].transforms)}else if(s.variants)for(var l in s.variants){var c=s.variants[l];yt.ps(c)&&n.fs(s.name,l,c.transforms)}})},r)},this._instance=e,this._instance.onFeatureFlags(r=>{this.onFeatureFlags(r)})}onFeatureFlags(e){if(this._is_bot())yt.vs("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(ke(this.cs))return this.cs=new Map,this.loadIfEnabled(),void this.previewWebExperiment();yt.vs("applying feature flags",e),e.forEach(n=>{var r;if(this.cs&&(r=this.cs)!=null&&r.has(n)){var i,s=this._instance.getFeatureFlag(n),o=(i=this.cs)==null?void 0:i.get(n);s&&o!=null&&o.variants[s]&&this.fs(o.name,s,o.variants[s].transforms)}})}}previewWebExperiment(){var e=yt.getWindowLocation();if(e!=null&&e.search){var n=bc(e==null?void 0:e.search,"__experiment_id"),r=bc(e==null?void 0:e.search,"__experiment_variant");n&&r&&(yt.vs("previewing web experiments "+n+" && "+r),this.getWebExperiments(i=>{this.gs(parseInt(n),r,i)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,n,r){if(this._instance.config.disable_web_experiments&&!r)return e([]);var i=this._instance.get_property("$web_experiments");if(i&&!n)return e(i);this._instance.Te({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:s=>{if(s.statusCode!==200||!s.json)return e([]);var o=s.json.experiments||[];return e(o)}})}gs(e,n,r){var i=r.filter(s=>s.id===e);i&&i.length>0&&(yt.vs("Previewing web experiment ["+i[0].name+"] with variant ["+n+"]"),this.fs(i[0].name,n,i[0].variants[n].transforms))}static ps(e){return!ke(e.conditions)&&yt._s(e)&&yt.bs(e)}static _s(e){var n;if(ke(e.conditions)||ke((n=e.conditions)==null?void 0:n.url))return!0;var r,i,s,o=yt.getWindowLocation();return!!o&&((r=e.conditions)==null||!r.url||iJ[(i=(s=e.conditions)==null?void 0:s.urlMatchType)!==null&&i!==void 0?i:"icontains"](e.conditions.url,o))}static getWindowLocation(){return O==null?void 0:O.location}static bs(e){var n;if(ke(e.conditions)||ke((n=e.conditions)==null?void 0:n.utm))return!0;var r=UA();if(r.utm_source){var i,s,o,a,l,c,u,d,h=(i=e.conditions)==null||(i=i.utm)==null||!i.utm_campaign||((s=e.conditions)==null||(s=s.utm)==null?void 0:s.utm_campaign)==r.utm_campaign,f=(o=e.conditions)==null||(o=o.utm)==null||!o.utm_source||((a=e.conditions)==null||(a=a.utm)==null?void 0:a.utm_source)==r.utm_source,v=(l=e.conditions)==null||(l=l.utm)==null||!l.utm_medium||((c=e.conditions)==null||(c=c.utm)==null?void 0:c.utm_medium)==r.utm_medium,g=(u=e.conditions)==null||(u=u.utm)==null||!u.utm_term||((d=e.conditions)==null||(d=d.utm)==null?void 0:d.utm_term)==r.utm_term;return h&&v&&g&&f}return!1}static vs(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Y.info("[WebExperiments] "+e,r)}fs(e,n,r){this._is_bot()?yt.vs("Refusing to render web experiment since the viewer is a likely bot"):n!=="control"?r.forEach(i=>{if(i.selector){var s;yt.vs("applying transform of variant "+n+" for experiment "+e+" ",i);var o=(s=document)==null?void 0:s.querySelectorAll(i.selector);o==null||o.forEach(a=>{var l=a;i.html&&(l.innerHTML=i.html),i.css&&l.setAttribute("style",i.css)})}}):yt.vs("Control variants leave the page unmodified.")}_is_bot(){return Gt&&this._instance?YA(Gt,this._instance.config.custom_blocked_useragents):void 0}}var sJ=dt("[PostHog ExternalIntegrations]"),oJ={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class aJ{constructor(e){this._instance=e}nt(e,n){var r;(r=ce.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,e,i=>{if(i)return sJ.error("failed to load script",i);n()})}startIfEnabledOrStop(){var e=this,n=function(o){var a,l,c;!i||(a=ce.__PosthogExtensions__)!=null&&(a=a.integrations)!=null&&a[o]||e.nt(oJ[o],()=>{var u;(u=ce.__PosthogExtensions__)==null||(u=u.integrations)==null||(u=u[o])==null||u.start(e._instance)}),!i&&(l=ce.__PosthogExtensions__)!=null&&(l=l.integrations)!=null&&l[o]&&((c=ce.__PosthogExtensions__)==null||(c=c.integrations)==null||(c=c[o])==null||c.stop())};for(var[r,i]of Object.entries((s=this._instance.config.integrations)!==null&&s!==void 0?s:{})){var s;n(r)}}}var Zo={},vp=()=>{},ss="posthog",XA=!_X&&(Mt==null?void 0:Mt.indexOf("MSIE"))===-1&&(Mt==null?void 0:Mt.indexOf("Mozilla"))===-1,Hw=t=>{var e;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:eY(J==null?void 0:J.location),persistence:"localStorage+cookie",persistence_name:"",loaded:vp,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:t!=="2025-05-24"||"history_change",capture_pageleave:"if_capture_pageview",defaults:t??"unset",debug:Dt&&Je(Dt==null?void 0:Dt.search)&&Dt.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(O==null||(e=O.location)==null?void 0:e.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:n=>{var r="Bad HTTP status: "+n.statusCode+" "+n.text;Y.error(r)},get_device_id:n=>n,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:gp},error_tracking:{},_onCapture:vp}},Ww=t=>{var e={};G(t.process_person)||(e.person_profiles=t.process_person),G(t.xhr_headers)||(e.request_headers=t.xhr_headers),G(t.cookie_name)||(e.persistence_name=t.cookie_name),G(t.disable_cookie)||(e.disable_persistence=t.disable_cookie),G(t.store_google)||(e.save_campaign_params=t.store_google),G(t.verbose)||(e.debug=t.verbose);var n=et({},e,t);return Be(t.property_blacklist)&&(G(t.property_denylist)?n.property_denylist=t.property_blacklist:Be(t.property_denylist)?n.property_denylist=[...t.property_blacklist,...t.property_denylist]:Y.error("Invalid value for property_denylist config: "+t.property_denylist)),n};class lJ{constructor(){this.__forceAllowLocalhost=!1}get ys(){return this.__forceAllowLocalhost}set ys(e){Y.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}class Ou{get decideEndpointWasHit(){var e,n;return(e=(n=this.featureFlags)==null?void 0:n.hasLoadedFlags)!==null&&e!==void 0&&e}get flagsEndpointWasHit(){var e,n;return(e=(n=this.featureFlags)==null?void 0:n.hasLoadedFlags)!==null&&e!==void 0&&e}constructor(){this.webPerformance=new lJ,this.ws=!1,this.version=er.LIB_VERSION,this.Ss=new GA,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=Hw(),this.SentryIntegration=hX,this.sentryIntegration=e=>function(n,r){var i=CA(n,r);return{name:SA,processEvent:s=>i(s)}}(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.$s=!1,this.xs=null,this.ks=null,this.Es=null,this.featureFlags=new UX(this),this.toolbar=new pX(this),this.scrollManager=new QX(this),this.pageViewManager=new wX(this),this.surveys=new qX(this),this.experiments=new yt(this),this.exceptions=new CX(this),this.rateLimiter=new KX(this),this.requestRouter=new rJ(this),this.consent=new SY(this),this.externalIntegrations=new aJ(this),this.people={set:(e,n,r)=>{var i=Je(e)?{[e]:n}:e;this.setPersonProperties(i),r==null||r({})},set_once:(e,n,r)=>{var i=Je(e)?{[e]:n}:e;this.setPersonProperties(void 0,i),r==null||r({})}},this.on("eventCaptured",e=>Y.info('send "'+(e==null?void 0:e.event)+'"',e))}init(e,n,r){if(r&&r!==ss){var i,s=(i=Zo[r])!==null&&i!==void 0?i:new Ou;return s._init(e,n,r),Zo[r]=s,Zo[ss][r]=s,s}return this._init(e,n,r)}_init(e,n,r){var i,s;if(n===void 0&&(n={}),G(e)||Wf(e))return Y.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return Y.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.Is=n,this.Ps=[],n.person_profiles&&(this.ks=n.person_profiles),this.set_config(et({},Hw(n.defaults),Ww(n),{name:r,token:e})),this.config.on_xhr_error&&Y.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=n.disable_compression?void 0:tr.GZipJS;var o=this.Rs();this.persistence=new lh(this.config,o),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new lh(X({},this.config,{persistence:"sessionStorage"}),o);var a=X({},this.persistence.props),l=X({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Ts=new YX(w=>this.Cs(w),this.config.request_queue_config),this.Ms=new JX(this),this.__request_queue=[];var c=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(c||(this.sessionManager=new Uw(this),this.sessionPropsManager=new Bw(this,this.sessionManager,this.persistence)),new gX(this).startIfEnabledOrStop(),this.siteApps=new tJ(this),(i=this.siteApps)==null||i.init(),c||(this.sessionRecording=new _w(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new mY(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new bX(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new vX(this),this.exceptionObserver=new EY(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new cA(this,kY),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new BY(this),this.historyAutocapture.startIfEnabled(),er.DEBUG=er.DEBUG||this.config.debug,er.DEBUG&&Y.info("Starting in debug mode",{this:this,config:n,thisC:X({},this.config),p:a,s:l}),((s=n.bootstrap)==null?void 0:s.distinctID)!==void 0){var u,d,h=this.config.get_device_id(jr()),f=(u=n.bootstrap)!=null&&u.isIdentifiedID?h:n.bootstrap.distinctID;this.persistence.set_property(Jn,(d=n.bootstrap)!=null&&d.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:n.bootstrap.distinctID,$device_id:f})}if(this.Fs()){var v,g,y=Object.keys(((v=n.bootstrap)==null?void 0:v.featureFlags)||{}).filter(w=>{var _;return!((_=n.bootstrap)==null||(_=_.featureFlags)==null||!_[w])}).reduce((w,_)=>{var C;return w[_]=((C=n.bootstrap)==null||(C=C.featureFlags)==null?void 0:C[_])||!1,w},{}),b=Object.keys(((g=n.bootstrap)==null?void 0:g.featureFlagPayloads)||{}).filter(w=>y[w]).reduce((w,_)=>{var C,S;return(C=n.bootstrap)!=null&&(C=C.featureFlagPayloads)!=null&&C[_]&&(w[_]=(S=n.bootstrap)==null||(S=S.featureFlagPayloads)==null?void 0:S[_]),w},{});this.featureFlags.receivedFeatureFlags({featureFlags:y,featureFlagPayloads:b})}if(c)this.register_once({distinct_id:go,$device_id:null},"");else if(!this.get_distinct_id()){var x=this.config.get_device_id(jr());this.register_once({distinct_id:x,$device_id:x},""),this.persistence.set_property(Jn,"anonymous")}return He(O,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),n.segment?dX(this,()=>this.Os()):this.Os(),on(this.config._onCapture)&&this.config._onCapture!==vp&&(Y.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",w=>this.config._onCapture(w.event,w))),this.config.ip&&Y.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Ce(e){var n,r,i,s,o,a,l,c;if(!J||!J.body)return Y.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.Ce(e)},500);this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=we(e.supportedCompression,tr.GZipJS)?tr.GZipJS:we(e.supportedCompression,tr.Base64)?tr.Base64:void 0),(n=e.analytics)!=null&&n.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.ks?this.ks:"identified_only"}),(r=this.siteApps)==null||r.onRemoteConfig(e),(i=this.sessionRecording)==null||i.onRemoteConfig(e),(s=this.autocapture)==null||s.onRemoteConfig(e),(o=this.heatmaps)==null||o.onRemoteConfig(e),this.surveys.onRemoteConfig(e),(a=this.webVitalsAutocapture)==null||a.onRemoteConfig(e),(l=this.exceptionObserver)==null||l.onRemoteConfig(e),this.exceptions.onRemoteConfig(e),(c=this.deadClicksAutocapture)==null||c.onRemoteConfig(e)}Os(){try{this.config.loaded(this)}catch(e){Y.critical("`loaded` function failed",e)}this.As(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this.Ds()},1),new GX(this).load(),this.featureFlags.flags()}As(){var e;this.is_capturing()&&this.config.request_batching&&((e=this.Ts)==null||e.enable())}_dom_loaded(){this.is_capturing()&&Dr(this.__request_queue,e=>this.Cs(e)),this.__request_queue=[],this.As()}_handle_unload(){var e,n;this.config.request_batching?(this.js()&&this.capture("$pageleave"),(e=this.Ts)==null||e.unload(),(n=this.Ms)==null||n.unload()):this.js()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}Te(e){this.__loaded&&(XA?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=kc(e.url,{ip:this.config.ip?1:0}),e.headers=X({},this.config.request_headers),e.compression=e.compression==="best-available"?this.compression:e.compression,e.fetchOptions=e.fetchOptions||this.config.fetch_options,(n=>{var r,i,s,o=X({},n);o.timeout=o.timeout||6e4,o.url=kc(o.url,{_:new Date().getTime().toString(),ver:er.LIB_VERSION,compression:o.compression});var a=(r=o.transport)!==null&&r!==void 0?r:"fetch",l=(i=(s=KP(Qo,c=>c.transport===a))==null?void 0:s.method)!==null&&i!==void 0?i:Qo[0].method;if(!l)throw new Error("No available transport method");l(o)})(X({},e,{callback:n=>{var r,i;this.rateLimiter.checkForLimiting(n),n.statusCode>=400&&((r=(i=this.config).on_request_error)==null||r.call(i,n)),e.callback==null||e.callback(n)}}))))}Cs(e){this.Ms?this.Ms.retriableRequest(e):this.Te(e)}_execute_array(e){var n,r=[],i=[],s=[];Dr(e,a=>{a&&(n=a[0],Be(n)?s.push(a):on(a)?a.call(this):Be(a)&&n==="alias"?r.push(a):Be(a)&&n.indexOf("capture")!==-1&&on(this[n])?s.push(a):i.push(a))});var o=function(a,l){Dr(a,function(c){if(Be(c[0])){var u=l;Ie(c,function(d){u=u[d[0]].apply(u,d.slice(1))})}else this[c[0]].apply(this,c.slice(1))},l)};o(r,this),o(i,this),o(s,this)}Fs(){var e,n;return((e=this.config.bootstrap)==null?void 0:e.featureFlags)&&Object.keys((n=this.config.bootstrap)==null?void 0:n.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,n,r){var i;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Ts){if(this.is_capturing())if(!G(e)&&Je(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var s=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(s==null||!s.isRateLimited){n!=null&&n.$current_url&&!Je(n==null?void 0:n.$current_url)&&(Y.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),n==null||delete n.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var o=new Date,a=(r==null?void 0:r.timestamp)||o,l=jr(),c={uuid:l,event:e,properties:this.calculateEventProperties(e,n||{},a,l)};s&&(c.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),r!=null&&r.$set&&(c.$set=r==null?void 0:r.$set);var u,d=this.Ls(r==null?void 0:r.$set_once);if(d&&(c.$set_once=d),(c=QG(c,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=a,G(r==null?void 0:r.timestamp)||(c.properties.$event_time_override_provided=!0,c.properties.$event_time_override_system_time=o),e===uh.DISMISSED||e===uh.SENT){var h=n==null?void 0:n[$w.SURVEY_ID],f=n==null?void 0:n[$w.SURVEY_ITERATION];u={id:h,current_iteration:f},localStorage.getItem(Lw(u))||localStorage.setItem(Lw(u),"true"),c.$set=X({},c.$set,{[zX({id:h,current_iteration:f},e===uh.SENT?"responded":"dismissed")]:!0})}var v=X({},c.properties.$set,c.$set);if(fs(v)||this.setPersonPropertiesForFlags(v),!ke(this.config.before_send)){var g=this.Ns(c);if(!g)return;c=g}this.Ss.emit("eventCaptured",c);var y={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:c,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this.Cs(y):this.Ts.enqueue(y),c}Y.critical("This capture call is ignored due to client rate limiting.")}}else Y.error("No event name provided to posthog.capture")}else Y.uninitializedWarning("posthog.capture")}Ye(e){return this.on("eventCaptured",n=>e(n.event,n))}calculateEventProperties(e,n,r,i,s){if(r=r||new Date,!this.persistence||!this.sessionPersistence)return n;var o=s?void 0:this.persistence.remove_event_timer(e),a=X({},n);if(a.token=this.config.token,a.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(a.$cookieless_mode=!0),e==="$snapshot"){var l=X({},this.persistence.properties(),this.sessionPersistence.properties());return a.distinct_id=l.distinct_id,(!Je(a.distinct_id)&&!wt(a.distinct_id)||Wf(a.distinct_id))&&Y.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),a}var c,u=LX(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:d,windowId:h}=this.sessionManager.checkAndGetSessionAndWindowId(s,r.getTime());a.$session_id=d,a.$window_id=h}this.sessionPropsManager&&et(a,this.sessionPropsManager.getSessionProps());try{var f;this.sessionRecording&&et(a,this.sessionRecording.sdkDebugProperties),a.$sdk_debug_retry_queue_size=(f=this.Ms)==null?void 0:f.length}catch(b){a.$sdk_debug_error_capturing_properties=String(b)}if(this.requestRouter.region===Lo.CUSTOM&&(a.$lib_custom_api_host=this.config.api_host),c=e!=="$pageview"||s?e!=="$pageleave"||s?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(r):this.pageViewManager.doPageView(r,i),a=et(a,c),e==="$pageview"&&J&&(a.title=J.title),!G(o)){var v=r.getTime()-o;a.$duration=parseFloat((v/1e3).toFixed(3))}Mt&&this.config.opt_out_useragent_filter&&(a.$browser_type=this._is_bot()?"bot":"browser"),(a=et({},u,this.persistence.properties(),this.sessionPersistence.properties(),a)).$is_identified=this._isIdentified(),Be(this.config.property_denylist)?Ie(this.config.property_denylist,function(b){delete a[b]}):Y.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var g=this.config.sanitize_properties;g&&(Y.error("sanitize_properties is deprecated. Use before_send instead"),a=g(a,e));var y=this.zs();return a.$process_person_profile=y,y&&!s&&this.Us("_calculate_event_properties"),a}Ls(e){var n;if(!this.persistence||!this.zs()||this.ws)return e;var r=this.persistence.get_initial_props(),i=(n=this.sessionPropsManager)==null?void 0:n.getSetOnceProps(),s=et({},r,i||{},e||{}),o=this.config.sanitize_properties;return o&&(Y.error("sanitize_properties is deprecated. Use before_send instead"),s=o(s,"$set_once")),this.ws=!0,fs(s)?void 0:s}register(e,n){var r;(r=this.persistence)==null||r.register(e,n)}register_once(e,n,r){var i;(i=this.persistence)==null||i.register_once(e,n,r)}register_for_session(e){var n;(n=this.sessionPersistence)==null||n.register(e)}unregister(e){var n;(n=this.persistence)==null||n.unregister(e)}unregister_for_session(e){var n;(n=this.sessionPersistence)==null||n.unregister(e)}qs(e,n){this.register({[e]:n})}getFeatureFlag(e,n){return this.featureFlags.getFeatureFlag(e,n)}getFeatureFlagPayload(e){var n=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(n)}catch{return n}}isFeatureEnabled(e,n){return this.featureFlags.isFeatureEnabled(e,n)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,n,r){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,n,r)}getEarlyAccessFeatures(e,n,r){return n===void 0&&(n=!1),this.featureFlags.getEarlyAccessFeatures(e,n,r)}on(e,n){return this.Ss.on(e,n)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var n,r;return(n=(r=this.sessionManager)==null?void 0:r.onSessionId(e))!==null&&n!==void 0?n:()=>{}}getSurveys(e,n){n===void 0&&(n=!1),this.surveys.getSurveys(e,n)}getActiveMatchingSurveys(e,n){n===void 0&&(n=!1),this.surveys.getActiveMatchingSurveys(e,n)}renderSurvey(e,n){this.surveys.renderSurvey(e,n)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,n){return n===void 0&&(n=!1),this.surveys.canRenderSurveyAsync(e,n)}identify(e,n,r){if(!this.__loaded||!this.persistence)return Y.uninitializedWarning("posthog.identify");if(wt(e)&&(e=e.toString(),Y.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e)if(["distinct_id","distinctid"].includes(e.toLowerCase()))Y.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(e!==go){if(this.Us("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var s=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},"")}e!==i&&e!==this.get_property(Ro)&&(this.unregister(Ro),this.register({distinct_id:e}));var o=(this.persistence.get_property(Jn)||"anonymous")==="anonymous";e!==i&&o?(this.persistence.set_property(Jn,"identified"),this.setPersonPropertiesForFlags(X({},r||{},n||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.Es=Pw(e,n,r),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),e!==i&&(this.reloadFeatureFlags(),this.unregister(mc))}}else Y.critical('The string "'+go+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else Y.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,n){if((e||n)&&this.Us("posthog.setPersonProperties")){var r=Pw(this.get_distinct_id(),e,n);this.Es!==r?(this.setPersonPropertiesForFlags(X({},n||{},e||{})),this.capture("$set",{$set:e||{},$set_once:n||{}}),this.Es=r):Y.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,n,r){if(e&&n){if(this.Us("posthog.group")){var i=this.getGroups();i[e]!==n&&this.resetGroupPropertiesForFlags(e),this.register({$groups:X({},i,{[e]:n})}),r&&(this.capture("$groupidentify",{$group_type:e,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags({[e]:r})),i[e]===n||r||this.reloadFeatureFlags()}}else Y.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,n){n===void 0&&(n=!0),this.featureFlags.setPersonPropertiesForFlags(e,n)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,n){n===void 0&&(n=!0),this.Us("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,n)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var n,r,i,s;if(Y.info("reset"),!this.__loaded)return Y.uninitializedWarning("posthog.reset");var o=this.get_property("$device_id");if(this.consent.reset(),(n=this.persistence)==null||n.clear(),(r=this.sessionPersistence)==null||r.clear(),this.surveys.reset(),this.featureFlags.reset(),(i=this.persistence)==null||i.set_property(Jn,"anonymous"),(s=this.sessionManager)==null||s.resetSessionId(),this.Es=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:go,$device_id:null},"");else{var a=this.config.get_device_id(jr());this.register_once({distinct_id:a,$device_id:e?a:o},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,n;return(e=(n=this.sessionManager)==null?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&e!==void 0?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:n,sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+n);if(e!=null&&e.withTimestamp&&r){var s,o=(s=e.timestampLookBack)!==null&&s!==void 0?s:10;if(!r)return i;i+="?t="+Math.max(Math.floor((new Date().getTime()-r)/1e3)-o,0)}return i}alias(e,n){return e===this.get_property(GP)?(Y.critical("Attempting to create alias for existing People user - aborting."),-2):this.Us("posthog.alias")?(G(n)&&(n=this.get_distinct_id()),e!==n?(this.qs(Ro,e),this.capture("$create_alias",{alias:e,distinct_id:n})):(Y.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var n=X({},this.config);if(Ge(e)){var r,i,s,o,a;et(this.config,Ww(e));var l=this.Rs();(r=this.persistence)==null||r.update_config(this.config,n,l),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new lh(X({},this.config,{persistence:"sessionStorage"}),l),lt.G()&&lt.V("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(er.DEBUG=!0,Y.info("set_config",{config:e,oldConfig:n,newConfig:X({},this.config)})),(i=this.sessionRecording)==null||i.startIfEnabledOrStop(),(s=this.autocapture)==null||s.startIfEnabled(),(o=this.heatmaps)==null||o.startIfEnabled(),this.surveys.loadIfEnabled(),this.Bs(),(a=this.externalIntegrations)==null||a.startIfEnabledOrStop()}}startSessionRecording(e){var n=e===!0,r={sampling:n||!(e==null||!e.sampling),linked_flag:n||!(e==null||!e.linked_flag),url_trigger:n||!(e==null||!e.url_trigger),event_trigger:n||!(e==null||!e.event_trigger)};if(Object.values(r).some(Boolean)){var i,s,o,a,l;(i=this.sessionManager)==null||i.checkAndGetSessionAndWindowId(),r.sampling&&((s=this.sessionRecording)==null||s.overrideSampling()),r.linked_flag&&((o=this.sessionRecording)==null||o.overrideLinkedFlag()),r.url_trigger&&((a=this.sessionRecording)==null||a.overrideTrigger("url")),r.event_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!((e=this.sessionRecording)==null||!e.started)}captureException(e,n){var r=new Error("PostHog syntheticException");return this.exceptions.sendExceptionEvent(X({},FY((i=>i instanceof Error)(e)?{error:e,event:e.message}:{event:e},{syntheticException:r}),n))}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var n;return(n=this.persistence)==null?void 0:n.props[e]}getSessionProperty(e){var n;return(n=this.sessionPersistence)==null?void 0:n.props[e]}toString(){var e,n=(e=this.config.name)!==null&&e!==void 0?e:ss;return n!==ss&&(n=ss+"."+n),n}_isIdentified(){var e,n;return((e=this.persistence)==null?void 0:e.get_property(Jn))==="identified"||((n=this.sessionPersistence)==null?void 0:n.get_property(Jn))==="identified"}zs(){var e,n;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&fs(this.getGroups())&&((e=this.persistence)==null||(e=e.props)==null||!e[Ro])&&((n=this.persistence)==null||(n=n.props)==null||!n[vc]))}js(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.zs()||this.Us("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Us(e){return this.config.person_profiles==="never"?(Y.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.qs(vc,!0),!0)}Rs(){if(this.config.cookieless_mode==="always")return!0;var e=this.consent.isOptedOut(),n=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||e&&!!n}Bs(){var e,n,r,i,s=this.Rs();return((e=this.persistence)==null?void 0:e.je)!==s&&((r=this.persistence)==null||r.set_disabled(s)),((n=this.sessionPersistence)==null?void 0:n.je)!==s&&((i=this.sessionPersistence)==null||i.set_disabled(s)),s}opt_in_capturing(e){if(this.config.cookieless_mode!=="always"){var n;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),this.sessionManager=new Uw(this),this.persistence&&(this.sessionPropsManager=new Bw(this,this.sessionManager,this.persistence)),this.sessionRecording=new _w(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Bs(),(G(e==null?void 0:e.captureEventName)||e!=null&&e.captureEventName)&&this.capture((n=e==null?void 0:e.captureEventName)!==null&&n!==void 0?n:"$opt_in",e==null?void 0:e.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Ds()}else Y.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var e;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Bs(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:go,$device_id:null}),this.sessionManager=void 0,this.sessionPropsManager=void 0,(e=this.sessionRecording)==null||e.stopRecording(),this.sessionRecording=void 0,this.Ds())):Y.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var e=this.consent.consent;return e===Qn.GRANTED?"granted":e===Qn.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Bs()}_is_bot(){return Gt?YA(Gt,this.config.custom_blocked_useragents):void 0}Ds(){J&&(J.visibilityState==="visible"?this.$s||(this.$s=!0,this.capture("$pageview",{title:J.title},{send_instantly:!0}),this.xs&&(J.removeEventListener("visibilitychange",this.xs),this.xs=null)):this.xs||(this.xs=this.Ds.bind(this),He(J,"visibilitychange",this.xs)))}debug(e){e===!1?(O==null||O.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(O==null||O.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}L(){var e,n,r,i,s,o,a,l=this.Is||{};return"advanced_disable_flags"in l?!!l.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(Y.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(r="advanced_disable_decide",i=!1,s=Y,o=(n="advanced_disable_flags")in(e=l)&&!G(e[n]),a=r in e&&!G(e[r]),o?e[n]:a?(s&&s.warn("Config field '"+r+"' is deprecated. Please use '"+n+"' instead. The old field will be removed in a future major version."),e[r]):i)}Ns(e){if(ke(this.config.before_send))return e;var n=Be(this.config.before_send)?this.config.before_send:[this.config.before_send],r=e;for(var i of n){if(r=i(r),ke(r)){var s="Event '"+e.event+"' was rejected in beforeSend function";return KG(e.event)?Y.warn(s+". This can cause unexpected behavior."):Y.info(s),null}r.properties&&!fs(r.properties)||Y.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return r}getPageViewId(){var e;return(e=this.pageViewManager.pe)==null?void 0:e.pageViewId}captureTraceFeedback(e,n){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:n})}captureTraceMetric(e,n,r){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:n,$ai_metric_value:String(r)})}}(function(t,e){for(var n=0;n<e.length;n++)t.prototype[e[n]]=JG(t.prototype[e[n]])})(Ou,["identify"]);var qw,os=(qw=Zo[ss]=new Ou,function(){function t(){t.done||(t.done=!0,XA=!1,Ie(Zo,function(e){e._dom_loaded()}))}J!=null&&J.addEventListener?J.readyState==="complete"?t():He(J,"DOMContentLoaded",t,{capture:!1}):O&&Y.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),qw),JA=m.createContext({client:os});function QA(t,e,n){if(n===void 0&&(n=new WeakMap),t===e)return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(n.has(t)&&n.get(t)===e)return!0;n.set(t,e);var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(var s=0,o=r;s<o.length;s++){var a=o[s];if(!i.includes(a)||!QA(t[a],e[a],n))return!1}return!0}function cJ(t){var e=t.children,n=t.client,r=t.apiKey,i=t.options,s=m.useRef(null),o=m.useMemo(function(){return n?(r&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),i&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),n):(r||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),os)},[n,r,JSON.stringify(i)]);return m.useEffect(function(){if(!n){var a=s.current;a?(r!==a.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),i&&!QA(i,a.options)&&os.set_config(i),s.current={apiKey:r,options:i??{}}):(os.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),os.init(r,i),s.current={apiKey:r,options:i??{}})}},[n,r,JSON.stringify(i)]),H.createElement(JA.Provider,{value:{client:o}},e)}var yp=function(t,e){return yp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},yp(t,e)};function uJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");yp(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var hh=function(t){return typeof t=="function"},dJ={componentStack:null,exceptionEvent:null,error:null},hJ={INVALID_FALLBACK:"[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."};(function(t){uJ(e,t);function e(n){var r=t.call(this,n)||this;return r.state=dJ,r}return e.prototype.componentDidCatch=function(n,r){var i=this.props.additionalProperties,s;hh(i)?s=i(n):typeof i=="object"&&(s=i);var o=this.context.client,a=o.captureException(n,s),l=r.componentStack;this.setState({error:n,componentStack:l,exceptionEvent:a})},e.prototype.render=function(){var n=this.props,r=n.children,i=n.fallback,s=this.state;if(s.componentStack==null)return hh(r)?r():r;var o=hh(i)?H.createElement(i,{error:s.error,componentStack:s.componentStack,exceptionEvent:s.exceptionEvent}):i;return H.isValidElement(o)?o:(console.warn(hJ.INVALID_FALLBACK),H.createElement(H.Fragment,null))},e.contextType=JA,e})(H.Component);const fJ={api_host:"https://us.i.posthog.com",person_profiles:"identified_only"};sx(document.getElementById("root")).render(p.jsx(cJ,{apiKey:"phc_EnMFULqgEJG0b6gFs63xM01gbG6gxVqxirdZ18muTZM",options:fJ,children:p.jsx(zG,{})}));
